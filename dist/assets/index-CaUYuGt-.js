(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Gp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lu={exports:{}},Yi={},au={exports:{}},Z={};var Nf;function Yy(){if(Nf)return Z;Nf=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function V(C,R,J){this.props=C,this.context=R,this.refs=j,this.updater=J||D}V.prototype.isReactComponent={},V.prototype.setState=function(C,R){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,R,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function H(){}H.prototype=V.prototype;function X(C,R,J){this.props=C,this.context=R,this.refs=j,this.updater=J||D}var ae=X.prototype=new H;ae.constructor=X,x(ae,V.prototype),ae.isPureReactComponent=!0;var ce=Array.isArray,Ye=Object.prototype.hasOwnProperty,ze={current:null},et={key:!0,ref:!0,__self:!0,__source:!0};function gt(C,R,J){var ee,se={},oe=null,me=null;if(R!=null)for(ee in R.ref!==void 0&&(me=R.ref),R.key!==void 0&&(oe=""+R.key),R)Ye.call(R,ee)&&!et.hasOwnProperty(ee)&&(se[ee]=R[ee]);var de=arguments.length-2;if(de===1)se.children=J;else if(1<de){for(var Ee=Array(de),ct=0;ct<de;ct++)Ee[ct]=arguments[ct+2];se.children=Ee}if(C&&C.defaultProps)for(ee in de=C.defaultProps,de)se[ee]===void 0&&(se[ee]=de[ee]);return{$$typeof:i,type:C,key:oe,ref:me,props:se,_owner:ze.current}}function mn(C,R){return{$$typeof:i,type:C.type,key:R,ref:C.ref,props:C.props,_owner:C._owner}}function Qt(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function Gn(C){var R={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return R[J]})}var Ut=/\/+/g;function ut(C,R){return typeof C=="object"&&C!==null&&C.key!=null?Gn(""+C.key):R.toString(36)}function kt(C,R,J,ee,se){var oe=typeof C;(oe==="undefined"||oe==="boolean")&&(C=null);var me=!1;if(C===null)me=!0;else switch(oe){case"string":case"number":me=!0;break;case"object":switch(C.$$typeof){case i:case e:me=!0}}if(me)return me=C,se=se(me),C=ee===""?"."+ut(me,0):ee,ce(se)?(J="",C!=null&&(J=C.replace(Ut,"$&/")+"/"),kt(se,R,J,"",function(ct){return ct})):se!=null&&(Qt(se)&&(se=mn(se,J+(!se.key||me&&me.key===se.key?"":(""+se.key).replace(Ut,"$&/")+"/")+C)),R.push(se)),1;if(me=0,ee=ee===""?".":ee+":",ce(C))for(var de=0;de<C.length;de++){oe=C[de];var Ee=ee+ut(oe,de);me+=kt(oe,R,J,Ee,se)}else if(Ee=E(C),typeof Ee=="function")for(C=Ee.call(C),de=0;!(oe=C.next()).done;)oe=oe.value,Ee=ee+ut(oe,de++),me+=kt(oe,R,J,Ee,se);else if(oe==="object")throw R=String(C),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return me}function zt(C,R,J){if(C==null)return C;var ee=[],se=0;return kt(C,ee,"","",function(oe){return R.call(J,oe,se++)}),ee}function tt(C){if(C._status===-1){var R=C._result;R=R(),R.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=R)}if(C._status===1)return C._result.default;throw C._result}var Te={current:null},M={transition:null},K={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:M,ReactCurrentOwner:ze};function U(){throw Error("act(...) is not supported in production builds of React.")}return Z.Children={map:zt,forEach:function(C,R,J){zt(C,function(){R.apply(this,arguments)},J)},count:function(C){var R=0;return zt(C,function(){R++}),R},toArray:function(C){return zt(C,function(R){return R})||[]},only:function(C){if(!Qt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Z.Component=V,Z.Fragment=r,Z.Profiler=l,Z.PureComponent=X,Z.StrictMode=s,Z.Suspense=m,Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Z.act=U,Z.cloneElement=function(C,R,J){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ee=x({},C.props),se=C.key,oe=C.ref,me=C._owner;if(R!=null){if(R.ref!==void 0&&(oe=R.ref,me=ze.current),R.key!==void 0&&(se=""+R.key),C.type&&C.type.defaultProps)var de=C.type.defaultProps;for(Ee in R)Ye.call(R,Ee)&&!et.hasOwnProperty(Ee)&&(ee[Ee]=R[Ee]===void 0&&de!==void 0?de[Ee]:R[Ee])}var Ee=arguments.length-2;if(Ee===1)ee.children=J;else if(1<Ee){de=Array(Ee);for(var ct=0;ct<Ee;ct++)de[ct]=arguments[ct+2];ee.children=de}return{$$typeof:i,type:C.type,key:se,ref:oe,props:ee,_owner:me}},Z.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},Z.createElement=gt,Z.createFactory=function(C){var R=gt.bind(null,C);return R.type=C,R},Z.createRef=function(){return{current:null}},Z.forwardRef=function(C){return{$$typeof:p,render:C}},Z.isValidElement=Qt,Z.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:tt}},Z.memo=function(C,R){return{$$typeof:g,type:C,compare:R===void 0?null:R}},Z.startTransition=function(C){var R=M.transition;M.transition={};try{C()}finally{M.transition=R}},Z.unstable_act=U,Z.useCallback=function(C,R){return Te.current.useCallback(C,R)},Z.useContext=function(C){return Te.current.useContext(C)},Z.useDebugValue=function(){},Z.useDeferredValue=function(C){return Te.current.useDeferredValue(C)},Z.useEffect=function(C,R){return Te.current.useEffect(C,R)},Z.useId=function(){return Te.current.useId()},Z.useImperativeHandle=function(C,R,J){return Te.current.useImperativeHandle(C,R,J)},Z.useInsertionEffect=function(C,R){return Te.current.useInsertionEffect(C,R)},Z.useLayoutEffect=function(C,R){return Te.current.useLayoutEffect(C,R)},Z.useMemo=function(C,R){return Te.current.useMemo(C,R)},Z.useReducer=function(C,R,J){return Te.current.useReducer(C,R,J)},Z.useRef=function(C){return Te.current.useRef(C)},Z.useState=function(C){return Te.current.useState(C)},Z.useSyncExternalStore=function(C,R,J){return Te.current.useSyncExternalStore(C,R,J)},Z.useTransition=function(){return Te.current.useTransition()},Z.version="18.3.1",Z}var Rf;function Ku(){return Rf||(Rf=1,au.exports=Yy()),au.exports}var Pf;function Xy(){if(Pf)return Yi;Pf=1;var i=Ku(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,g){var S,w={},E=null,D=null;g!==void 0&&(E=""+g),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(D=m.ref);for(S in m)s.call(m,S)&&!c.hasOwnProperty(S)&&(w[S]=m[S]);if(p&&p.defaultProps)for(S in m=p.defaultProps,m)w[S]===void 0&&(w[S]=m[S]);return{$$typeof:e,type:p,key:E,ref:D,props:w,_owner:l.current}}return Yi.Fragment=r,Yi.jsx=h,Yi.jsxs=h,Yi}var Af;function Jy(){return Af||(Af=1,lu.exports=Xy()),lu.exports}var Y=Jy(),Ft=Ku();const Zy=Gp(Ft);var Do={},uu={exports:{}},lt={},cu={exports:{}},du={};var xf;function ev(){return xf||(xf=1,(function(i){function e(M,K){var U=M.length;M.push(K);e:for(;0<U;){var C=U-1>>>1,R=M[C];if(0<l(R,K))M[C]=K,M[U]=R,U=C;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var K=M[0],U=M.pop();if(U!==K){M[0]=U;e:for(var C=0,R=M.length,J=R>>>1;C<J;){var ee=2*(C+1)-1,se=M[ee],oe=ee+1,me=M[oe];if(0>l(se,U))oe<R&&0>l(me,se)?(M[C]=me,M[oe]=U,C=oe):(M[C]=se,M[ee]=U,C=ee);else if(oe<R&&0>l(me,U))M[C]=me,M[oe]=U,C=oe;else break e}}return K}function l(M,K){var U=M.sortIndex-K.sortIndex;return U!==0?U:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var m=[],g=[],S=1,w=null,E=3,D=!1,x=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(M){for(var K=r(g);K!==null;){if(K.callback===null)s(g);else if(K.startTime<=M)s(g),K.sortIndex=K.expirationTime,e(m,K);else break;K=r(g)}}function ce(M){if(j=!1,ae(M),!x)if(r(m)!==null)x=!0,tt(Ye);else{var K=r(g);K!==null&&Te(ce,K.startTime-M)}}function Ye(M,K){x=!1,j&&(j=!1,H(gt),gt=-1),D=!0;var U=E;try{for(ae(K),w=r(m);w!==null&&(!(w.expirationTime>K)||M&&!Gn());){var C=w.callback;if(typeof C=="function"){w.callback=null,E=w.priorityLevel;var R=C(w.expirationTime<=K);K=i.unstable_now(),typeof R=="function"?w.callback=R:w===r(m)&&s(m),ae(K)}else s(m);w=r(m)}if(w!==null)var J=!0;else{var ee=r(g);ee!==null&&Te(ce,ee.startTime-K),J=!1}return J}finally{w=null,E=U,D=!1}}var ze=!1,et=null,gt=-1,mn=5,Qt=-1;function Gn(){return!(i.unstable_now()-Qt<mn)}function Ut(){if(et!==null){var M=i.unstable_now();Qt=M;var K=!0;try{K=et(!0,M)}finally{K?ut():(ze=!1,et=null)}}else ze=!1}var ut;if(typeof X=="function")ut=function(){X(Ut)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,zt=kt.port2;kt.port1.onmessage=Ut,ut=function(){zt.postMessage(null)}}else ut=function(){V(Ut,0)};function tt(M){et=M,ze||(ze=!0,ut())}function Te(M,K){gt=V(function(){M(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){x||D||(x=!0,tt(Ye))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mn=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var U=E;E=K;try{return M()}finally{E=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=E;E=M;try{return K()}finally{E=U}},i.unstable_scheduleCallback=function(M,K,U){var C=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?C+U:C):U=C,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,M={id:S++,callback:K,priorityLevel:M,startTime:U,expirationTime:R,sortIndex:-1},U>C?(M.sortIndex=U,e(g,M),r(m)===null&&M===r(g)&&(j?(H(gt),gt=-1):j=!0,Te(ce,U-C))):(M.sortIndex=R,e(m,M),x||D||(x=!0,tt(Ye))),M},i.unstable_shouldYield=Gn,i.unstable_wrapCallback=function(M){var K=E;return function(){var U=E;E=K;try{return M.apply(this,arguments)}finally{E=U}}}})(du)),du}var Of;function tv(){return Of||(Of=1,cu.exports=ev()),cu.exports}var Df;function nv(){if(Df)return lt;Df=1;var i=Ku(),e=tv();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(t,n){h(t,n),h(t+"Capture",n)}function h(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},w={};function E(t){return m.call(w,t)?!0:m.call(S,t)?!1:g.test(t)?w[t]=!0:(S[t]=!0,!1)}function D(t,n,o,a){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x(t,n,o,a){if(n===null||typeof n>"u"||D(t,n,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(t,n,o,a,u,d,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=f}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){V[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];V[n]=new j(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){V[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){V[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){V[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){V[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){V[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){V[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){V[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(H,X);V[n]=new j(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(H,X);V[n]=new j(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(H,X);V[n]=new j(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){V[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){V[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function ae(t,n,o,a){var u=V.hasOwnProperty(n)?V[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(x(n,o,u,a)&&(o=null),a||u===null?E(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):u.mustUseProperty?t[u.propertyName]=o===null?u.type===3?!1:"":o:(n=u.attributeName,a=u.attributeNamespace,o===null?t.removeAttribute(n):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,a?t.setAttributeNS(a,n,o):t.setAttribute(n,o))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),ze=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),gt=Symbol.for("react.strict_mode"),mn=Symbol.for("react.profiler"),Qt=Symbol.for("react.provider"),Gn=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),M=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var U=Object.assign,C;function R(t){if(C===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+t}var J=!1;function ee(t,n){if(!t||J)return"";J=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var a=T}Reflect.construct(t,[],n)}else{try{n.call()}catch(T){a=T}t.call(n.prototype)}else{try{throw Error()}catch(T){a=T}t()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=a.stack.split(`
`),f=u.length-1,_=d.length-1;1<=f&&0<=_&&u[f]!==d[_];)_--;for(;1<=f&&0<=_;f--,_--)if(u[f]!==d[_]){if(f!==1||_!==1)do if(f--,_--,0>_||u[f]!==d[_]){var y=`
`+u[f].replace(" at new "," at ");return t.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",t.displayName)),y}while(1<=f&&0<=_);break}}}finally{J=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?R(t):""}function se(t){switch(t.tag){case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return t=ee(t.type,!1),t;case 11:return t=ee(t.type.render,!1),t;case 1:return t=ee(t.type,!0),t;default:return""}}function oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case ze:return"Portal";case mn:return"Profiler";case gt:return"StrictMode";case ut:return"Suspense";case kt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gn:return(t.displayName||"Context")+".Consumer";case Qt:return(t._context.displayName||"Context")+".Provider";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zt:return n=t.displayName||null,n!==null?n:oe(t.type)||"Memo";case tt:n=t._payload,t=t._init;try{return oe(t(n))}catch{}}return null}function me(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===gt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function de(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ee(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(t){var n=Ee(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(f){a=""+f,d.call(this,f)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Es(t){t._valueTracker||(t._valueTracker=ct(t))}function Oc(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return t&&(a=Ee(t)?t.checked?"true":"false":t.value),t=a,t!==o?(n.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pl(t,n){var o=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Dc(t,n){var o=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;o=de(n.value!=null?n.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Lc(t,n){n=n.checked,n!=null&&ae(t,"checked",n,!1)}function ml(t,n){Lc(t,n);var o=de(n.value),a=n.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?gl(t,n.type,o):n.hasOwnProperty("defaultValue")&&gl(t,n.type,de(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Mc(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function gl(t,n,o){(n!=="number"||Cs(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var di=Array.isArray;function yr(t,n,o,a){if(t=t.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<t.length;o++)u=n.hasOwnProperty("$"+t[o].value),t[o].selected!==u&&(t[o].selected=u),u&&a&&(t[o].defaultSelected=!0)}else{for(o=""+de(o),n=null,u=0;u<t.length;u++){if(t[u].value===o){t[u].selected=!0,a&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function _l(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fc(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(di(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:de(o)}}function bc(t,n){var o=de(n.value),a=de(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Uc(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function zc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?zc(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Is,Bc=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,u){MSApp.execUnsafeLocalFunction(function(){return t(n,o,a,u)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function hi(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e_=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(t){e_.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),fi[n]=fi[t]})});function Wc(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||fi.hasOwnProperty(t)&&fi[t]?(""+n).trim():n+"px"}function jc(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var a=o.indexOf("--")===0,u=Wc(o,n[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,u):t[o]=u}}var t_=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(t,n){if(n){if(t_[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function wl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sl=null;function El(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cl=null,vr=null,wr=null;function Hc(t){if(t=Mi(t)){if(typeof Cl!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Ks(n),Cl(t.stateNode,t.type,n))}}function Vc(t){vr?wr?wr.push(t):wr=[t]:vr=t}function $c(){if(vr){var t=vr,n=wr;if(wr=vr=null,Hc(t),n)for(t=0;t<n.length;t++)Hc(n[t])}}function Gc(t,n){return t(n)}function Kc(){}var Il=!1;function qc(t,n,o){if(Il)return t(n,o);Il=!0;try{return Gc(t,n,o)}finally{Il=!1,(vr!==null||wr!==null)&&(Kc(),$c())}}function pi(t,n){var o=t.stateNode;if(o===null)return null;var a=Ks(o);if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var kl=!1;if(p)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){kl=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{kl=!1}function n_(t,n,o,a,u,d,f,_,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(o,T)}catch(P){this.onError(P)}}var gi=!1,ks=null,Ts=!1,Tl=null,r_={onError:function(t){gi=!0,ks=t}};function i_(t,n,o,a,u,d,f,_,y){gi=!1,ks=null,n_.apply(r_,arguments)}function s_(t,n,o,a,u,d,f,_,y){if(i_.apply(this,arguments),gi){if(gi){var T=ks;gi=!1,ks=null}else throw Error(r(198));Ts||(Ts=!0,Tl=T)}}function Kn(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Qc(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Yc(t){if(Kn(t)!==t)throw Error(r(188))}function o_(t){var n=t.alternate;if(!n){if(n=Kn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var o=t,a=n;;){var u=o.return;if(u===null)break;var d=u.alternate;if(d===null){if(a=u.return,a!==null){o=a;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===o)return Yc(u),t;if(d===a)return Yc(u),n;d=d.sibling}throw Error(r(188))}if(o.return!==a.return)o=u,a=d;else{for(var f=!1,_=u.child;_;){if(_===o){f=!0,o=u,a=d;break}if(_===a){f=!0,a=u,o=d;break}_=_.sibling}if(!f){for(_=d.child;_;){if(_===o){f=!0,o=d,a=u;break}if(_===a){f=!0,a=d,o=u;break}_=_.sibling}if(!f)throw Error(r(189))}}if(o.alternate!==a)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:n}function Xc(t){return t=o_(t),t!==null?Jc(t):null}function Jc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Jc(t);if(n!==null)return n;t=t.sibling}return null}var Zc=e.unstable_scheduleCallback,ed=e.unstable_cancelCallback,l_=e.unstable_shouldYield,a_=e.unstable_requestPaint,Re=e.unstable_now,u_=e.unstable_getCurrentPriorityLevel,Nl=e.unstable_ImmediatePriority,td=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,c_=e.unstable_LowPriority,nd=e.unstable_IdlePriority,Rs=null,Bt=null;function d_(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Rs,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:p_,h_=Math.log,f_=Math.LN2;function p_(t){return t>>>=0,t===0?32:31-(h_(t)/f_|0)|0}var Ps=64,As=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xs(t,n){var o=t.pendingLanes;if(o===0)return 0;var a=0,u=t.suspendedLanes,d=t.pingedLanes,f=o&268435455;if(f!==0){var _=f&~u;_!==0?a=_i(_):(d&=f,d!==0&&(a=_i(d)))}else f=o&~u,f!==0?a=_i(f):d!==0&&(a=_i(d));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((a&4)!==0&&(a|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)o=31-Tt(n),u=1<<o,a|=t[o],n&=~u;return a}function m_(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(t,n){for(var o=t.suspendedLanes,a=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes;0<d;){var f=31-Tt(d),_=1<<f,y=u[f];y===-1?((_&o)===0||(_&a)!==0)&&(u[f]=m_(_,n)):y<=n&&(t.expiredLanes|=_),d&=~_}}function Rl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rd(){var t=Ps;return Ps<<=1,(Ps&4194240)===0&&(Ps=64),t}function Pl(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function yi(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Tt(n),t[n]=o}function __(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var u=31-Tt(o),d=1<<u;n[u]=0,a[u]=-1,t[u]=-1,o&=~d}}function Al(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var a=31-Tt(o),u=1<<a;u&n|t[a]&n&&(t[a]|=n),o&=~u}}var he=0;function id(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var sd,xl,od,ld,ad,Ol=!1,Os=[],gn=null,_n=null,yn=null,vi=new Map,wi=new Map,vn=[],y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(t,n){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(n.pointerId)}}function Si(t,n,o,a,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[u]},n!==null&&(n=Mi(n),n!==null&&xl(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function v_(t,n,o,a,u){switch(n){case"focusin":return gn=Si(gn,t,n,o,a,u),!0;case"dragenter":return _n=Si(_n,t,n,o,a,u),!0;case"mouseover":return yn=Si(yn,t,n,o,a,u),!0;case"pointerover":var d=u.pointerId;return vi.set(d,Si(vi.get(d)||null,t,n,o,a,u)),!0;case"gotpointercapture":return d=u.pointerId,wi.set(d,Si(wi.get(d)||null,t,n,o,a,u)),!0}return!1}function cd(t){var n=qn(t.target);if(n!==null){var o=Kn(n);if(o!==null){if(n=o.tag,n===13){if(n=Qc(o),n!==null){t.blockedOn=n,ad(t.priority,function(){od(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Ll(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Sl=a,o.target.dispatchEvent(a),Sl=null}else return n=Mi(o),n!==null&&xl(n),t.blockedOn=o,!1;n.shift()}return!0}function dd(t,n,o){Ds(t)&&o.delete(n)}function w_(){Ol=!1,gn!==null&&Ds(gn)&&(gn=null),_n!==null&&Ds(_n)&&(_n=null),yn!==null&&Ds(yn)&&(yn=null),vi.forEach(dd),wi.forEach(dd)}function Ei(t,n){t.blockedOn===n&&(t.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,w_)))}function Ci(t){function n(u){return Ei(u,t)}if(0<Os.length){Ei(Os[0],t);for(var o=1;o<Os.length;o++){var a=Os[o];a.blockedOn===t&&(a.blockedOn=null)}}for(gn!==null&&Ei(gn,t),_n!==null&&Ei(_n,t),yn!==null&&Ei(yn,t),vi.forEach(n),wi.forEach(n),o=0;o<vn.length;o++)a=vn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<vn.length&&(o=vn[0],o.blockedOn===null);)cd(o),o.blockedOn===null&&vn.shift()}var Sr=ce.ReactCurrentBatchConfig,Ls=!0;function S_(t,n,o,a){var u=he,d=Sr.transition;Sr.transition=null;try{he=1,Dl(t,n,o,a)}finally{he=u,Sr.transition=d}}function E_(t,n,o,a){var u=he,d=Sr.transition;Sr.transition=null;try{he=4,Dl(t,n,o,a)}finally{he=u,Sr.transition=d}}function Dl(t,n,o,a){if(Ls){var u=Ll(t,n,o,a);if(u===null)Xl(t,n,a,Ms,o),ud(t,a);else if(v_(u,t,n,o,a))a.stopPropagation();else if(ud(t,a),n&4&&-1<y_.indexOf(t)){for(;u!==null;){var d=Mi(u);if(d!==null&&sd(d),d=Ll(t,n,o,a),d===null&&Xl(t,n,a,Ms,o),d===u)break;u=d}u!==null&&a.stopPropagation()}else Xl(t,n,a,null,o)}}var Ms=null;function Ll(t,n,o,a){if(Ms=null,t=El(a),t=qn(t),t!==null)if(n=Kn(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Qc(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Ms=t,null}function hd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case Nl:return 1;case td:return 4;case Ns:case c_:return 16;case nd:return 536870912;default:return 16}default:return 16}}var wn=null,Ml=null,Fs=null;function fd(){if(Fs)return Fs;var t,n=Ml,o=n.length,a,u="value"in wn?wn.value:wn.textContent,d=u.length;for(t=0;t<o&&n[t]===u[t];t++);var f=o-t;for(a=1;a<=f&&n[o-a]===u[d-a];a++);return Fs=u.slice(t,1<a?1-a:void 0)}function bs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function pd(){return!1}function dt(t){function n(o,a,u,d,f){this._reactName=o,this._targetInst=u,this.type=a,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(o=t[_],this[_]=o?o(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Us:pd,this.isPropagationStopped=pd,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),n}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=dt(Er),Ii=U({},Er,{view:0,detail:0}),C_=dt(Ii),bl,Ul,ki,zs=U({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(bl=t.screenX-ki.screenX,Ul=t.screenY-ki.screenY):Ul=bl=0,ki=t),bl)},movementY:function(t){return"movementY"in t?t.movementY:Ul}}),md=dt(zs),I_=U({},zs,{dataTransfer:0}),k_=dt(I_),T_=U({},Ii,{relatedTarget:0}),zl=dt(T_),N_=U({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=dt(N_),P_=U({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A_=dt(P_),x_=U({},Er,{data:0}),gd=dt(x_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M_(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=L_[t])?!!n[t]:!1}function Bl(){return M_}var F_=U({},Ii,{key:function(t){if(t.key){var n=O_[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b_=dt(F_),U_=U({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=dt(U_),z_=U({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),B_=dt(z_),W_=U({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=dt(W_),H_=U({},zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V_=dt(H_),$_=[9,13,27,32],Wl=p&&"CompositionEvent"in window,Ti=null;p&&"documentMode"in document&&(Ti=document.documentMode);var G_=p&&"TextEvent"in window&&!Ti,yd=p&&(!Wl||Ti&&8<Ti&&11>=Ti),vd=" ",wd=!1;function Sd(t,n){switch(t){case"keyup":return $_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function K_(t,n){switch(t){case"compositionend":return Ed(n);case"keypress":return n.which!==32?null:(wd=!0,vd);case"textInput":return t=n.data,t===vd&&wd?null:t;default:return null}}function q_(t,n){if(Cr)return t==="compositionend"||!Wl&&Sd(t,n)?(t=fd(),Fs=Ml=wn=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yd&&n.locale!=="ko"?null:n.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Q_[t.type]:n==="textarea"}function Id(t,n,o,a){Vc(a),n=Vs(n,"onChange"),0<n.length&&(o=new Fl("onChange","change",null,o,a),t.push({event:o,listeners:n}))}var Ni=null,Ri=null;function Y_(t){jd(t,0)}function Bs(t){var n=Rr(t);if(Oc(n))return t}function X_(t,n){if(t==="change")return n}var kd=!1;if(p){var jl;if(p){var Hl="oninput"in document;if(!Hl){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),Hl=typeof Td.oninput=="function"}jl=Hl}else jl=!1;kd=jl&&(!document.documentMode||9<document.documentMode)}function Nd(){Ni&&(Ni.detachEvent("onpropertychange",Rd),Ri=Ni=null)}function Rd(t){if(t.propertyName==="value"&&Bs(Ri)){var n=[];Id(n,Ri,t,El(t)),qc(Y_,n)}}function J_(t,n,o){t==="focusin"?(Nd(),Ni=n,Ri=o,Ni.attachEvent("onpropertychange",Rd)):t==="focusout"&&Nd()}function Z_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bs(Ri)}function ey(t,n){if(t==="click")return Bs(n)}function ty(t,n){if(t==="input"||t==="change")return Bs(n)}function ny(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nt=typeof Object.is=="function"?Object.is:ny;function Pi(t,n){if(Nt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var u=o[a];if(!m.call(n,u)||!Nt(t[u],n[u]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ad(t,n){var o=Pd(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=n&&a>=n)return{node:o,offset:n-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pd(o)}}function xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Od(){for(var t=window,n=Cs();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=Cs(t.document)}return n}function Vl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ry(t){var n=Od(),o=t.focusedElem,a=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&xd(o.ownerDocument.documentElement,o)){if(a!==null&&Vl(o)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=o.textContent.length,d=Math.min(a.start,u);a=a.end===void 0?d:Math.min(a.end,u),!t.extend&&d>a&&(u=a,a=d,d=u),u=Ad(o,d);var f=Ad(o,a);u&&f&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==f.node||t.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),d>a?(t.addRange(n),t.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iy=p&&"documentMode"in document&&11>=document.documentMode,Ir=null,$l=null,Ai=null,Gl=!1;function Dd(t,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gl||Ir==null||Ir!==Cs(a)||(a=Ir,"selectionStart"in a&&Vl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ai&&Pi(Ai,a)||(Ai=a,a=Vs($l,"onSelect"),0<a.length&&(n=new Fl("onSelect","select",null,n,o),t.push({event:n,listeners:a}),n.target=Ir)))}function Ws(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var kr={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Kl={},Ld={};p&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function js(t){if(Kl[t])return Kl[t];if(!kr[t])return t;var n=kr[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Ld)return Kl[t]=n[o];return t}var Md=js("animationend"),Fd=js("animationiteration"),bd=js("animationstart"),Ud=js("transitionend"),zd=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(t,n){zd.set(t,n),c(n,[t])}for(var ql=0;ql<Bd.length;ql++){var Ql=Bd[ql],sy=Ql.toLowerCase(),oy=Ql[0].toUpperCase()+Ql.slice(1);Sn(sy,"on"+oy)}Sn(Md,"onAnimationEnd"),Sn(Fd,"onAnimationIteration"),Sn(bd,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(Ud,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Wd(t,n,o){var a=t.type||"unknown-event";t.currentTarget=o,s_(a,n,void 0,t),t.currentTarget=null}function jd(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],u=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var f=a.length-1;0<=f;f--){var _=a[f],y=_.instance,T=_.currentTarget;if(_=_.listener,y!==d&&u.isPropagationStopped())break e;Wd(u,_,T),d=y}else for(f=0;f<a.length;f++){if(_=a[f],y=_.instance,T=_.currentTarget,_=_.listener,y!==d&&u.isPropagationStopped())break e;Wd(u,_,T),d=y}}}if(Ts)throw t=Tl,Ts=!1,Tl=null,t}function _e(t,n){var o=n[ra];o===void 0&&(o=n[ra]=new Set);var a=t+"__bubble";o.has(a)||(Hd(n,t,2,!1),o.add(a))}function Yl(t,n,o){var a=0;n&&(a|=4),Hd(o,t,a,n)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Oi(t){if(!t[Hs]){t[Hs]=!0,s.forEach(function(o){o!=="selectionchange"&&(ly.has(o)||Yl(o,!1,t),Yl(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Hs]||(n[Hs]=!0,Yl("selectionchange",!1,n))}}function Hd(t,n,o,a){switch(hd(n)){case 1:var u=S_;break;case 4:u=E_;break;default:u=Dl}o=u.bind(null,n,o,t),u=void 0,!kl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?t.addEventListener(n,o,{capture:!0,passive:u}):t.addEventListener(n,o,!0):u!==void 0?t.addEventListener(n,o,{passive:u}):t.addEventListener(n,o,!1)}function Xl(t,n,o,a,u){var d=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var _=a.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(f===4)for(f=a.return;f!==null;){var y=f.tag;if((y===3||y===4)&&(y=f.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;f=f.return}for(;_!==null;){if(f=qn(_),f===null)return;if(y=f.tag,y===5||y===6){a=d=f;continue e}_=_.parentNode}}a=a.return}qc(function(){var T=d,P=El(o),A=[];e:{var N=zd.get(t);if(N!==void 0){var F=Fl,z=t;switch(t){case"keypress":if(bs(o)===0)break e;case"keydown":case"keyup":F=b_;break;case"focusin":z="focus",F=zl;break;case"focusout":z="blur",F=zl;break;case"beforeblur":case"afterblur":F=zl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=B_;break;case Md:case Fd:case bd:F=R_;break;case Ud:F=j_;break;case"scroll":F=C_;break;case"wheel":F=V_;break;case"copy":case"cut":case"paste":F=A_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=_d}var B=(n&4)!==0,Pe=!B&&t==="scroll",I=B?N!==null?N+"Capture":null:N;B=[];for(var v=T,k;v!==null;){k=v;var O=k.stateNode;if(k.tag===5&&O!==null&&(k=O,I!==null&&(O=pi(v,I),O!=null&&B.push(Di(v,O,k)))),Pe)break;v=v.return}0<B.length&&(N=new F(N,z,null,o,P),A.push({event:N,listeners:B}))}}if((n&7)===0){e:{if(N=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",N&&o!==Sl&&(z=o.relatedTarget||o.fromElement)&&(qn(z)||z[Yt]))break e;if((F||N)&&(N=P.window===P?P:(N=P.ownerDocument)?N.defaultView||N.parentWindow:window,F?(z=o.relatedTarget||o.toElement,F=T,z=z?qn(z):null,z!==null&&(Pe=Kn(z),z!==Pe||z.tag!==5&&z.tag!==6)&&(z=null)):(F=null,z=T),F!==z)){if(B=md,O="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(B=_d,O="onPointerLeave",I="onPointerEnter",v="pointer"),Pe=F==null?N:Rr(F),k=z==null?N:Rr(z),N=new B(O,v+"leave",F,o,P),N.target=Pe,N.relatedTarget=k,O=null,qn(P)===T&&(B=new B(I,v+"enter",z,o,P),B.target=k,B.relatedTarget=Pe,O=B),Pe=O,F&&z)t:{for(B=F,I=z,v=0,k=B;k;k=Tr(k))v++;for(k=0,O=I;O;O=Tr(O))k++;for(;0<v-k;)B=Tr(B),v--;for(;0<k-v;)I=Tr(I),k--;for(;v--;){if(B===I||I!==null&&B===I.alternate)break t;B=Tr(B),I=Tr(I)}B=null}else B=null;F!==null&&Vd(A,N,F,B,!1),z!==null&&Pe!==null&&Vd(A,Pe,z,B,!0)}}e:{if(N=T?Rr(T):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var W=X_;else if(Cd(N))if(kd)W=ty;else{W=Z_;var $=J_}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=ey);if(W&&(W=W(t,T))){Id(A,W,o,P);break e}$&&$(t,N,T),t==="focusout"&&($=N._wrapperState)&&$.controlled&&N.type==="number"&&gl(N,"number",N.value)}switch($=T?Rr(T):window,t){case"focusin":(Cd($)||$.contentEditable==="true")&&(Ir=$,$l=T,Ai=null);break;case"focusout":Ai=$l=Ir=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Dd(A,o,P);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":Dd(A,o,P)}var G;if(Wl)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Cr?Sd(t,o)&&(q="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(q="onCompositionStart");q&&(yd&&o.locale!=="ko"&&(Cr||q!=="onCompositionStart"?q==="onCompositionEnd"&&Cr&&(G=fd()):(wn=P,Ml="value"in wn?wn.value:wn.textContent,Cr=!0)),$=Vs(T,q),0<$.length&&(q=new gd(q,t,null,o,P),A.push({event:q,listeners:$}),G?q.data=G:(G=Ed(o),G!==null&&(q.data=G)))),(G=G_?K_(t,o):q_(t,o))&&(T=Vs(T,"onBeforeInput"),0<T.length&&(P=new gd("onBeforeInput","beforeinput",null,o,P),A.push({event:P,listeners:T}),P.data=G))}jd(A,n)})}function Di(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Vs(t,n){for(var o=n+"Capture",a=[];t!==null;){var u=t,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=pi(t,o),d!=null&&a.unshift(Di(t,d,u)),d=pi(t,n),d!=null&&a.push(Di(t,d,u))),t=t.return}return a}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vd(t,n,o,a,u){for(var d=n._reactName,f=[];o!==null&&o!==a;){var _=o,y=_.alternate,T=_.stateNode;if(y!==null&&y===a)break;_.tag===5&&T!==null&&(_=T,u?(y=pi(o,d),y!=null&&f.unshift(Di(o,y,_))):u||(y=pi(o,d),y!=null&&f.push(Di(o,y,_)))),o=o.return}f.length!==0&&t.push({event:n,listeners:f})}var ay=/\r\n?/g,uy=/\u0000|\uFFFD/g;function $d(t){return(typeof t=="string"?t:""+t).replace(ay,`
`).replace(uy,"")}function $s(t,n,o){if(n=$d(n),$d(t)!==n&&o)throw Error(r(425))}function Gs(){}var Jl=null,Zl=null;function ea(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(t){return Gd.resolve(null).then(t).catch(hy)}:ta;function hy(t){setTimeout(function(){throw t})}function na(t,n){var o=n,a=0;do{var u=o.nextSibling;if(t.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(a===0){t.removeChild(u),Ci(n);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=u}while(o);Ci(n)}function En(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Kd(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Nr,Li="__reactProps$"+Nr,Yt="__reactContainer$"+Nr,ra="__reactEvents$"+Nr,fy="__reactListeners$"+Nr,py="__reactHandles$"+Nr;function qn(t){var n=t[Wt];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Yt]||o[Wt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=Kd(t);t!==null;){if(o=t[Wt])return o;t=Kd(t)}return n}t=o,o=t.parentNode}return null}function Mi(t){return t=t[Wt]||t[Yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Ks(t){return t[Li]||null}var ia=[],Pr=-1;function Cn(t){return{current:t}}function ye(t){0>Pr||(t.current=ia[Pr],ia[Pr]=null,Pr--)}function ge(t,n){Pr++,ia[Pr]=t.current,t.current=n}var In={},He=Cn(In),nt=Cn(!1),Qn=In;function Ar(t,n){var o=t.type.contextTypes;if(!o)return In;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in o)u[d]=n[d];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function rt(t){return t=t.childContextTypes,t!=null}function qs(){ye(nt),ye(He)}function qd(t,n,o){if(He.current!==In)throw Error(r(168));ge(He,n),ge(nt,o)}function Qd(t,n,o){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(r(108,me(t)||"Unknown",u));return U({},o,a)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,Qn=He.current,ge(He,t),ge(nt,nt.current),!0}function Yd(t,n,o){var a=t.stateNode;if(!a)throw Error(r(169));o?(t=Qd(t,n,Qn),a.__reactInternalMemoizedMergedChildContext=t,ye(nt),ye(He),ge(He,t)):ye(nt),ge(nt,o)}var Xt=null,Ys=!1,sa=!1;function Xd(t){Xt===null?Xt=[t]:Xt.push(t)}function my(t){Ys=!0,Xd(t)}function kn(){if(!sa&&Xt!==null){sa=!0;var t=0,n=he;try{var o=Xt;for(he=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}Xt=null,Ys=!1}catch(u){throw Xt!==null&&(Xt=Xt.slice(t+1)),Zc(Nl,kn),u}finally{he=n,sa=!1}}return null}var xr=[],Or=0,Xs=null,Js=0,_t=[],yt=0,Yn=null,Jt=1,Zt="";function Xn(t,n){xr[Or++]=Js,xr[Or++]=Xs,Xs=t,Js=n}function Jd(t,n,o){_t[yt++]=Jt,_t[yt++]=Zt,_t[yt++]=Yn,Yn=t;var a=Jt;t=Zt;var u=32-Tt(a)-1;a&=~(1<<u),o+=1;var d=32-Tt(n)+u;if(30<d){var f=u-u%5;d=(a&(1<<f)-1).toString(32),a>>=f,u-=f,Jt=1<<32-Tt(n)+u|o<<u|a,Zt=d+t}else Jt=1<<d|o<<u|a,Zt=t}function oa(t){t.return!==null&&(Xn(t,1),Jd(t,1,0))}function la(t){for(;t===Xs;)Xs=xr[--Or],xr[Or]=null,Js=xr[--Or],xr[Or]=null;for(;t===Yn;)Yn=_t[--yt],_t[yt]=null,Zt=_t[--yt],_t[yt]=null,Jt=_t[--yt],_t[yt]=null}var ht=null,ft=null,Ce=!1,Rt=null;function Zd(t,n){var o=Et(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function eh(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,ht=t,ft=En(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,ht=t,ft=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Yn!==null?{id:Jt,overflow:Zt}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Et(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,ht=t,ft=null,!0):!1;default:return!1}}function aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ua(t){if(Ce){var n=ft;if(n){var o=n;if(!eh(t,n)){if(aa(t))throw Error(r(418));n=En(o.nextSibling);var a=ht;n&&eh(t,n)?Zd(a,o):(t.flags=t.flags&-4097|2,Ce=!1,ht=t)}}else{if(aa(t))throw Error(r(418));t.flags=t.flags&-4097|2,Ce=!1,ht=t}}}function th(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function Zs(t){if(t!==ht)return!1;if(!Ce)return th(t),Ce=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!ea(t.type,t.memoizedProps)),n&&(n=ft)){if(aa(t))throw nh(),Error(r(418));for(;n;)Zd(t,n),n=En(n.nextSibling)}if(th(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){ft=En(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}ft=null}}else ft=ht?En(t.stateNode.nextSibling):null;return!0}function nh(){for(var t=ft;t;)t=En(t.nextSibling)}function Dr(){ft=ht=null,Ce=!1}function ca(t){Rt===null?Rt=[t]:Rt.push(t)}var gy=ce.ReactCurrentBatchConfig;function Fi(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var a=o.stateNode}if(!a)throw Error(r(147,t));var u=a,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(f){var _=u.refs;f===null?delete _[d]:_[d]=f},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function eo(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function rh(t){var n=t._init;return n(t._payload)}function ih(t){function n(I,v){if(t){var k=I.deletions;k===null?(I.deletions=[v],I.flags|=16):k.push(v)}}function o(I,v){if(!t)return null;for(;v!==null;)n(I,v),v=v.sibling;return null}function a(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function u(I,v){return I=Dn(I,v),I.index=0,I.sibling=null,I}function d(I,v,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<v?(I.flags|=2,v):k):(I.flags|=2,v)):(I.flags|=1048576,v)}function f(I){return t&&I.alternate===null&&(I.flags|=2),I}function _(I,v,k,O){return v===null||v.tag!==6?(v=tu(k,I.mode,O),v.return=I,v):(v=u(v,k),v.return=I,v)}function y(I,v,k,O){var W=k.type;return W===et?P(I,v,k.props.children,O,k.key):v!==null&&(v.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===tt&&rh(W)===v.type)?(O=u(v,k.props),O.ref=Fi(I,v,k),O.return=I,O):(O=ko(k.type,k.key,k.props,null,I.mode,O),O.ref=Fi(I,v,k),O.return=I,O)}function T(I,v,k,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=nu(k,I.mode,O),v.return=I,v):(v=u(v,k.children||[]),v.return=I,v)}function P(I,v,k,O,W){return v===null||v.tag!==7?(v=sr(k,I.mode,O,W),v.return=I,v):(v=u(v,k),v.return=I,v)}function A(I,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tu(""+v,I.mode,k),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ye:return k=ko(v.type,v.key,v.props,null,I.mode,k),k.ref=Fi(I,null,v),k.return=I,k;case ze:return v=nu(v,I.mode,k),v.return=I,v;case tt:var O=v._init;return A(I,O(v._payload),k)}if(di(v)||K(v))return v=sr(v,I.mode,k,null),v.return=I,v;eo(I,v)}return null}function N(I,v,k,O){var W=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:_(I,v,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ye:return k.key===W?y(I,v,k,O):null;case ze:return k.key===W?T(I,v,k,O):null;case tt:return W=k._init,N(I,v,W(k._payload),O)}if(di(k)||K(k))return W!==null?null:P(I,v,k,O,null);eo(I,k)}return null}function F(I,v,k,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return I=I.get(k)||null,_(v,I,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:return I=I.get(O.key===null?k:O.key)||null,y(v,I,O,W);case ze:return I=I.get(O.key===null?k:O.key)||null,T(v,I,O,W);case tt:var $=O._init;return F(I,v,k,$(O._payload),W)}if(di(O)||K(O))return I=I.get(k)||null,P(v,I,O,W,null);eo(v,O)}return null}function z(I,v,k,O){for(var W=null,$=null,G=v,q=v=0,Me=null;G!==null&&q<k.length;q++){G.index>q?(Me=G,G=null):Me=G.sibling;var le=N(I,G,k[q],O);if(le===null){G===null&&(G=Me);break}t&&G&&le.alternate===null&&n(I,G),v=d(le,v,q),$===null?W=le:$.sibling=le,$=le,G=Me}if(q===k.length)return o(I,G),Ce&&Xn(I,q),W;if(G===null){for(;q<k.length;q++)G=A(I,k[q],O),G!==null&&(v=d(G,v,q),$===null?W=G:$.sibling=G,$=G);return Ce&&Xn(I,q),W}for(G=a(I,G);q<k.length;q++)Me=F(G,I,q,k[q],O),Me!==null&&(t&&Me.alternate!==null&&G.delete(Me.key===null?q:Me.key),v=d(Me,v,q),$===null?W=Me:$.sibling=Me,$=Me);return t&&G.forEach(function(Ln){return n(I,Ln)}),Ce&&Xn(I,q),W}function B(I,v,k,O){var W=K(k);if(typeof W!="function")throw Error(r(150));if(k=W.call(k),k==null)throw Error(r(151));for(var $=W=null,G=v,q=v=0,Me=null,le=k.next();G!==null&&!le.done;q++,le=k.next()){G.index>q?(Me=G,G=null):Me=G.sibling;var Ln=N(I,G,le.value,O);if(Ln===null){G===null&&(G=Me);break}t&&G&&Ln.alternate===null&&n(I,G),v=d(Ln,v,q),$===null?W=Ln:$.sibling=Ln,$=Ln,G=Me}if(le.done)return o(I,G),Ce&&Xn(I,q),W;if(G===null){for(;!le.done;q++,le=k.next())le=A(I,le.value,O),le!==null&&(v=d(le,v,q),$===null?W=le:$.sibling=le,$=le);return Ce&&Xn(I,q),W}for(G=a(I,G);!le.done;q++,le=k.next())le=F(G,I,q,le.value,O),le!==null&&(t&&le.alternate!==null&&G.delete(le.key===null?q:le.key),v=d(le,v,q),$===null?W=le:$.sibling=le,$=le);return t&&G.forEach(function(Qy){return n(I,Qy)}),Ce&&Xn(I,q),W}function Pe(I,v,k,O){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ye:e:{for(var W=k.key,$=v;$!==null;){if($.key===W){if(W=k.type,W===et){if($.tag===7){o(I,$.sibling),v=u($,k.props.children),v.return=I,I=v;break e}}else if($.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===tt&&rh(W)===$.type){o(I,$.sibling),v=u($,k.props),v.ref=Fi(I,$,k),v.return=I,I=v;break e}o(I,$);break}else n(I,$);$=$.sibling}k.type===et?(v=sr(k.props.children,I.mode,O,k.key),v.return=I,I=v):(O=ko(k.type,k.key,k.props,null,I.mode,O),O.ref=Fi(I,v,k),O.return=I,I=O)}return f(I);case ze:e:{for($=k.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){o(I,v.sibling),v=u(v,k.children||[]),v.return=I,I=v;break e}else{o(I,v);break}else n(I,v);v=v.sibling}v=nu(k,I.mode,O),v.return=I,I=v}return f(I);case tt:return $=k._init,Pe(I,v,$(k._payload),O)}if(di(k))return z(I,v,k,O);if(K(k))return B(I,v,k,O);eo(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(o(I,v.sibling),v=u(v,k),v.return=I,I=v):(o(I,v),v=tu(k,I.mode,O),v.return=I,I=v),f(I)):o(I,v)}return Pe}var Lr=ih(!0),sh=ih(!1),to=Cn(null),no=null,Mr=null,da=null;function ha(){da=Mr=no=null}function fa(t){var n=to.current;ye(to),t._currentValue=n}function pa(t,n,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===o)break;t=t.return}}function Fr(t,n){no=t,da=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(it=!0),t.firstContext=null)}function vt(t){var n=t._currentValue;if(da!==t)if(t={context:t,memoizedValue:n,next:null},Mr===null){if(no===null)throw Error(r(308));Mr=t,no.dependencies={lanes:0,firstContext:t}}else Mr=Mr.next=t;return n}var Jn=null;function ma(t){Jn===null?Jn=[t]:Jn.push(t)}function oh(t,n,o,a){var u=n.interleaved;return u===null?(o.next=o,ma(n)):(o.next=u.next,u.next=o),n.interleaved=o,en(t,a)}function en(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Tn=!1;function ga(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Nn(t,n,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ie&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,en(t,o)}return u=a.interleaved,u===null?(n.next=n,ma(a)):(n.next=u.next,u.next=n),a.interleaved=n,en(t,o)}function ro(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,o|=a,n.lanes=o,Al(t,o)}}function ah(t,n){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var u=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?u=d=f:d=d.next=f,o=o.next}while(o!==null);d===null?u=d=n:d=d.next=n}else u=d=n;o={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function io(t,n,o,a){var u=t.updateQueue;Tn=!1;var d=u.firstBaseUpdate,f=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var y=_,T=y.next;y.next=null,f===null?d=T:f.next=T,f=y;var P=t.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==f&&(_===null?P.firstBaseUpdate=T:_.next=T,P.lastBaseUpdate=y))}if(d!==null){var A=u.baseState;f=0,P=T=y=null,_=d;do{var N=_.lane,F=_.eventTime;if((a&N)===N){P!==null&&(P=P.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var z=t,B=_;switch(N=n,F=o,B.tag){case 1:if(z=B.payload,typeof z=="function"){A=z.call(F,A,N);break e}A=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=B.payload,N=typeof z=="function"?z.call(F,A,N):z,N==null)break e;A=U({},A,N);break e;case 2:Tn=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,N=u.effects,N===null?u.effects=[_]:N.push(_))}else F={eventTime:F,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(T=P=F,y=A):P=P.next=F,f|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(P===null&&(y=A),u.baseState=y,u.firstBaseUpdate=T,u.lastBaseUpdate=P,n=u.shared.interleaved,n!==null){u=n;do f|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);tr|=f,t.lanes=f,t.memoizedState=A}}function uh(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],u=a.callback;if(u!==null){if(a.callback=null,a=o,typeof u!="function")throw Error(r(191,u));u.call(a)}}}var bi={},jt=Cn(bi),Ui=Cn(bi),zi=Cn(bi);function Zn(t){if(t===bi)throw Error(r(174));return t}function _a(t,n){switch(ge(zi,n),ge(Ui,t),ge(jt,bi),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:yl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=yl(n,t)}ye(jt),ge(jt,n)}function br(){ye(jt),ye(Ui),ye(zi)}function ch(t){Zn(zi.current);var n=Zn(jt.current),o=yl(n,t.type);n!==o&&(ge(Ui,t),ge(jt,o))}function ya(t){Ui.current===t&&(ye(jt),ye(Ui))}var Ie=Cn(0);function so(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var va=[];function wa(){for(var t=0;t<va.length;t++)va[t]._workInProgressVersionPrimary=null;va.length=0}var oo=ce.ReactCurrentDispatcher,Sa=ce.ReactCurrentBatchConfig,er=0,ke=null,xe=null,De=null,lo=!1,Bi=!1,Wi=0,_y=0;function Ve(){throw Error(r(321))}function Ea(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Nt(t[o],n[o]))return!1;return!0}function Ca(t,n,o,a,u,d){if(er=d,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oo.current=t===null||t.memoizedState===null?Sy:Ey,t=o(a,u),Bi){d=0;do{if(Bi=!1,Wi=0,25<=d)throw Error(r(301));d+=1,De=xe=null,n.updateQueue=null,oo.current=Cy,t=o(a,u)}while(Bi)}if(oo.current=co,n=xe!==null&&xe.next!==null,er=0,De=xe=ke=null,lo=!1,n)throw Error(r(300));return t}function Ia(){var t=Wi!==0;return Wi=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ke.memoizedState=De=t:De=De.next=t,De}function wt(){if(xe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var n=De===null?ke.memoizedState:De.next;if(n!==null)De=n,xe=t;else{if(t===null)throw Error(r(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},De===null?ke.memoizedState=De=t:De=De.next=t}return De}function ji(t,n){return typeof n=="function"?n(t):n}function ka(t){var n=wt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=xe,u=a.baseQueue,d=o.pending;if(d!==null){if(u!==null){var f=u.next;u.next=d.next,d.next=f}a.baseQueue=u=d,o.pending=null}if(u!==null){d=u.next,a=a.baseState;var _=f=null,y=null,T=d;do{var P=T.lane;if((er&P)===P)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:t(a,T.action);else{var A={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(_=y=A,f=a):y=y.next=A,ke.lanes|=P,tr|=P}T=T.next}while(T!==null&&T!==d);y===null?f=a:y.next=_,Nt(a,n.memoizedState)||(it=!0),n.memoizedState=a,n.baseState=f,n.baseQueue=y,o.lastRenderedState=a}if(t=o.interleaved,t!==null){u=t;do d=u.lane,ke.lanes|=d,tr|=d,u=u.next;while(u!==t)}else u===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ta(t){var n=wt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=o.dispatch,u=o.pending,d=n.memoizedState;if(u!==null){o.pending=null;var f=u=u.next;do d=t(d,f.action),f=f.next;while(f!==u);Nt(d,n.memoizedState)||(it=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),o.lastRenderedState=d}return[d,a]}function dh(){}function hh(t,n){var o=ke,a=wt(),u=n(),d=!Nt(a.memoizedState,u);if(d&&(a.memoizedState=u,it=!0),a=a.queue,Na(mh.bind(null,o,a,t),[t]),a.getSnapshot!==n||d||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Hi(9,ph.bind(null,o,a,u,n),void 0,null),Le===null)throw Error(r(349));(er&30)!==0||fh(o,n,u)}return u}function fh(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=ke.updateQueue,n===null?(n={lastEffect:null,stores:null},ke.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function ph(t,n,o,a){n.value=o,n.getSnapshot=a,gh(n)&&_h(t)}function mh(t,n,o){return o(function(){gh(n)&&_h(t)})}function gh(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Nt(t,o)}catch{return!0}}function _h(t){var n=en(t,1);n!==null&&Ot(n,t,1,-1)}function yh(t){var n=Ht();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n.queue=t,t=t.dispatch=wy.bind(null,ke,t),[n.memoizedState,t]}function Hi(t,n,o,a){return t={tag:t,create:n,destroy:o,deps:a,next:null},n=ke.updateQueue,n===null?(n={lastEffect:null,stores:null},ke.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,n.lastEffect=t)),t}function vh(){return wt().memoizedState}function ao(t,n,o,a){var u=Ht();ke.flags|=t,u.memoizedState=Hi(1|n,o,void 0,a===void 0?null:a)}function uo(t,n,o,a){var u=wt();a=a===void 0?null:a;var d=void 0;if(xe!==null){var f=xe.memoizedState;if(d=f.destroy,a!==null&&Ea(a,f.deps)){u.memoizedState=Hi(n,o,d,a);return}}ke.flags|=t,u.memoizedState=Hi(1|n,o,d,a)}function wh(t,n){return ao(8390656,8,t,n)}function Na(t,n){return uo(2048,8,t,n)}function Sh(t,n){return uo(4,2,t,n)}function Eh(t,n){return uo(4,4,t,n)}function Ch(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ih(t,n,o){return o=o!=null?o.concat([t]):null,uo(4,4,Ch.bind(null,n,t),o)}function Ra(){}function kh(t,n){var o=wt();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Ea(n,a[1])?a[0]:(o.memoizedState=[t,n],t)}function Th(t,n){var o=wt();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Ea(n,a[1])?a[0]:(t=t(),o.memoizedState=[t,n],t)}function Nh(t,n,o){return(er&21)===0?(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=o):(Nt(o,n)||(o=rd(),ke.lanes|=o,tr|=o,t.baseState=!0),n)}function yy(t,n){var o=he;he=o!==0&&4>o?o:4,t(!0);var a=Sa.transition;Sa.transition={};try{t(!1),n()}finally{he=o,Sa.transition=a}}function Rh(){return wt().memoizedState}function vy(t,n,o){var a=xn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(t))Ah(n,o);else if(o=oh(t,n,o,a),o!==null){var u=Je();Ot(o,t,a,u),xh(o,n,a)}}function wy(t,n,o){var a=xn(t),u={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(t))Ah(n,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var f=n.lastRenderedState,_=d(f,o);if(u.hasEagerState=!0,u.eagerState=_,Nt(_,f)){var y=n.interleaved;y===null?(u.next=u,ma(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}o=oh(t,n,u,a),o!==null&&(u=Je(),Ot(o,t,a,u),xh(o,n,a))}}function Ph(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function Ah(t,n){Bi=lo=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function xh(t,n,o){if((o&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,o|=a,n.lanes=o,Al(t,o)}}var co={readContext:vt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Sy={readContext:vt,useCallback:function(t,n){return Ht().memoizedState=[t,n===void 0?null:n],t},useContext:vt,useEffect:wh,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,ao(4194308,4,Ch.bind(null,n,t),o)},useLayoutEffect:function(t,n){return ao(4194308,4,t,n)},useInsertionEffect:function(t,n){return ao(4,2,t,n)},useMemo:function(t,n){var o=Ht();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var a=Ht();return n=o!==void 0?o(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=vy.bind(null,ke,t),[a.memoizedState,t]},useRef:function(t){var n=Ht();return t={current:t},n.memoizedState=t},useState:yh,useDebugValue:Ra,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=yh(!1),n=t[0];return t=yy.bind(null,t[1]),Ht().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var a=ke,u=Ht();if(Ce){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Le===null)throw Error(r(349));(er&30)!==0||fh(a,n,o)}u.memoizedState=o;var d={value:o,getSnapshot:n};return u.queue=d,wh(mh.bind(null,a,d,t),[t]),a.flags|=2048,Hi(9,ph.bind(null,a,d,o,n),void 0,null),o},useId:function(){var t=Ht(),n=Le.identifierPrefix;if(Ce){var o=Zt,a=Jt;o=(a&~(1<<32-Tt(a)-1)).toString(32)+o,n=":"+n+"R"+o,o=Wi++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=_y++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Ey={readContext:vt,useCallback:kh,useContext:vt,useEffect:Na,useImperativeHandle:Ih,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Th,useReducer:ka,useRef:vh,useState:function(){return ka(ji)},useDebugValue:Ra,useDeferredValue:function(t){var n=wt();return Nh(n,xe.memoizedState,t)},useTransition:function(){var t=ka(ji)[0],n=wt().memoizedState;return[t,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Rh,unstable_isNewReconciler:!1},Cy={readContext:vt,useCallback:kh,useContext:vt,useEffect:Na,useImperativeHandle:Ih,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Th,useReducer:Ta,useRef:vh,useState:function(){return Ta(ji)},useDebugValue:Ra,useDeferredValue:function(t){var n=wt();return xe===null?n.memoizedState=t:Nh(n,xe.memoizedState,t)},useTransition:function(){var t=Ta(ji)[0],n=wt().memoizedState;return[t,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Rh,unstable_isNewReconciler:!1};function Pt(t,n){if(t&&t.defaultProps){n=U({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function Pa(t,n,o,a){n=t.memoizedState,o=o(a,n),o=o==null?n:U({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ho={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var a=Je(),u=xn(t),d=tn(a,u);d.payload=n,o!=null&&(d.callback=o),n=Nn(t,d,u),n!==null&&(Ot(n,t,u,a),ro(n,t,u))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var a=Je(),u=xn(t),d=tn(a,u);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Nn(t,d,u),n!==null&&(Ot(n,t,u,a),ro(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Je(),a=xn(t),u=tn(o,a);u.tag=2,n!=null&&(u.callback=n),n=Nn(t,u,a),n!==null&&(Ot(n,t,a,o),ro(n,t,a))}};function Oh(t,n,o,a,u,d,f){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,d,f):n.prototype&&n.prototype.isPureReactComponent?!Pi(o,a)||!Pi(u,d):!0}function Dh(t,n,o){var a=!1,u=In,d=n.contextType;return typeof d=="object"&&d!==null?d=vt(d):(u=rt(n)?Qn:He.current,a=n.contextTypes,d=(a=a!=null)?Ar(t,u):In),n=new n(o,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ho,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=d),n}function Lh(t,n,o,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==t&&ho.enqueueReplaceState(n,n.state,null)}function Aa(t,n,o,a){var u=t.stateNode;u.props=o,u.state=t.memoizedState,u.refs={},ga(t);var d=n.contextType;typeof d=="object"&&d!==null?u.context=vt(d):(d=rt(n)?Qn:He.current,u.context=Ar(t,d)),u.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Pa(t,n,d,o),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&ho.enqueueReplaceState(u,u.state,null),io(t,o,u,a),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function Ur(t,n){try{var o="",a=n;do o+=se(a),a=a.return;while(a);var u=o}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:u,digest:null}}function xa(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function Oa(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Iy=typeof WeakMap=="function"?WeakMap:Map;function Mh(t,n,o){o=tn(-1,o),o.tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){vo||(vo=!0,Ka=a),Oa(t,n)},o}function Fh(t,n,o){o=tn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;o.payload=function(){return a(u)},o.callback=function(){Oa(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Oa(t,n),typeof a!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),o}function bh(t,n,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Iy;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(o)||(u.add(o),t=Uy.bind(null,t,n,o),n.then(t,t))}function Uh(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function zh(t,n,o,a,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=tn(-1,1),n.tag=2,Nn(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var ky=ce.ReactCurrentOwner,it=!1;function Xe(t,n,o,a){n.child=t===null?sh(n,null,o,a):Lr(n,t.child,o,a)}function Bh(t,n,o,a,u){o=o.render;var d=n.ref;return Fr(n,u),a=Ca(t,n,o,a,d,u),o=Ia(),t!==null&&!it?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,nn(t,n,u)):(Ce&&o&&oa(n),n.flags|=1,Xe(t,n,a,u),n.child)}function Wh(t,n,o,a,u){if(t===null){var d=o.type;return typeof d=="function"&&!eu(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=d,jh(t,n,d,a,u)):(t=ko(o.type,null,a,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,(t.lanes&u)===0){var f=d.memoizedProps;if(o=o.compare,o=o!==null?o:Pi,o(f,a)&&t.ref===n.ref)return nn(t,n,u)}return n.flags|=1,t=Dn(d,a),t.ref=n.ref,t.return=n,n.child=t}function jh(t,n,o,a,u){if(t!==null){var d=t.memoizedProps;if(Pi(d,a)&&t.ref===n.ref)if(it=!1,n.pendingProps=a=d,(t.lanes&u)!==0)(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,nn(t,n,u)}return Da(t,n,o,a,u)}function Hh(t,n,o){var a=n.pendingProps,u=a.children,d=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Br,pt),pt|=o;else{if((o&1073741824)===0)return t=d!==null?d.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,ge(Br,pt),pt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,ge(Br,pt),pt|=a}else d!==null?(a=d.baseLanes|o,n.memoizedState=null):a=o,ge(Br,pt),pt|=a;return Xe(t,n,u,o),n.child}function Vh(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Da(t,n,o,a,u){var d=rt(o)?Qn:He.current;return d=Ar(n,d),Fr(n,u),o=Ca(t,n,o,a,d,u),a=Ia(),t!==null&&!it?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,nn(t,n,u)):(Ce&&a&&oa(n),n.flags|=1,Xe(t,n,o,u),n.child)}function $h(t,n,o,a,u){if(rt(o)){var d=!0;Qs(n)}else d=!1;if(Fr(n,u),n.stateNode===null)po(t,n),Dh(n,o,a),Aa(n,o,a,u),a=!0;else if(t===null){var f=n.stateNode,_=n.memoizedProps;f.props=_;var y=f.context,T=o.contextType;typeof T=="object"&&T!==null?T=vt(T):(T=rt(o)?Qn:He.current,T=Ar(n,T));var P=o.getDerivedStateFromProps,A=typeof P=="function"||typeof f.getSnapshotBeforeUpdate=="function";A||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==a||y!==T)&&Lh(n,f,a,T),Tn=!1;var N=n.memoizedState;f.state=N,io(n,a,f,u),y=n.memoizedState,_!==a||N!==y||nt.current||Tn?(typeof P=="function"&&(Pa(n,o,P,a),y=n.memoizedState),(_=Tn||Oh(n,o,_,a,N,y,T))?(A||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),f.props=a,f.state=y,f.context=T,a=_):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{f=n.stateNode,lh(t,n),_=n.memoizedProps,T=n.type===n.elementType?_:Pt(n.type,_),f.props=T,A=n.pendingProps,N=f.context,y=o.contextType,typeof y=="object"&&y!==null?y=vt(y):(y=rt(o)?Qn:He.current,y=Ar(n,y));var F=o.getDerivedStateFromProps;(P=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==A||N!==y)&&Lh(n,f,a,y),Tn=!1,N=n.memoizedState,f.state=N,io(n,a,f,u);var z=n.memoizedState;_!==A||N!==z||nt.current||Tn?(typeof F=="function"&&(Pa(n,o,F,a),z=n.memoizedState),(T=Tn||Oh(n,o,T,a,N,z,y)||!1)?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,z,y),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,z,y)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=z),f.props=a,f.state=z,f.context=y,a=T):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),a=!1)}return La(t,n,o,a,d,u)}function La(t,n,o,a,u,d){Vh(t,n);var f=(n.flags&128)!==0;if(!a&&!f)return u&&Yd(n,o,!1),nn(t,n,d);a=n.stateNode,ky.current=n;var _=f&&typeof o.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&f?(n.child=Lr(n,t.child,null,d),n.child=Lr(n,null,_,d)):Xe(t,n,_,d),n.memoizedState=a.state,u&&Yd(n,o,!0),n.child}function Gh(t){var n=t.stateNode;n.pendingContext?qd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&qd(t,n.context,!1),_a(t,n.containerInfo)}function Kh(t,n,o,a,u){return Dr(),ca(u),n.flags|=256,Xe(t,n,o,a),n.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function qh(t,n,o){var a=n.pendingProps,u=Ie.current,d=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),ge(Ie,u&1),t===null)return ua(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(f=a.children,t=a.fallback,d?(a=n.mode,d=n.child,f={mode:"hidden",children:f},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=f):d=To(f,a,0,null),t=sr(t,a,o,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=Fa(o),n.memoizedState=Ma,t):ba(n,f));if(u=t.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return Ty(t,n,f,a,_,u,o);if(d){d=a.fallback,f=n.mode,u=t.child,_=u.sibling;var y={mode:"hidden",children:a.children};return(f&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Dn(u,y),a.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=Dn(_,d):(d=sr(d,f,o,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,f=t.child.memoizedState,f=f===null?Fa(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=t.childLanes&~o,n.memoizedState=Ma,a}return d=t.child,t=d.sibling,a=Dn(d,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=o),a.return=n,a.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=a,n.memoizedState=null,a}function ba(t,n){return n=To({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function fo(t,n,o,a){return a!==null&&ca(a),Lr(n,t.child,null,o),t=ba(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,o,a,u,d,f){if(o)return n.flags&256?(n.flags&=-257,a=xa(Error(r(422))),fo(t,n,f,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=a.fallback,u=n.mode,a=To({mode:"visible",children:a.children},u,0,null),d=sr(d,u,f,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,(n.mode&1)!==0&&Lr(n,t.child,null,f),n.child.memoizedState=Fa(f),n.memoizedState=Ma,d);if((n.mode&1)===0)return fo(t,n,f,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var _=a.dgst;return a=_,d=Error(r(419)),a=xa(d,a,void 0),fo(t,n,f,a)}if(_=(f&t.childLanes)!==0,it||_){if(a=Le,a!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|f))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,en(t,u),Ot(a,t,u,-1))}return Za(),a=xa(Error(r(421))),fo(t,n,f,a)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=zy.bind(null,t),u._reactRetry=n,null):(t=d.treeContext,ft=En(u.nextSibling),ht=n,Ce=!0,Rt=null,t!==null&&(_t[yt++]=Jt,_t[yt++]=Zt,_t[yt++]=Yn,Jt=t.id,Zt=t.overflow,Yn=n),n=ba(n,a.children),n.flags|=4096,n)}function Qh(t,n,o){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),pa(t.return,n,o)}function Ua(t,n,o,a,u){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=u)}function Yh(t,n,o){var a=n.pendingProps,u=a.revealOrder,d=a.tail;if(Xe(t,n,a.children,o),a=Ie.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qh(t,o,n);else if(t.tag===19)Qh(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ge(Ie,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(o=n.child,u=null;o!==null;)t=o.alternate,t!==null&&so(t)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),Ua(n,!1,u,o,d);break;case"backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&so(t)===null){n.child=u;break}t=u.sibling,u.sibling=o,o=u,u=t}Ua(n,!0,o,null,d);break;case"together":Ua(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function po(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function nn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,o=Dn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Dn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function Ny(t,n,o){switch(n.tag){case 3:Gh(n),Dr();break;case 5:ch(n);break;case 1:rt(n.type)&&Qs(n);break;case 4:_a(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;ge(to,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(ge(Ie,Ie.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?qh(t,n,o):(ge(Ie,Ie.current&1),t=nn(t,n,o),t!==null?t.sibling:null);ge(Ie,Ie.current&1);break;case 19:if(a=(o&n.childLanes)!==0,(t.flags&128)!==0){if(a)return Yh(t,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ge(Ie,Ie.current),a)break;return null;case 22:case 23:return n.lanes=0,Hh(t,n,o)}return nn(t,n,o)}var Xh,za,Jh,Zh;Xh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},za=function(){},Jh=function(t,n,o,a){var u=t.memoizedProps;if(u!==a){t=n.stateNode,Zn(jt.current);var d=null;switch(o){case"input":u=pl(t,u),a=pl(t,a),d=[];break;case"select":u=U({},u,{value:void 0}),a=U({},a,{value:void 0}),d=[];break;case"textarea":u=_l(t,u),a=_l(t,a),d=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Gs)}vl(o,a);var f;o=null;for(T in u)if(!a.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var _=u[T];for(f in _)_.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in a){var y=a[T];if(_=u?.[T],a.hasOwnProperty(T)&&y!==_&&(y!=null||_!=null))if(T==="style")if(_){for(f in _)!_.hasOwnProperty(f)||y&&y.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in y)y.hasOwnProperty(f)&&_[f]!==y[f]&&(o||(o={}),o[f]=y[f])}else o||(d||(d=[]),d.push(T,o)),o=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&_e("scroll",t),d||_===y||(d=[])):(d=d||[]).push(T,y))}o&&(d=d||[]).push("style",o);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Zh=function(t,n,o,a){o!==a&&(n.flags|=4)};function Vi(t,n){if(!Ce)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function $e(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(n)for(var u=t.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=a,t.childLanes=o,n}function Ry(t,n,o){var a=n.pendingProps;switch(la(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(n),null;case 1:return rt(n.type)&&qs(),$e(n),null;case 3:return a=n.stateNode,br(),ye(nt),ye(He),wa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rt!==null&&(Ya(Rt),Rt=null))),za(t,n),$e(n),null;case 5:ya(n);var u=Zn(zi.current);if(o=n.type,t!==null&&n.stateNode!=null)Jh(t,n,o,a,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return $e(n),null}if(t=Zn(jt.current),Zs(n)){a=n.stateNode,o=n.type;var d=n.memoizedProps;switch(a[Wt]=n,a[Li]=d,t=(n.mode&1)!==0,o){case"dialog":_e("cancel",a),_e("close",a);break;case"iframe":case"object":case"embed":_e("load",a);break;case"video":case"audio":for(u=0;u<xi.length;u++)_e(xi[u],a);break;case"source":_e("error",a);break;case"img":case"image":case"link":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"input":Dc(a,d),_e("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},_e("invalid",a);break;case"textarea":Fc(a,d),_e("invalid",a)}vl(o,d),u=null;for(var f in d)if(d.hasOwnProperty(f)){var _=d[f];f==="children"?typeof _=="string"?a.textContent!==_&&(d.suppressHydrationWarning!==!0&&$s(a.textContent,_,t),u=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&$s(a.textContent,_,t),u=["children",""+_]):l.hasOwnProperty(f)&&_!=null&&f==="onScroll"&&_e("scroll",a)}switch(o){case"input":Es(a),Mc(a,d,!0);break;case"textarea":Es(a),Uc(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Gs)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zc(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=f.createElement(o,{is:a.is}):(t=f.createElement(o),o==="select"&&(f=t,a.multiple?f.multiple=!0:a.size&&(f.size=a.size))):t=f.createElementNS(t,o),t[Wt]=n,t[Li]=a,Xh(t,n,!1,!1),n.stateNode=t;e:{switch(f=wl(o,a),o){case"dialog":_e("cancel",t),_e("close",t),u=a;break;case"iframe":case"object":case"embed":_e("load",t),u=a;break;case"video":case"audio":for(u=0;u<xi.length;u++)_e(xi[u],t);u=a;break;case"source":_e("error",t),u=a;break;case"img":case"image":case"link":_e("error",t),_e("load",t),u=a;break;case"details":_e("toggle",t),u=a;break;case"input":Dc(t,a),u=pl(t,a),_e("invalid",t);break;case"option":u=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},u=U({},a,{value:void 0}),_e("invalid",t);break;case"textarea":Fc(t,a),u=_l(t,a),_e("invalid",t);break;default:u=a}vl(o,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var y=_[d];d==="style"?jc(t,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Bc(t,y)):d==="children"?typeof y=="string"?(o!=="textarea"||y!=="")&&hi(t,y):typeof y=="number"&&hi(t,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?y!=null&&d==="onScroll"&&_e("scroll",t):y!=null&&ae(t,d,y,f))}switch(o){case"input":Es(t),Mc(t,a,!1);break;case"textarea":Es(t),Uc(t);break;case"option":a.value!=null&&t.setAttribute("value",""+de(a.value));break;case"select":t.multiple=!!a.multiple,d=a.value,d!=null?yr(t,!!a.multiple,d,!1):a.defaultValue!=null&&yr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=Gs)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return $e(n),null;case 6:if(t&&n.stateNode!=null)Zh(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(o=Zn(zi.current),Zn(jt.current),Zs(n)){if(a=n.stateNode,o=n.memoizedProps,a[Wt]=n,(d=a.nodeValue!==o)&&(t=ht,t!==null))switch(t.tag){case 3:$s(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$s(a.nodeValue,o,(t.mode&1)!==0)}d&&(n.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Wt]=n,n.stateNode=a}return $e(n),null;case 13:if(ye(Ie),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&ft!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nh(),Dr(),n.flags|=98560,d=!1;else if(d=Zs(n),a!==null&&a.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Wt]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$e(n),d=!1}else Rt!==null&&(Ya(Rt),Rt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Ie.current&1)!==0?Oe===0&&(Oe=3):Za())),n.updateQueue!==null&&(n.flags|=4),$e(n),null);case 4:return br(),za(t,n),t===null&&Oi(n.stateNode.containerInfo),$e(n),null;case 10:return fa(n.type._context),$e(n),null;case 17:return rt(n.type)&&qs(),$e(n),null;case 19:if(ye(Ie),d=n.memoizedState,d===null)return $e(n),null;if(a=(n.flags&128)!==0,f=d.rendering,f===null)if(a)Vi(d,!1);else{if(Oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=so(t),f!==null){for(n.flags|=128,Vi(d,!1),a=f.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;o!==null;)d=o,t=a,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,t=f.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ge(Ie,Ie.current&1|2),n.child}t=t.sibling}d.tail!==null&&Re()>Wr&&(n.flags|=128,a=!0,Vi(d,!1),n.lanes=4194304)}else{if(!a)if(t=so(f),t!==null){if(n.flags|=128,a=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Vi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ce)return $e(n),null}else 2*Re()-d.renderingStartTime>Wr&&o!==1073741824&&(n.flags|=128,a=!0,Vi(d,!1),n.lanes=4194304);d.isBackwards?(f.sibling=n.child,n.child=f):(o=d.last,o!==null?o.sibling=f:n.child=f,d.last=f)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Re(),n.sibling=null,o=Ie.current,ge(Ie,a?o&1|2:o&1),n):($e(n),null);case 22:case 23:return Ja(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(pt&1073741824)!==0&&($e(n),n.subtreeFlags&6&&(n.flags|=8192)):$e(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Py(t,n){switch(la(n),n.tag){case 1:return rt(n.type)&&qs(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return br(),ye(nt),ye(He),wa(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return ya(n),null;case 13:if(ye(Ie),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ye(Ie),null;case 4:return br(),null;case 10:return fa(n.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var mo=!1,Ge=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,b=null;function zr(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ne(t,n,a)}else o.current=null}function Ba(t,n,o){try{o()}catch(a){Ne(t,n,a)}}var ef=!1;function xy(t,n){if(Jl=Ls,t=Od(),Vl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var u=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var f=0,_=-1,y=-1,T=0,P=0,A=t,N=null;t:for(;;){for(var F;A!==o||u!==0&&A.nodeType!==3||(_=f+u),A!==d||a!==0&&A.nodeType!==3||(y=f+a),A.nodeType===3&&(f+=A.nodeValue.length),(F=A.firstChild)!==null;)N=A,A=F;for(;;){if(A===t)break t;if(N===o&&++T===u&&(_=f),N===d&&++P===a&&(y=f),(F=A.nextSibling)!==null)break;A=N,N=A.parentNode}A=F}o=_===-1||y===-1?null:{start:_,end:y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zl={focusedElem:t,selectionRange:o},Ls=!1,b=n;b!==null;)if(n=b,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,b=t;else for(;b!==null;){n=b;try{var z=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var B=z.memoizedProps,Pe=z.memoizedState,I=n.stateNode,v=I.getSnapshotBeforeUpdate(n.elementType===n.type?B:Pt(n.type,B),Pe);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(O){Ne(n,n.return,O)}if(t=n.sibling,t!==null){t.return=n.return,b=t;break}b=n.return}return z=ef,ef=!1,z}function $i(t,n,o){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&t)===t){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ba(n,o,d)}u=u.next}while(u!==a)}}function go(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==n)}}function Wa(t){var n=t.ref;if(n!==null){var o=t.stateNode;t.tag,t=o,typeof n=="function"?n(t):n.current=t}}function tf(t){var n=t.alternate;n!==null&&(t.alternate=null,tf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Wt],delete n[Li],delete n[ra],delete n[fy],delete n[py])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nf(t){return t.tag===5||t.tag===3||t.tag===4}function rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ja(t,n,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Gs));else if(a!==4&&(t=t.child,t!==null))for(ja(t,n,o),t=t.sibling;t!==null;)ja(t,n,o),t=t.sibling}function Ha(t,n,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Ha(t,n,o),t=t.sibling;t!==null;)Ha(t,n,o),t=t.sibling}var Be=null,At=!1;function Rn(t,n,o){for(o=o.child;o!==null;)sf(t,n,o),o=o.sibling}function sf(t,n,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Rs,o)}catch{}switch(o.tag){case 5:Ge||zr(o,n);case 6:var a=Be,u=At;Be=null,Rn(t,n,o),Be=a,At=u,Be!==null&&(At?(t=Be,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Be.removeChild(o.stateNode));break;case 18:Be!==null&&(At?(t=Be,o=o.stateNode,t.nodeType===8?na(t.parentNode,o):t.nodeType===1&&na(t,o),Ci(t)):na(Be,o.stateNode));break;case 4:a=Be,u=At,Be=o.stateNode.containerInfo,At=!0,Rn(t,n,o),Be=a,At=u;break;case 0:case 11:case 14:case 15:if(!Ge&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var d=u,f=d.destroy;d=d.tag,f!==void 0&&((d&2)!==0||(d&4)!==0)&&Ba(o,n,f),u=u.next}while(u!==a)}Rn(t,n,o);break;case 1:if(!Ge&&(zr(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(_){Ne(o,n,_)}Rn(t,n,o);break;case 21:Rn(t,n,o);break;case 22:o.mode&1?(Ge=(a=Ge)||o.memoizedState!==null,Rn(t,n,o),Ge=a):Rn(t,n,o);break;default:Rn(t,n,o)}}function of(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ay),n.forEach(function(a){var u=By.bind(null,t,a);o.has(a)||(o.add(a),a.then(u,u))})}}function xt(t,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];try{var d=t,f=n,_=f;e:for(;_!==null;){switch(_.tag){case 5:Be=_.stateNode,At=!1;break e;case 3:Be=_.stateNode.containerInfo,At=!0;break e;case 4:Be=_.stateNode.containerInfo,At=!0;break e}_=_.return}if(Be===null)throw Error(r(160));sf(d,f,u),Be=null,At=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(T){Ne(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)lf(n,t),n=n.sibling}function lf(t,n){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(n,t),Vt(t),a&4){try{$i(3,t,t.return),go(3,t)}catch(B){Ne(t,t.return,B)}try{$i(5,t,t.return)}catch(B){Ne(t,t.return,B)}}break;case 1:xt(n,t),Vt(t),a&512&&o!==null&&zr(o,o.return);break;case 5:if(xt(n,t),Vt(t),a&512&&o!==null&&zr(o,o.return),t.flags&32){var u=t.stateNode;try{hi(u,"")}catch(B){Ne(t,t.return,B)}}if(a&4&&(u=t.stateNode,u!=null)){var d=t.memoizedProps,f=o!==null?o.memoizedProps:d,_=t.type,y=t.updateQueue;if(t.updateQueue=null,y!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&Lc(u,d),wl(_,f);var T=wl(_,d);for(f=0;f<y.length;f+=2){var P=y[f],A=y[f+1];P==="style"?jc(u,A):P==="dangerouslySetInnerHTML"?Bc(u,A):P==="children"?hi(u,A):ae(u,P,A,T)}switch(_){case"input":ml(u,d);break;case"textarea":bc(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?yr(u,!!d.multiple,F,!1):N!==!!d.multiple&&(d.defaultValue!=null?yr(u,!!d.multiple,d.defaultValue,!0):yr(u,!!d.multiple,d.multiple?[]:"",!1))}u[Li]=d}catch(B){Ne(t,t.return,B)}}break;case 6:if(xt(n,t),Vt(t),a&4){if(t.stateNode===null)throw Error(r(162));u=t.stateNode,d=t.memoizedProps;try{u.nodeValue=d}catch(B){Ne(t,t.return,B)}}break;case 3:if(xt(n,t),Vt(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Ci(n.containerInfo)}catch(B){Ne(t,t.return,B)}break;case 4:xt(n,t),Vt(t);break;case 13:xt(n,t),Vt(t),u=t.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ga=Re())),a&4&&of(t);break;case 22:if(P=o!==null&&o.memoizedState!==null,t.mode&1?(Ge=(T=Ge)||P,xt(n,t),Ge=T):xt(n,t),Vt(t),a&8192){if(T=t.memoizedState!==null,(t.stateNode.isHidden=T)&&!P&&(t.mode&1)!==0)for(b=t,P=t.child;P!==null;){for(A=b=P;b!==null;){switch(N=b,F=N.child,N.tag){case 0:case 11:case 14:case 15:$i(4,N,N.return);break;case 1:zr(N,N.return);var z=N.stateNode;if(typeof z.componentWillUnmount=="function"){a=N,o=N.return;try{n=a,z.props=n.memoizedProps,z.state=n.memoizedState,z.componentWillUnmount()}catch(B){Ne(a,o,B)}}break;case 5:zr(N,N.return);break;case 22:if(N.memoizedState!==null){cf(A);continue}}F!==null?(F.return=N,b=F):cf(A)}P=P.sibling}e:for(P=null,A=t;;){if(A.tag===5){if(P===null){P=A;try{u=A.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=A.stateNode,y=A.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=Wc("display",f))}catch(B){Ne(t,t.return,B)}}}else if(A.tag===6){if(P===null)try{A.stateNode.nodeValue=T?"":A.memoizedProps}catch(B){Ne(t,t.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;P===A&&(P=null),A=A.return}P===A&&(P=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:xt(n,t),Vt(t),a&4&&of(t);break;case 21:break;default:xt(n,t),Vt(t)}}function Vt(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(nf(o)){var a=o;break e}o=o.return}throw Error(r(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(hi(u,""),a.flags&=-33);var d=rf(t);Ha(t,d,u);break;case 3:case 4:var f=a.stateNode.containerInfo,_=rf(t);ja(t,_,f);break;default:throw Error(r(161))}}catch(y){Ne(t,t.return,y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t,n,o){b=t,af(t)}function af(t,n,o){for(var a=(t.mode&1)!==0;b!==null;){var u=b,d=u.child;if(u.tag===22&&a){var f=u.memoizedState!==null||mo;if(!f){var _=u.alternate,y=_!==null&&_.memoizedState!==null||Ge;_=mo;var T=Ge;if(mo=f,(Ge=y)&&!T)for(b=u;b!==null;)f=b,y=f.child,f.tag===22&&f.memoizedState!==null?df(u):y!==null?(y.return=f,b=y):df(u);for(;d!==null;)b=d,af(d),d=d.sibling;b=u,mo=_,Ge=T}uf(t)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,b=d):uf(t)}}function uf(t){for(;b!==null;){var n=b;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ge||go(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ge)if(o===null)a.componentDidMount();else{var u=n.elementType===n.type?o.memoizedProps:Pt(n.type,o.memoizedProps);a.componentDidUpdate(u,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&uh(n,d,a);break;case 3:var f=n.updateQueue;if(f!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}uh(n,f,o)}break;case 5:var _=n.stateNode;if(o===null&&n.flags&4){o=_;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&o.focus();break;case"img":y.src&&(o.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var A=P.dehydrated;A!==null&&Ci(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ge||n.flags&512&&Wa(n)}catch(N){Ne(n,n.return,N)}}if(n===t){b=null;break}if(o=n.sibling,o!==null){o.return=n.return,b=o;break}b=n.return}}function cf(t){for(;b!==null;){var n=b;if(n===t){b=null;break}var o=n.sibling;if(o!==null){o.return=n.return,b=o;break}b=n.return}}function df(t){for(;b!==null;){var n=b;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{go(4,n)}catch(y){Ne(n,o,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(y){Ne(n,u,y)}}var d=n.return;try{Wa(n)}catch(y){Ne(n,d,y)}break;case 5:var f=n.return;try{Wa(n)}catch(y){Ne(n,f,y)}}}catch(y){Ne(n,n.return,y)}if(n===t){b=null;break}var _=n.sibling;if(_!==null){_.return=n.return,b=_;break}b=n.return}}var Dy=Math.ceil,_o=ce.ReactCurrentDispatcher,Va=ce.ReactCurrentOwner,St=ce.ReactCurrentBatchConfig,ie=0,Le=null,Ae=null,We=0,pt=0,Br=Cn(0),Oe=0,Gi=null,tr=0,yo=0,$a=0,Ki=null,st=null,Ga=0,Wr=1/0,rn=null,vo=!1,Ka=null,Pn=null,wo=!1,An=null,So=0,qi=0,qa=null,Eo=-1,Co=0;function Je(){return(ie&6)!==0?Re():Eo!==-1?Eo:Eo=Re()}function xn(t){return(t.mode&1)===0?1:(ie&2)!==0&&We!==0?We&-We:gy.transition!==null?(Co===0&&(Co=rd()),Co):(t=he,t!==0||(t=window.event,t=t===void 0?16:hd(t.type)),t)}function Ot(t,n,o,a){if(50<qi)throw qi=0,qa=null,Error(r(185));yi(t,o,a),((ie&2)===0||t!==Le)&&(t===Le&&((ie&2)===0&&(yo|=o),Oe===4&&On(t,We)),ot(t,a),o===1&&ie===0&&(n.mode&1)===0&&(Wr=Re()+500,Ys&&kn()))}function ot(t,n){var o=t.callbackNode;g_(t,n);var a=xs(t,t===Le?We:0);if(a===0)o!==null&&ed(o),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(o!=null&&ed(o),n===1)t.tag===0?my(ff.bind(null,t)):Xd(ff.bind(null,t)),dy(function(){(ie&6)===0&&kn()}),o=null;else{switch(id(a)){case 1:o=Nl;break;case 4:o=td;break;case 16:o=Ns;break;case 536870912:o=nd;break;default:o=Ns}o=Sf(o,hf.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function hf(t,n){if(Eo=-1,Co=0,(ie&6)!==0)throw Error(r(327));var o=t.callbackNode;if(jr()&&t.callbackNode!==o)return null;var a=xs(t,t===Le?We:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=Io(t,a);else{n=a;var u=ie;ie|=2;var d=mf();(Le!==t||We!==n)&&(rn=null,Wr=Re()+500,rr(t,n));do try{Fy();break}catch(_){pf(t,_)}while(!0);ha(),_o.current=d,ie=u,Ae!==null?n=0:(Le=null,We=0,n=Oe)}if(n!==0){if(n===2&&(u=Rl(t),u!==0&&(a=u,n=Qa(t,u))),n===1)throw o=Gi,rr(t,0),On(t,a),ot(t,Re()),o;if(n===6)On(t,a);else{if(u=t.current.alternate,(a&30)===0&&!Ly(u)&&(n=Io(t,a),n===2&&(d=Rl(t),d!==0&&(a=d,n=Qa(t,d))),n===1))throw o=Gi,rr(t,0),On(t,a),ot(t,Re()),o;switch(t.finishedWork=u,t.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:ir(t,st,rn);break;case 3:if(On(t,a),(a&130023424)===a&&(n=Ga+500-Re(),10<n)){if(xs(t,0)!==0)break;if(u=t.suspendedLanes,(u&a)!==a){Je(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=ta(ir.bind(null,t,st,rn),n);break}ir(t,st,rn);break;case 4:if(On(t,a),(a&4194240)===a)break;for(n=t.eventTimes,u=-1;0<a;){var f=31-Tt(a);d=1<<f,f=n[f],f>u&&(u=f),a&=~d}if(a=u,a=Re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Dy(a/1960))-a,10<a){t.timeoutHandle=ta(ir.bind(null,t,st,rn),a);break}ir(t,st,rn);break;case 5:ir(t,st,rn);break;default:throw Error(r(329))}}}return ot(t,Re()),t.callbackNode===o?hf.bind(null,t):null}function Qa(t,n){var o=Ki;return t.current.memoizedState.isDehydrated&&(rr(t,n).flags|=256),t=Io(t,n),t!==2&&(n=st,st=o,n!==null&&Ya(n)),t}function Ya(t){st===null?st=t:st.push.apply(st,t)}function Ly(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var u=o[a],d=u.getSnapshot;u=u.value;try{if(!Nt(d(),u))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(t,n){for(n&=~$a,n&=~yo,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-Tt(n),a=1<<o;t[o]=-1,n&=~a}}function ff(t){if((ie&6)!==0)throw Error(r(327));jr();var n=xs(t,0);if((n&1)===0)return ot(t,Re()),null;var o=Io(t,n);if(t.tag!==0&&o===2){var a=Rl(t);a!==0&&(n=a,o=Qa(t,a))}if(o===1)throw o=Gi,rr(t,0),On(t,n),ot(t,Re()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,ir(t,st,rn),ot(t,Re()),null}function Xa(t,n){var o=ie;ie|=1;try{return t(n)}finally{ie=o,ie===0&&(Wr=Re()+500,Ys&&kn())}}function nr(t){An!==null&&An.tag===0&&(ie&6)===0&&jr();var n=ie;ie|=1;var o=St.transition,a=he;try{if(St.transition=null,he=1,t)return t()}finally{he=a,St.transition=o,ie=n,(ie&6)===0&&kn()}}function Ja(){pt=Br.current,ye(Br)}function rr(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,cy(o)),Ae!==null)for(o=Ae.return;o!==null;){var a=o;switch(la(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&qs();break;case 3:br(),ye(nt),ye(He),wa();break;case 5:ya(a);break;case 4:br();break;case 13:ye(Ie);break;case 19:ye(Ie);break;case 10:fa(a.type._context);break;case 22:case 23:Ja()}o=o.return}if(Le=t,Ae=t=Dn(t.current,null),We=pt=n,Oe=0,Gi=null,$a=yo=tr=0,st=Ki=null,Jn!==null){for(n=0;n<Jn.length;n++)if(o=Jn[n],a=o.interleaved,a!==null){o.interleaved=null;var u=a.next,d=o.pending;if(d!==null){var f=d.next;d.next=u,a.next=f}o.pending=a}Jn=null}return t}function pf(t,n){do{var o=Ae;try{if(ha(),oo.current=co,lo){for(var a=ke.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}lo=!1}if(er=0,De=xe=ke=null,Bi=!1,Wi=0,Va.current=null,o===null||o.return===null){Oe=1,Gi=n,Ae=null;break}e:{var d=t,f=o.return,_=o,y=n;if(n=We,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,P=_,A=P.tag;if((P.mode&1)===0&&(A===0||A===11||A===15)){var N=P.alternate;N?(P.updateQueue=N.updateQueue,P.memoizedState=N.memoizedState,P.lanes=N.lanes):(P.updateQueue=null,P.memoizedState=null)}var F=Uh(f);if(F!==null){F.flags&=-257,zh(F,f,_,d,n),F.mode&1&&bh(d,T,n),n=F,y=T;var z=n.updateQueue;if(z===null){var B=new Set;B.add(y),n.updateQueue=B}else z.add(y);break e}else{if((n&1)===0){bh(d,T,n),Za();break e}y=Error(r(426))}}else if(Ce&&_.mode&1){var Pe=Uh(f);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),zh(Pe,f,_,d,n),ca(Ur(y,_));break e}}d=y=Ur(y,_),Oe!==4&&(Oe=2),Ki===null?Ki=[d]:Ki.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var I=Mh(d,y,n);ah(d,I);break e;case 1:_=y;var v=d.type,k=d.stateNode;if((d.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Pn===null||!Pn.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var O=Fh(d,_,n);ah(d,O);break e}}d=d.return}while(d!==null)}_f(o)}catch(W){n=W,Ae===o&&o!==null&&(Ae=o=o.return);continue}break}while(!0)}function mf(){var t=_o.current;return _o.current=co,t===null?co:t}function Za(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Le===null||(tr&268435455)===0&&(yo&268435455)===0||On(Le,We)}function Io(t,n){var o=ie;ie|=2;var a=mf();(Le!==t||We!==n)&&(rn=null,rr(t,n));do try{My();break}catch(u){pf(t,u)}while(!0);if(ha(),ie=o,_o.current=a,Ae!==null)throw Error(r(261));return Le=null,We=0,Oe}function My(){for(;Ae!==null;)gf(Ae)}function Fy(){for(;Ae!==null&&!l_();)gf(Ae)}function gf(t){var n=wf(t.alternate,t,pt);t.memoizedProps=t.pendingProps,n===null?_f(t):Ae=n,Va.current=null}function _f(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=Ry(o,n,pt),o!==null){Ae=o;return}}else{if(o=Py(o,n),o!==null){o.flags&=32767,Ae=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ae=null;return}}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=t}while(n!==null);Oe===0&&(Oe=5)}function ir(t,n,o){var a=he,u=St.transition;try{St.transition=null,he=1,by(t,n,o,a)}finally{St.transition=u,he=a}return null}function by(t,n,o,a){do jr();while(An!==null);if((ie&6)!==0)throw Error(r(327));o=t.finishedWork;var u=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=o.lanes|o.childLanes;if(__(t,d),t===Le&&(Ae=Le=null,We=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||wo||(wo=!0,Sf(Ns,function(){return jr(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=St.transition,St.transition=null;var f=he;he=1;var _=ie;ie|=4,Va.current=null,xy(t,o),lf(o,t),ry(Zl),Ls=!!Jl,Zl=Jl=null,t.current=o,Oy(o),a_(),ie=_,he=f,St.transition=d}else t.current=o;if(wo&&(wo=!1,An=t,So=u),d=t.pendingLanes,d===0&&(Pn=null),d_(o.stateNode),ot(t,Re()),n!==null)for(a=t.onRecoverableError,o=0;o<n.length;o++)u=n[o],a(u.value,{componentStack:u.stack,digest:u.digest});if(vo)throw vo=!1,t=Ka,Ka=null,t;return(So&1)!==0&&t.tag!==0&&jr(),d=t.pendingLanes,(d&1)!==0?t===qa?qi++:(qi=0,qa=t):qi=0,kn(),null}function jr(){if(An!==null){var t=id(So),n=St.transition,o=he;try{if(St.transition=null,he=16>t?16:t,An===null)var a=!1;else{if(t=An,An=null,So=0,(ie&6)!==0)throw Error(r(331));var u=ie;for(ie|=4,b=t.current;b!==null;){var d=b,f=d.child;if((b.flags&16)!==0){var _=d.deletions;if(_!==null){for(var y=0;y<_.length;y++){var T=_[y];for(b=T;b!==null;){var P=b;switch(P.tag){case 0:case 11:case 15:$i(8,P,d)}var A=P.child;if(A!==null)A.return=P,b=A;else for(;b!==null;){P=b;var N=P.sibling,F=P.return;if(tf(P),P===T){b=null;break}if(N!==null){N.return=F,b=N;break}b=F}}}var z=d.alternate;if(z!==null){var B=z.child;if(B!==null){z.child=null;do{var Pe=B.sibling;B.sibling=null,B=Pe}while(B!==null)}}b=d}}if((d.subtreeFlags&2064)!==0&&f!==null)f.return=d,b=f;else e:for(;b!==null;){if(d=b,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:$i(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,b=I;break e}b=d.return}}var v=t.current;for(b=v;b!==null;){f=b;var k=f.child;if((f.subtreeFlags&2064)!==0&&k!==null)k.return=f,b=k;else e:for(f=v;b!==null;){if(_=b,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:go(9,_)}}catch(W){Ne(_,_.return,W)}if(_===f){b=null;break e}var O=_.sibling;if(O!==null){O.return=_.return,b=O;break e}b=_.return}}if(ie=u,kn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Rs,t)}catch{}a=!0}return a}finally{he=o,St.transition=n}}return!1}function yf(t,n,o){n=Ur(o,n),n=Mh(t,n,1),t=Nn(t,n,1),n=Je(),t!==null&&(yi(t,1,n),ot(t,n))}function Ne(t,n,o){if(t.tag===3)yf(t,t,o);else for(;n!==null;){if(n.tag===3){yf(n,t,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pn===null||!Pn.has(a))){t=Ur(o,t),t=Fh(n,t,1),n=Nn(n,t,1),t=Je(),n!==null&&(yi(n,1,t),ot(n,t));break}}n=n.return}}function Uy(t,n,o){var a=t.pingCache;a!==null&&a.delete(n),n=Je(),t.pingedLanes|=t.suspendedLanes&o,Le===t&&(We&o)===o&&(Oe===4||Oe===3&&(We&130023424)===We&&500>Re()-Ga?rr(t,0):$a|=o),ot(t,n)}function vf(t,n){n===0&&((t.mode&1)===0?n=1:(n=As,As<<=1,(As&130023424)===0&&(As=4194304)));var o=Je();t=en(t,n),t!==null&&(yi(t,n,o),ot(t,o))}function zy(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),vf(t,o)}function By(t,n){var o=0;switch(t.tag){case 13:var a=t.stateNode,u=t.memoizedState;u!==null&&(o=u.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),vf(t,o)}var wf;wf=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||nt.current)it=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return it=!1,Ny(t,n,o);it=(t.flags&131072)!==0}else it=!1,Ce&&(n.flags&1048576)!==0&&Jd(n,Js,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;po(t,n),t=n.pendingProps;var u=Ar(n,He.current);Fr(n,o),u=Ca(null,n,a,t,u,o);var d=Ia();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,rt(a)?(d=!0,Qs(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ga(n),u.updater=ho,n.stateNode=u,u._reactInternals=n,Aa(n,a,t,o),n=La(null,n,a,!0,d,o)):(n.tag=0,Ce&&d&&oa(n),Xe(null,n,u,o),n=n.child),n;case 16:a=n.elementType;e:{switch(po(t,n),t=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=jy(a),t=Pt(a,t),u){case 0:n=Da(null,n,a,t,o);break e;case 1:n=$h(null,n,a,t,o);break e;case 11:n=Bh(null,n,a,t,o);break e;case 14:n=Wh(null,n,a,Pt(a.type,t),o);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Pt(a,u),Da(t,n,a,u,o);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Pt(a,u),$h(t,n,a,u,o);case 3:e:{if(Gh(n),t===null)throw Error(r(387));a=n.pendingProps,d=n.memoizedState,u=d.element,lh(t,n),io(n,a,null,o);var f=n.memoizedState;if(a=f.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Ur(Error(r(423)),n),n=Kh(t,n,a,o,u);break e}else if(a!==u){u=Ur(Error(r(424)),n),n=Kh(t,n,a,o,u);break e}else for(ft=En(n.stateNode.containerInfo.firstChild),ht=n,Ce=!0,Rt=null,o=sh(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Dr(),a===u){n=nn(t,n,o);break e}Xe(t,n,a,o)}n=n.child}return n;case 5:return ch(n),t===null&&ua(n),a=n.type,u=n.pendingProps,d=t!==null?t.memoizedProps:null,f=u.children,ea(a,u)?f=null:d!==null&&ea(a,d)&&(n.flags|=32),Vh(t,n),Xe(t,n,f,o),n.child;case 6:return t===null&&ua(n),null;case 13:return qh(t,n,o);case 4:return _a(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Lr(n,null,a,o):Xe(t,n,a,o),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Pt(a,u),Bh(t,n,a,u,o);case 7:return Xe(t,n,n.pendingProps,o),n.child;case 8:return Xe(t,n,n.pendingProps.children,o),n.child;case 12:return Xe(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,d=n.memoizedProps,f=u.value,ge(to,a._currentValue),a._currentValue=f,d!==null)if(Nt(d.value,f)){if(d.children===u.children&&!nt.current){n=nn(t,n,o);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){f=d.child;for(var y=_.firstContext;y!==null;){if(y.context===a){if(d.tag===1){y=tn(-1,o&-o),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?y.next=y:(y.next=P.next,P.next=y),T.pending=y}}d.lanes|=o,y=d.alternate,y!==null&&(y.lanes|=o),pa(d.return,o,n),_.lanes|=o;break}y=y.next}}else if(d.tag===10)f=d.type===n.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(r(341));f.lanes|=o,_=f.alternate,_!==null&&(_.lanes|=o),pa(f,o,n),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===n){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}Xe(t,n,u.children,o),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Fr(n,o),u=vt(u),a=a(u),n.flags|=1,Xe(t,n,a,o),n.child;case 14:return a=n.type,u=Pt(a,n.pendingProps),u=Pt(a.type,u),Wh(t,n,a,u,o);case 15:return jh(t,n,n.type,n.pendingProps,o);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Pt(a,u),po(t,n),n.tag=1,rt(a)?(t=!0,Qs(n)):t=!1,Fr(n,o),Dh(n,a,u),Aa(n,a,u,o),La(null,n,a,!0,t,o);case 19:return Yh(t,n,o);case 22:return Hh(t,n,o)}throw Error(r(156,n.tag))};function Sf(t,n){return Zc(t,n)}function Wy(t,n,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,n,o,a){return new Wy(t,n,o,a)}function eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jy(t){if(typeof t=="function")return eu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ut)return 11;if(t===zt)return 14}return 2}function Dn(t,n){var o=t.alternate;return o===null?(o=Et(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ko(t,n,o,a,u,d){var f=2;if(a=t,typeof t=="function")eu(t)&&(f=1);else if(typeof t=="string")f=5;else e:switch(t){case et:return sr(o.children,u,d,n);case gt:f=8,u|=8;break;case mn:return t=Et(12,o,n,u|2),t.elementType=mn,t.lanes=d,t;case ut:return t=Et(13,o,n,u),t.elementType=ut,t.lanes=d,t;case kt:return t=Et(19,o,n,u),t.elementType=kt,t.lanes=d,t;case Te:return To(o,u,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qt:f=10;break e;case Gn:f=9;break e;case Ut:f=11;break e;case zt:f=14;break e;case tt:f=16,a=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=Et(f,o,n,u),n.elementType=t,n.type=a,n.lanes=d,n}function sr(t,n,o,a){return t=Et(7,t,a,n),t.lanes=o,t}function To(t,n,o,a){return t=Et(22,t,a,n),t.elementType=Te,t.lanes=o,t.stateNode={isHidden:!1},t}function tu(t,n,o){return t=Et(6,t,null,n),t.lanes=o,t}function nu(t,n,o){return n=Et(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Hy(t,n,o,a,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ru(t,n,o,a,u,d,f,_,y){return t=new Hy(t,n,o,_,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Et(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ga(d),t}function Vy(t,n,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ze,key:a==null?null:""+a,children:t,containerInfo:n,implementation:o}}function Ef(t){if(!t)return In;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(rt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(rt(o))return Qd(t,o,n)}return n}function Cf(t,n,o,a,u,d,f,_,y){return t=ru(o,a,!0,t,u,d,f,_,y),t.context=Ef(null),o=t.current,a=Je(),u=xn(o),d=tn(a,u),d.callback=n??null,Nn(o,d,u),t.current.lanes=u,yi(t,u,a),ot(t,a),t}function No(t,n,o,a){var u=n.current,d=Je(),f=xn(u);return o=Ef(o),n.context===null?n.context=o:n.pendingContext=o,n=tn(d,f),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Nn(u,n,f),t!==null&&(Ot(t,u,f,d),ro(t,u,f)),f}function Ro(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function If(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function iu(t,n){If(t,n),(t=t.alternate)&&If(t,n)}function $y(){return null}var kf=typeof reportError=="function"?reportError:function(t){console.error(t)};function su(t){this._internalRoot=t}Po.prototype.render=su.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));No(t,n,null,null)},Po.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;nr(function(){No(null,t,null,null)}),n[Yt]=null}};function Po(t){this._internalRoot=t}Po.prototype.unstable_scheduleHydration=function(t){if(t){var n=ld();t={blockedOn:null,target:t,priority:n};for(var o=0;o<vn.length&&n!==0&&n<vn[o].priority;o++);vn.splice(o,0,t),o===0&&cd(t)}};function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function Gy(t,n,o,a,u){if(u){if(typeof a=="function"){var d=a;a=function(){var T=Ro(f);d.call(T)}}var f=Cf(n,a,t,0,null,!1,!1,"",Tf);return t._reactRootContainer=f,t[Yt]=f.current,Oi(t.nodeType===8?t.parentNode:t),nr(),f}for(;u=t.lastChild;)t.removeChild(u);if(typeof a=="function"){var _=a;a=function(){var T=Ro(y);_.call(T)}}var y=ru(t,0,!1,null,null,!1,!1,"",Tf);return t._reactRootContainer=y,t[Yt]=y.current,Oi(t.nodeType===8?t.parentNode:t),nr(function(){No(n,y,o,a)}),y}function xo(t,n,o,a,u){var d=o._reactRootContainer;if(d){var f=d;if(typeof u=="function"){var _=u;u=function(){var y=Ro(f);_.call(y)}}No(n,f,t,u)}else f=Gy(o,n,t,u,a);return Ro(f)}sd=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=_i(n.pendingLanes);o!==0&&(Al(n,o|1),ot(n,Re()),(ie&6)===0&&(Wr=Re()+500,kn()))}break;case 13:nr(function(){var a=en(t,1);if(a!==null){var u=Je();Ot(a,t,1,u)}}),iu(t,1)}},xl=function(t){if(t.tag===13){var n=en(t,134217728);if(n!==null){var o=Je();Ot(n,t,134217728,o)}iu(t,134217728)}},od=function(t){if(t.tag===13){var n=xn(t),o=en(t,n);if(o!==null){var a=Je();Ot(o,t,n,a)}iu(t,n)}},ld=function(){return he},ad=function(t,n){var o=he;try{return he=t,n()}finally{he=o}},Cl=function(t,n,o){switch(n){case"input":if(ml(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==t&&a.form===t.form){var u=Ks(a);if(!u)throw Error(r(90));Oc(a),ml(a,u)}}}break;case"textarea":bc(t,o);break;case"select":n=o.value,n!=null&&yr(t,!!o.multiple,n,!1)}},Gc=Xa,Kc=nr;var Ky={usingClientEntryPoint:!1,Events:[Mi,Rr,Ks,Vc,$c,Xa]},Qi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xc(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Rs=Oo.inject(qy),Bt=Oo}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky,lt.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(n))throw Error(r(200));return Vy(t,n,null,o)},lt.createRoot=function(t,n){if(!ou(t))throw Error(r(299));var o=!1,a="",u=kf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=ru(t,1,!1,null,null,o,!1,a,u),t[Yt]=n.current,Oi(t.nodeType===8?t.parentNode:t),new su(n)},lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Xc(n),t=t===null?null:t.stateNode,t},lt.flushSync=function(t){return nr(t)},lt.hydrate=function(t,n,o){if(!Ao(n))throw Error(r(200));return xo(null,t,n,!0,o)},lt.hydrateRoot=function(t,n,o){if(!ou(t))throw Error(r(405));var a=o!=null&&o.hydratedSources||null,u=!1,d="",f=kf;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),n=Cf(n,null,t,1,o??null,u,!1,d,f),t[Yt]=n.current,Oi(t),a)for(t=0;t<a.length;t++)o=a[t],u=o._getVersion,u=u(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,u]:n.mutableSourceEagerHydrationData.push(o,u);return new Po(n)},lt.render=function(t,n,o){if(!Ao(n))throw Error(r(200));return xo(null,t,n,!1,o)},lt.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(r(40));return t._reactRootContainer?(nr(function(){xo(null,null,t,!1,function(){t._reactRootContainer=null,t[Yt]=null})}),!0):!1},lt.unstable_batchedUpdates=Xa,lt.unstable_renderSubtreeIntoContainer=function(t,n,o,a){if(!Ao(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return xo(t,n,o,!1,a)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var Lf;function rv(){if(Lf)return uu.exports;Lf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),uu.exports=nv(),uu.exports}var Mf;function iv(){if(Mf)return Do;Mf=1;var i=rv();return Do.createRoot=i.createRoot,Do.hydrateRoot=i.hydrateRoot,Do}var sv=iv();const ov=Gp(sv),lv=()=>{};var Ff={};const Kp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const L=function(i,e){if(!i)throw ri(e)},ri=function(i){return new Error("Firebase Database ("+Kp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};const qp=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},av=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const l=i[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],h=i[r++],p=i[r++],m=((l&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],h=i[r++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},qu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const c=i[l],h=l+1<i.length,p=h?i[l+1]:0,m=l+2<i.length,g=m?i[l+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let E=(p&15)<<2|g>>6,D=g&63;m||(D=64,h||(E=64)),s.push(r[S],r[w],r[E],r[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qp(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):av(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],p=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const w=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||p==null||g==null||w==null)throw new uv;const E=c<<2|p>>4;if(s.push(E),g!==64){const D=p<<4&240|g>>2;if(s.push(D),w!==64){const x=g<<6&192|w;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qp=function(i){const e=qp(i);return qu.encodeByteArray(e,!0)},jo=function(i){return Qp(i).replace(/\./g,"")},Ho=function(i){try{return qu.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cv(i){return Yp(void 0,i)}function Yp(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!dv(r)||(i[r]=Yp(i[r],e[r]));return i}function dv(i){return i!=="__proto__"}function hv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fv=()=>hv().__FIREBASE_DEFAULTS__,pv=()=>{if(typeof process>"u"||typeof Ff>"u")return;const i=Ff.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ho(i[1]);return e&&JSON.parse(e)},Qu=()=>{try{return lv()||fv()||pv()||mv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xp=i=>Qu()?.emulatorHosts?.[i],gv=i=>{const e=Xp(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Jp=()=>Qu()?.config,Zp=i=>Qu()?.[`_${i}`];class Yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}function ii(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function em(i){return(await fetch(i,{credentials:"include"})).ok}function _v(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[jo(JSON.stringify(r)),jo(JSON.stringify(h)),""].join(".")}const ts={};function yv(){const i={prod:[],emulator:[]};for(const e of Object.keys(ts))ts[e]?i.emulator.push(e):i.prod.push(e);return i}function vv(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let bf=!1;function tm(i,e){if(typeof window>"u"||typeof document>"u"||!ii(window.location.host)||ts[i]===e||ts[i]||bf)return;ts[i]=e;function r(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=yv().prod.length>0;function h(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bf=!0,h()},E}function S(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=vv(s),D=r("text"),x=document.getElementById(D)||document.createElement("span"),j=r("learnmore"),V=document.getElementById(j)||document.createElement("a"),H=r("preprendIcon"),X=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ae=E.element;p(ae),S(V,j);const ce=g();m(X,H),ae.append(X,x,V,ce),document.body.appendChild(ae)}c?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function wv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function nm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ev(){const i=Ze();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Cv(){return Kp.NODE_ADMIN===!0}function Iv(){try{return typeof indexedDB=="object"}catch{return!1}}function kv(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const Tv="FirebaseError";class Vn extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Tv,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}}class fs{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?Nv(c,s):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new Vn(l,p,s)}}function Nv(i,e){return i.replace(Rv,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Rv=/\{\$([^}]+)}/g;function ls(i){return JSON.parse(i)}function je(i){return JSON.stringify(i)}const rm=function(i){let e={},r={},s={},l="";try{const c=i.split(".");e=ls(Ho(c[0])||""),r=ls(Ho(c[1])||""),l=c[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},Pv=function(i){const e=rm(i),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Av=function(i){const e=rm(i).claims;return typeof e=="object"&&e.admin===!0};function pn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Jr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Vo(i,e,r){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(r,i[l],l,i));return s}function cr(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const c=i[l],h=e[l];if(Uf(c)&&Uf(h)){if(!cr(c,h))return!1}else if(c!==h)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Uf(i){return i!==null&&typeof i=="object"}function si(i){const e=[];for(const[r,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}class xv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)s[w]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)s[w]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let w=16;w<80;w++){const E=s[w-3]^s[w-8]^s[w-14]^s[w-16];s[w]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,S;for(let w=0;w<80;w++){w<40?w<20?(g=p^c&(h^p),S=1518500249):(g=c^h^p,S=1859775393):w<60?(g=c&h|p&(c|h),S=2400959708):(g=c^h^p,S=3395469782);const E=(l<<5|l>>>27)+g+m+S+s[w]&4294967295;m=p,p=h,h=(c<<30|c>>>2)&4294967295,c=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const c=this.buf_;let h=this.inbuf_;for(;l<r;){if(h===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(c[h]=e.charCodeAt(l),++h,++l,h===this.blockSize){this.compress_(c),h=0;break}}else for(;l<r;)if(c[h]=e[l],++h,++l,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let c=24;c>=0;c-=8)e[s]=this.chain_[l]>>c&255,++s;return e}}function Ov(i,e){const r=new Dv(i,e);return r.subscribe.bind(r)}class Dv{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let l;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");Lv(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:s},l.next===void 0&&(l.next=hu),l.error===void 0&&(l.error=hu),l.complete===void 0&&(l.complete=hu);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lv(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function hu(){}function Mv(i,e){return`${i} failed: ${e} argument `}const Fv=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const c=l-55296;s++,L(s<i.length,"Surrogate pair missing trail surrogate.");const h=i.charCodeAt(s)-56320;l=65536+(c<<10)+h}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},ol=function(i){let e=0;for(let r=0;r<i.length;r++){const s=i.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};function $n(i){return i&&i._delegate?i._delegate:i}class dr{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const or="[DEFAULT]";class bv{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Yu;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zv(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(l)}return l}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uv(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uv(i){return i===or?void 0:i}function zv(i){return i.instantiationMode==="EAGER"}class Bv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bv(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const Wv={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},jv=fe.INFO,Hv={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Vv=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=Hv[e];if(l)console[l](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ju{constructor(e){this.name=e,this._logLevel=jv,this._logHandler=Vv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const $v=(i,e)=>e.some(r=>i instanceof r);let zf,Bf;function Gv(){return zf||(zf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kv(){return Bf||(Bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const im=new WeakMap,Nu=new WeakMap,sm=new WeakMap,fu=new WeakMap,Zu=new WeakMap;function qv(i){const e=new Promise((r,s)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{r(zn(i.result)),l()},h=()=>{s(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&im.set(r,i)}).catch(()=>{}),Zu.set(e,i),e}function Qv(i){if(Nu.has(i))return;const e=new Promise((r,s)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{r(),l()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Nu.set(i,e)}let Ru={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Nu.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sm.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zn(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Yv(i){Ru=i(Ru)}function Xv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(pu(this),e,...r);return sm.set(s,e.sort?e.sort():[e]),zn(s)}:Kv().includes(i)?function(...e){return i.apply(pu(this),e),zn(im.get(this))}:function(...e){return zn(i.apply(pu(this),e))}}function Jv(i){return typeof i=="function"?Xv(i):(i instanceof IDBTransaction&&Qv(i),$v(i,Gv())?new Proxy(i,Ru):i)}function zn(i){if(i instanceof IDBRequest)return qv(i);if(fu.has(i))return fu.get(i);const e=Jv(i);return e!==i&&(fu.set(i,e),Zu.set(e,i)),e}const pu=i=>Zu.get(i);function Zv(i,e,{blocked:r,upgrade:s,blocking:l,terminated:c}={}){const h=indexedDB.open(i,e),p=zn(h);return s&&h.addEventListener("upgradeneeded",m=>{s(zn(h.result),m.oldVersion,m.newVersion,zn(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],mu=new Map;function Wf(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mu.get(e))return mu.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=tw.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ew.includes(r)))return;const c=async function(h,...p){const m=this.transaction(h,l?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),l&&m.done]))[0]};return mu.set(e,c),c}Yv(i=>({...i,get:(e,r,s)=>Wf(e,r)||i.get(e,r,s),has:(e,r)=>!!Wf(e,r)||i.has(e,r)}));class nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(rw(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function rw(i){return i.getComponent()?.type==="VERSION"}const Pu="@firebase/app",jf="0.14.6";const cn=new Ju("@firebase/app"),iw="@firebase/app-compat",sw="@firebase/analytics-compat",ow="@firebase/analytics",lw="@firebase/app-check-compat",aw="@firebase/app-check",uw="@firebase/auth",cw="@firebase/auth-compat",dw="@firebase/database",hw="@firebase/data-connect",fw="@firebase/database-compat",pw="@firebase/functions",mw="@firebase/functions-compat",gw="@firebase/installations",_w="@firebase/installations-compat",yw="@firebase/messaging",vw="@firebase/messaging-compat",ww="@firebase/performance",Sw="@firebase/performance-compat",Ew="@firebase/remote-config",Cw="@firebase/remote-config-compat",Iw="@firebase/storage",kw="@firebase/storage-compat",Tw="@firebase/firestore",Nw="@firebase/ai",Rw="@firebase/firestore-compat",Pw="firebase",Aw="12.6.0";const Au="[DEFAULT]",xw={[Pu]:"fire-core",[iw]:"fire-core-compat",[ow]:"fire-analytics",[sw]:"fire-analytics-compat",[aw]:"fire-app-check",[lw]:"fire-app-check-compat",[uw]:"fire-auth",[cw]:"fire-auth-compat",[dw]:"fire-rtdb",[hw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[pw]:"fire-fn",[mw]:"fire-fn-compat",[gw]:"fire-iid",[_w]:"fire-iid-compat",[yw]:"fire-fcm",[vw]:"fire-fcm-compat",[ww]:"fire-perf",[Sw]:"fire-perf-compat",[Ew]:"fire-rc",[Cw]:"fire-rc-compat",[Iw]:"fire-gcs",[kw]:"fire-gcs-compat",[Tw]:"fire-fst",[Rw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};const $o=new Map,Ow=new Map,xu=new Map;function Hf(i,e){try{i.container.addComponent(e)}catch(r){cn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Zr(i){const e=i.name;if(xu.has(e))return cn.debug(`There were multiple attempts to register component ${e}.`),!1;xu.set(e,i);for(const r of $o.values())Hf(r,i);for(const r of Ow.values())Hf(r,i);return!0}function ec(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function $t(i){return i==null?!1:i.settings!==void 0}const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bn=new fs("app","Firebase",Dw);class Lw{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const oi=Aw;function om(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s={name:Au,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Bn.create("bad-app-name",{appName:String(l)});if(r||(r=Jp()),!r)throw Bn.create("no-options");const c=$o.get(l);if(c){if(cr(r,c.options)&&cr(s,c.config))return c;throw Bn.create("duplicate-app",{appName:l})}const h=new Bv(l);for(const m of xu.values())h.addComponent(m);const p=new Lw(r,s,h);return $o.set(l,p),p}function lm(i=Au){const e=$o.get(i);if(!e&&i===Au&&Jp())return om();if(!e)throw Bn.create("no-app",{appName:i});return e}function Wn(i,e,r){let s=xw[i]??i;r&&(s+=`-${r}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cn.warn(h.join(" "));return}Zr(new dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Mw="firebase-heartbeat-database",Fw=1,as="firebase-heartbeat-store";let gu=null;function am(){return gu||(gu=Zv(Mw,Fw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(as)}catch(r){console.warn(r)}}}}).catch(i=>{throw Bn.create("idb-open",{originalErrorMessage:i.message})})),gu}async function bw(i){try{const r=(await am()).transaction(as),s=await r.objectStore(as).get(um(i));return await r.done,s}catch(e){if(e instanceof Vn)cn.warn(e.message);else{const r=Bn.create("idb-get",{originalErrorMessage:e?.message});cn.warn(r.message)}}}async function Vf(i,e){try{const s=(await am()).transaction(as,"readwrite");await s.objectStore(as).put(e,um(i)),await s.done}catch(r){if(r instanceof Vn)cn.warn(r.message);else{const s=Bn.create("idb-set",{originalErrorMessage:r?.message});cn.warn(s.message)}}}function um(i){return`${i.name}!${i.options.appId}`}const Uw=1024,zw=30;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jw(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$f();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>zw){const l=Hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$f(),{heartbeatsToSend:r,unsentEntries:s}=Ww(this._heartbeatsCache.heartbeats),l=jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cn.warn(e),""}}}function $f(){return new Date().toISOString().substring(0,10)}function Ww(i,e=Uw){const r=[];let s=i.slice();for(const l of i){const c=r.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),Gf(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Gf(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iv()?kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bw(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gf(i){return jo(JSON.stringify({version:2,heartbeats:i})).length}function Hw(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}function Vw(i){Zr(new dr("platform-logger",e=>new nw(e),"PRIVATE")),Zr(new dr("heartbeat",e=>new Bw(e),"PRIVATE")),Wn(Pu,jf,i),Wn(Pu,jf,"esm2020"),Wn("fire-js","")}Vw("");var $w="firebase",Gw="12.7.0";Wn($w,Gw,"app");var Kf={};const qf="@firebase/database",Qf="1.1.0";let cm="";function Kw(i){cm=i}class qw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:ls(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Qw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const dm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qw(e)}}catch{}return new Qw},ar=dm("localStorage"),Yw=dm("sessionStorage");const Kr=new Ju("@firebase/database"),Xw=(function(){let i=1;return function(){return i++}})(),hm=function(i){const e=Fv(i),r=new xv;r.update(e);const s=r.digest();return qu.encodeByteArray(s)},ps=function(...i){let e="";for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ps.apply(null,s):typeof s=="object"?e+=je(s):e+=s,e+=" "}return e};let ns=null,Yf=!0;const Jw=function(i,e){L(!0,"Can't turn on custom loggers persistently."),Kr.logLevel=fe.VERBOSE,ns=Kr.log.bind(Kr)},Ke=function(...i){if(Yf===!0&&(Yf=!1,ns===null&&Yw.get("logging_enabled")===!0&&Jw()),ns){const e=ps.apply(null,i);ns(e)}},ms=function(i){return function(...e){Ke(i,...e)}},Ou=function(...i){const e="FIREBASE INTERNAL ERROR: "+ps(...i);Kr.error(e)},dn=function(...i){const e=`FIREBASE FATAL ERROR: ${ps(...i)}`;throw Kr.error(e),new Error(e)},mt=function(...i){const e="FIREBASE WARNING: "+ps(...i);Kr.warn(e)},Zw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},eS=function(i){if(document.readyState==="complete")i();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},ei="[MIN_NAME]",hr="[MAX_NAME]",li=function(i,e){if(i===e)return 0;if(i===ei||e===hr)return-1;if(e===ei||i===hr)return 1;{const r=Xf(i),s=Xf(e);return r!==null?s!==null?r-s===0?i.length-e.length:r-s:-1:s!==null?1:i<e?-1:1}},tS=function(i,e){return i===e?0:i<e?-1:1},Xi=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+je(e))},tc=function(i){if(typeof i!="object"||i===null)return je(i);const e=[];for(const s in i)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=je(e[s]),r+=":",r+=tc(i[e[s]]);return r+="}",r},pm=function(i,e){const r=i.length;if(r<=e)return[i];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(i.substring(l,r)):s.push(i.substring(l,l+e));return s};function It(i,e){for(const r in i)i.hasOwnProperty(r)&&e(r,i[r])}const mm=function(i){L(!fm(i),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,c,h,p,m;i===0?(c=0,h=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),s),c=p+s,h=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,h=Math.round(i/Math.pow(2,1-s-r))));const g=[];for(m=r;m;m-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(m=e;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(l?1:0),g.reverse();const S=g.join("");let w="";for(m=0;m<64;m+=8){let E=parseInt(S.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),w=w+E}return w.toLowerCase()},nS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},iS=new RegExp("^-?(0*)\\d{1,10}$"),sS=-2147483648,oS=2147483647,Xf=function(i){if(iS.test(i)){const e=Number(i);if(e>=sS&&e<=oS)return e}return null},gs=function(i){try{i()}catch(e){setTimeout(()=>{const r=e.stack||"";throw mt("Exception was thrown by user callback.",r),e},Math.floor(0))}},lS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rs=function(i,e){const r=setTimeout(i,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};class aS{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,$t(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uS{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class bo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bo.OWNER="owner";const nc="5",gm="v",_m="s",ym="r",vm="f",wm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sm="ls",Em="p",Du="ac",Cm="websocket",Im="long_polling";class km{constructor(e,r,s,l,c=!1,h="",p=!1,m=!1,g=null){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function cS(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Tm(i,e,r){L(typeof e=="string","typeof type must == string"),L(typeof r=="object","typeof params must == object");let s;if(e===Cm)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===Im)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cS(i)&&(r.ns=i.namespace);const l=[];return It(r,(c,h)=>{l.push(c+"="+h)}),s+l.join("&")}class dS{constructor(){this.counters_={}}incrementCounter(e,r=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return cv(this.counters_)}}const _u={},yu={};function rc(i){const e=i.toString();return _u[e]||(_u[e]=new dS),_u[e]}function hS(i,e){const r=i.toString();return yu[r]||(yu[r]=e()),yu[r]}class fS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&gs(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Jf="start",pS="close",mS="pLPCommand",gS="pRTLPCB",Nm="id",Rm="pw",Pm="ser",_S="cb",yS="seg",vS="ts",wS="d",SS="dframe",Am=1870,xm=30,ES=Am-xm,CS=25e3,IS=3e4;class Vr{constructor(e,r,s,l,c,h,p){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=c,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ms(e),this.stats_=rc(r),this.urlFn=m=>(this.appCheckToken&&(m[Du]=this.appCheckToken),Tm(r,Im,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new fS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IS)),eS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ic((...c)=>{const[h,p,m,g,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Jf)this.id=p,this.password=m;else if(h===pS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const s={};s[Jf]="t",s[Pm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[_S]=this.scriptTagHolder.uniqueCallbackIdentifier),s[gm]=nc,this.transportSessionId&&(s[_m]=this.transportSessionId),this.lastSessionId&&(s[Sm]=this.lastSessionId),this.applicationId&&(s[Em]=this.applicationId),this.appCheckToken&&(s[Du]=this.appCheckToken),typeof location<"u"&&location.hostname&&wm.test(location.hostname)&&(s[ym]=vm);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return Vr.forceAllow_?!0:!Vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nS()&&!rS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=je(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Qp(r),l=pm(s,ES);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[SS]="t",s[Nm]=e,s[Rm]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=je(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class ic{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xw(),window[mS+this.uniqueCallbackIdentifier]=e,window[gS+this.uniqueCallbackIdentifier]=r,this.myIFrame=ic.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Ke("frame writing exception"),p.stack&&Ke(p.stack),Ke(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Nm]=this.myID,e[Rm]=this.myPW,e[Pm]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xm+s.length<=Am;){const h=this.pendingSegs.shift();s=s+"&"+yS+l+"="+h.seg+"&"+vS+l+"="+h.ts+"&"+wS+l+"="+h.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(CS)),c=()=>{clearTimeout(l),s()};this.addTag(e,c)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const kS=16384,TS=45e3;let Go=null;typeof MozWebSocket<"u"?Go=MozWebSocket:typeof WebSocket<"u"&&(Go=WebSocket);class Dt{constructor(e,r,s,l,c,h,p){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ms(this.connId),this.stats_=rc(r),this.connURL=Dt.connectionURL_(r,h,p,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,c){const h={};return h[gm]=nc,typeof location<"u"&&location.hostname&&wm.test(location.hostname)&&(h[ym]=vm),r&&(h[_m]=r),s&&(h[Sm]=s),l&&(h[Du]=l),c&&(h[Em]=c),Tm(e,Cm,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ar.set("previous_websocket_failure",!0);try{let s;Cv(),this.mySock=new Go(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Dt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Go!==null&&!Dt.forceDisallow_}static previouslyFailed(){return ar.isInMemoryStorage||ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=ls(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=je(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=pm(r,kS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(TS))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dt.responsesRequiredToBeHealthy=2;Dt.healthyTimeout=3e4;class us{static get ALL_TRANSPORTS(){return[Vr,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Dt&&Dt.isAvailable();let s=r&&!Dt.previouslyFailed();if(e.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Dt];else{const l=this.transports_=[];for(const c of us.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}us.globalTransportInitialized_=!1;const NS=6e4,RS=5e3,PS=10*1024,AS=100*1024,vu="t",Zf="d",xS="s",ep="r",OS="e",tp="o",np="a",rp="n",ip="p",DS="h";class LS{constructor(e,r,s,l,c,h,p,m,g,S){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ms("c:"+this.id+":"),this.transportManager_=new us(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=rs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>AS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vu in e){const r=e[vu];r===np?this.upgradeIfSecondaryHealthy_():r===ep?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===tp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Xi("t",e),s=Xi("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ip,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Xi("t",e),s=Xi("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Xi(vu,e);if(Zf in e){const s=e[Zf];if(r===DS){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===rp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===xS?this.onConnectionShutdown_(s):r===ep?this.onReset_(s):r===OS?Ou("Server Error: "+s):r===tp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ou("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),nc!==s&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),rs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ip,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Om{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}class Dm{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let c=0;c<l.length;c++)if(l[c].callback===r&&(!s||s===l[c].context)){l.splice(c,1);return}}validateEventType_(e){L(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}class Ko extends Dm{static getInstance(){return new Ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const sp=32,op=768;class Se{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function pe(){return new Se("")}function ne(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Hn(i){return i.pieces_.length-i.pieceNum_}function we(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Se(i.pieces_,e)}function Lm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function MS(i){let e="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[r])));return e||"/"}function Mm(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Fm(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)e.push(i.pieces_[r]);return new Se(e,0)}function Ue(i,e){const r=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)r.push(i.pieces_[s]);if(e instanceof Se)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new Se(r,0)}function te(i){return i.pieceNum_>=i.pieces_.length}function Ct(i,e){const r=ne(i),s=ne(e);if(r===null)return e;if(r===s)return Ct(we(i),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function bm(i,e){if(Hn(i)!==Hn(e))return!1;for(let r=i.pieceNum_,s=e.pieceNum_;r<=i.pieces_.length;r++,s++)if(i.pieces_[r]!==e.pieces_[s])return!1;return!0}function Lt(i,e){let r=i.pieceNum_,s=e.pieceNum_;if(Hn(i)>Hn(e))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class FS{constructor(e,r){this.errorPrefix_=r,this.parts_=Mm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ol(this.parts_[s]);Um(this)}}function bS(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=ol(e),Um(i)}function US(i){const e=i.parts_.pop();i.byteLength_-=ol(e),i.parts_.length>0&&(i.byteLength_-=1)}function Um(i){if(i.byteLength_>op)throw new Error(i.errorPrefix_+"has a key path longer than "+op+" bytes ("+i.byteLength_+").");if(i.parts_.length>sp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sp+") or object contains a cycle "+lr(i))}function lr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}class sc extends Dm{static getInstance(){return new sc}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}const Ji=1e3,zS=300*1e3,lp=30*1e3,BS=1.3,WS=3e4,jS="server_kill",ap=3;class un extends Om{constructor(e,r,s,l,c,h,p,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=un.nextPersistentConnectionId_++,this.log_=ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ji,this.maxReconnectDelay_=zS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ko.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,c={r:l,a:e,b:r};this.log_(je(c)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Yu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(e,r,s,l){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const c={p:s},h="q";e.tag&&(c.q=r._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(h,c,p=>{const m=p.d,g=p.s;un.warnOnListenWarnings_(m,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&pn(e,"w")){const s=Jr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Av(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=Pv(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const c=l.s,h=l.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const c={p:e},h="n";l&&(c.q=s,c.t=l),this.sendRequest(h,c)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const c={p:r,d:s};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{l&&setTimeout(()=>{l(h.s,h.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,c){this.initConnection_();const h={p:r,d:s};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:l}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const c=s.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Ou("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WS&&(this.reconnectDelay_=Ji),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+un.nextConnectionId_++,c=this.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,s())},g=function(w){L(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=E&&E.token,p=new LS(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,D=>{mt(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(jS)},c))}catch(w){this.log_("Failed to get token: "+w),h||(this.repoInfo_.nodeAdmin&&mt(w),m())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tu(this.interruptReasons_)&&(this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(c=>tc(c)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new Se(e).toString();let l;if(this.listens.has(s)){const c=this.listens.get(s);l=c.get(r),c.delete(r),c.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){Ke("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ap&&(this.reconnectDelay_=lp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ke("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ap&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+cm.replace(/\./g,"-")]=1,Xu()?e["framework.cordova"]=1:nm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ko.getInstance().currentlyOnline();return Tu(this.interruptReasons_)&&e}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;class re{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new re(e,r)}}class ll{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new re(ei,e),l=new re(ei,r);return this.compare(s,l)!==0}minPost(){return re.MIN}}let Lo;class zm extends ll{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(e){Lo=e}compare(e,r){return li(e.name,r.name)}isDefinedOn(e){throw ri("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return re.MIN}maxPost(){return new re(hr,Lo)}makePost(e,r){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,Lo)}toString(){return".key"}}const qr=new zm;class Mo{constructor(e,r,s,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=r?s(e.key,r):1,l&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class be{constructor(e,r,s,l,c){this.key=e,this.value=r,this.color=s??be.RED,this.left=l??at.EMPTY_NODE,this.right=c??at.EMPTY_NODE}copy(e,r,s,l,c){return new be(e??this.key,r??this.value,s??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const c=s(e,l.key);return c<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):c===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return at.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}be.RED=!0;be.BLACK=!1;class HS{copy(e,r,s,l,c){return this}insert(e,r,s){return new be(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(e,r=at.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new at(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,be.BLACK,null,null))}remove(e){return new at(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,be.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Mo(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Mo(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Mo(this.root_,null,this.comparator_,!0,e)}}at.EMPTY_NODE=new HS;function VS(i,e){return li(i.name,e.name)}function oc(i,e){return li(i,e)}let Lu;function $S(i){Lu=i}const Bm=function(i){return typeof i=="number"?"number:"+mm(i):"string:"+i},Wm=function(i){if(i.isLeafNode()){const e=i.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else L(i===Lu||i.isEmpty(),"priority of unexpected type.");L(i===Lu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let up;class Fe{static set __childrenNodeConstructor(e){up=e}static get __childrenNodeConstructor(){return up}constructor(e,r=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:ne(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=ne(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(L(s!==".priority"||Hn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bm(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=mm(this.value_):e+=this.value_,this.lazyHash_=hm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=Fe.VALUE_TYPE_ORDER.indexOf(r),c=Fe.VALUE_TYPE_ORDER.indexOf(s);return L(l>=0,"Unknown leaf type: "+r),L(c>=0,"Unknown leaf type: "+s),l===c?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];let jm,Hm;function GS(i){jm=i}function KS(i){Hm=i}class qS extends ll{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),c=s.compareTo(l);return c===0?li(e.name,r.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return re.MIN}maxPost(){return new re(hr,new Fe("[PRIORITY-POST]",Hm))}makePost(e,r){const s=jm(e);return new re(r,new Fe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Qe=new qS;const QS=Math.log(2);class YS{constructor(e){const r=c=>parseInt(Math.log(c)/QS,10),s=c=>parseInt(Array(c+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qo=function(i,e,r,s){i.sort(e);const l=function(m,g){const S=g-m;let w,E;if(S===0)return null;if(S===1)return w=i[m],E=r?r(w):w,new be(E,w.node,be.BLACK,null,null);{const D=parseInt(S/2,10)+m,x=l(m,D),j=l(D+1,g);return w=i[D],E=r?r(w):w,new be(E,w.node,be.BLACK,x,j)}},c=function(m){let g=null,S=null,w=i.length;const E=function(x,j){const V=w-x,H=w;w-=x;const X=l(V+1,H),ae=i[V],ce=r?r(ae):ae;D(new be(ce,ae.node,j,null,X))},D=function(x){g?(g.left=x,g=x):(S=x,g=x)};for(let x=0;x<m.count;++x){const j=m.nextBitIsOne(),V=Math.pow(2,m.count-(x+1));j?E(V,be.BLACK):(E(V,be.BLACK),E(V,be.RED))}return S},h=new YS(i.length),p=c(h);return new at(s||e,p)};let wu;const Hr={};class on{static get Default(){return L(Hr&&Qe,"ChildrenNode.ts has not been loaded"),wu=wu||new on({".priority":Hr},{".priority":Qe}),wu}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=Jr(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof at?r:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,r){L(e!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const c=r.getIterator(re.Wrap);let h=c.getNext();for(;h;)l=l||e.isDefinedOn(h.node),s.push(h),h=c.getNext();let p;l?p=qo(s,e.getCompare()):p=Hr;const m=e.toString(),g={...this.indexSet_};g[m]=e;const S={...this.indexes_};return S[m]=p,new on(S,g)}addToIndexes(e,r){const s=Vo(this.indexes_,(l,c)=>{const h=Jr(this.indexSet_,c);if(L(h,"Missing index implementation for "+c),l===Hr)if(h.isDefinedOn(e.node)){const p=[],m=r.getIterator(re.Wrap);let g=m.getNext();for(;g;)g.name!==e.name&&p.push(g),g=m.getNext();return p.push(e),qo(p,h.getCompare())}else return Hr;else{const p=r.get(e.name);let m=l;return p&&(m=m.remove(new re(e.name,p))),m.insert(e,e.node)}});return new on(s,this.indexSet_)}removeFromIndexes(e,r){const s=Vo(this.indexes_,l=>{if(l===Hr)return l;{const c=r.get(e.name);return c?l.remove(new re(e.name,c)):l}});return new on(s,this.indexSet_)}}let Zi;class ue{static get EMPTY_NODE(){return Zi||(Zi=new ue(new at(oc),null,on.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Wm(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zi}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Zi:r}}getChild(e){const r=ne(e);return r===null?this:this.getImmediateChild(r).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(L(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new re(e,r);let l,c;r.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),c=this.indexMap_.addToIndexes(s,this.children_));const h=l.isEmpty()?Zi:this.priorityNode_;return new ue(l,h,c)}}updateChild(e,r){const s=ne(e);if(s===null)return r;{L(ne(e)!==".priority"||Hn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(we(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,c=!0;if(this.forEachChild(Qe,(h,p)=>{r[h]=p.val(e),s++,c&&ue.INTEGER_REGEXP_.test(h)?l=Math.max(l,Number(h)):c=!1}),!e&&c&&l<2*s){const h=[];for(const p in r)h[p]=r[p];return h}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Bm(this.getPriority().val())+":"),this.forEachChild(Qe,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":hm(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const c=l.getPredecessorKey(new re(e,r));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new re(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new re(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,re.Wrap);let c=l.peek();for(;c!=null&&r.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,re.Wrap);let c=l.peek();for(;c!=null&&r.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_s?-1:0}withIndex(e){if(e===qr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(Qe),l=r.getIterator(Qe);let c=s.getNext(),h=l.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=s.getNext(),h=l.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===qr?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XS extends ue{constructor(){super(new at(oc),ue.EMPTY_NODE,on.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const _s=new XS;Object.defineProperties(re,{MIN:{value:new re(ei,ue.EMPTY_NODE)},MAX:{value:new re(hr,_s)}});zm.__EMPTY_NODE=ue.EMPTY_NODE;Fe.__childrenNodeConstructor=ue;$S(_s);KS(_s);const JS=!0;function qe(i,e=null){if(i===null)return ue.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Fe(r,qe(e))}if(!(i instanceof Array)&&JS){const r=[];let s=!1;if(It(i,(h,p)=>{if(h.substring(0,1)!=="."){const m=qe(p);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),r.push(new re(h,m)))}}),r.length===0)return ue.EMPTY_NODE;const c=qo(r,VS,h=>h.name,oc);if(s){const h=qo(r,Qe.getCompare());return new ue(c,qe(e),new on({".priority":h},{".priority":Qe}))}else return new ue(c,qe(e),on.Default)}else{let r=ue.EMPTY_NODE;return It(i,(s,l)=>{if(pn(i,s)&&s.substring(0,1)!=="."){const c=qe(l);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(s,c))}}),r.updatePriority(qe(e))}}GS(qe);class ZS extends ll{constructor(e){super(),this.indexPath_=e,L(!te(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),c=s.compareTo(l);return c===0?li(e.name,r.name):c}makePost(e,r){const s=qe(e),l=ue.EMPTY_NODE.updateChild(this.indexPath_,s);return new re(r,l)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,_s);return new re(hr,e)}toString(){return Mm(this.indexPath_,0).join("/")}}class eE extends ll{compare(e,r){const s=e.node.compareTo(r.node);return s===0?li(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,r){const s=qe(e);return new re(r,s)}toString(){return".value"}}const tE=new eE;function nE(i){return{type:"value",snapshotNode:i}}function rE(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function iE(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function cp(i,e,r){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:r}}function sE(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}class lc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ei}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new lc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dp(i){const e={};if(i.isDefault())return e;let r;if(i.index_===Qe?r="$priority":i.index_===tE?r="$value":i.index_===qr?r="$key":(L(i.index_ instanceof ZS,"Unrecognized index type!"),r=i.index_.toString()),e.orderBy=je(r),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=je(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+je(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=je(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+je(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function hp(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),e.vf=r}return i.index_!==Qe&&(e.i=i.index_.toString()),e}class Qo extends Om{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=ms("p:rest:"),this.listens_={}}listen(e,r,s,l){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=Qo.getListenId_(e,s),p={};this.listens_[h]=p;const m=dp(e._queryParams);this.restRequest_(c+".json",m,(g,S)=>{let w=S;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(c,w,!1,s),Jr(this.listens_,h)===p){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",l(E,null)}})}unlisten(e,r){const s=Qo.getListenId_(e,r);delete this.listens_[s]}get(e){const r=dp(e._queryParams),s=e._path.toString(),l=new Yu;return this.restRequest_(s+".json",r,(c,h)=>{let p=h;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(s,p,!1,null),l.resolve(p)):l.reject(new Error(p))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(r.auth=l.accessToken),c&&c.token&&(r.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+si(r);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(s&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=ls(p.responseText)}catch{mt("Failed to parse JSON response for "+h+": "+p.responseText)}s(null,m)}else p.status!==401&&p.status!==404&&mt("Got unsuccessful REST response for "+h+" Status: "+p.status),s(p.status);s=null}},p.open("GET",h,!0),p.send()})}}class oE{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}function Yo(){return{value:null,children:new Map}}function Vm(i,e,r){if(te(e))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,r);else{const s=ne(e);i.children.has(s)||i.children.set(s,Yo());const l=i.children.get(s);e=we(e),Vm(l,e,r)}}function Mu(i,e,r){i.value!==null?r(e,i.value):lE(i,(s,l)=>{const c=new Se(e.toString()+"/"+s);Mu(l,c,r)})}function lE(i,e){i.children.forEach((r,s)=>{e(s,r)})}class aE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&It(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}const fp=10*1e3,uE=30*1e3,cE=300*1e3;class dE{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new aE(e);const s=fp+(uE-fp)*Math.random();rs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;It(e,(l,c)=>{c>0&&pn(this.statsToReport_,l)&&(r[l]=c,s=!0)}),s&&this.server_.reportStats(r),rs(this.reportStats_.bind(this),Math.floor(Math.random()*2*cE))}}var Gt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function $m(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Km(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Xo{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=Gt.ACK_USER_WRITE,this.source=$m()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Se(e));return new Xo(pe(),r,this.revert)}}else return L(ne(this.path)===e,"operationForChild called for unrelated child."),new Xo(we(this.path),this.affectedTree,this.revert)}}class fr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=Gt.OVERWRITE}operationForChild(e){return te(this.path)?new fr(this.source,pe(),this.snap.getImmediateChild(e)):new fr(this.source,we(this.path),this.snap)}}class cs{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=Gt.MERGE}operationForChild(e){if(te(this.path)){const r=this.children.subtree(new Se(e));return r.isEmpty()?null:r.value?new fr(this.source,pe(),r.value):new cs(this.source,pe(),r)}else return L(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cs(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ac{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const r=ne(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function hE(i,e,r,s){const l=[],c=[];return e.forEach(h=>{h.type==="child_changed"&&i.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(sE(h.childName,h.snapshotNode))}),es(i,l,"child_removed",e,s,r),es(i,l,"child_added",e,s,r),es(i,l,"child_moved",c,s,r),es(i,l,"child_changed",e,s,r),es(i,l,"value",e,s,r),l}function es(i,e,r,s,l,c){const h=s.filter(p=>p.type===r);h.sort((p,m)=>pE(i,p,m)),h.forEach(p=>{const m=fE(i,p,c);l.forEach(g=>{g.respondsTo(p.type)&&e.push(g.createEvent(m,i.query_))})})}function fE(i,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function pE(i,e,r){if(e.childName==null||r.childName==null)throw ri("Should only compare child_ events.");const s=new re(e.childName,e.snapshotNode),l=new re(r.childName,r.snapshotNode);return i.index_.compare(s,l)}function qm(i,e){return{eventCache:i,serverCache:e}}function is(i,e,r,s){return qm(new ac(e,r,s),i.serverCache)}function Qm(i,e,r,s){return qm(i.eventCache,new ac(e,r,s))}function Fu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function pr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Su;const mE=()=>(Su||(Su=new at(tS)),Su);class ve{static fromObject(e){let r=new ve(null);return It(e,(s,l)=>{r=r.set(new Se(s),l)}),r}constructor(e,r=mE()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:pe(),value:this.value};if(te(e))return null;{const s=ne(e),l=this.children.get(s);if(l!==null){const c=l.findRootMostMatchingPathAndValue(we(e),r);return c!=null?{path:Ue(new Se(s),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const r=ne(e),s=this.children.get(r);return s!==null?s.subtree(we(e)):new ve(null)}}set(e,r){if(te(e))return new ve(r,this.children);{const s=ne(e),c=(this.children.get(s)||new ve(null)).set(we(e),r),h=this.children.insert(s,c);return new ve(this.value,h)}}remove(e){if(te(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const r=ne(e),s=this.children.get(r);if(s){const l=s.remove(we(e));let c;return l.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,l),this.value===null&&c.isEmpty()?new ve(null):new ve(this.value,c)}else return this}}get(e){if(te(e))return this.value;{const r=ne(e),s=this.children.get(r);return s?s.get(we(e)):null}}setTree(e,r){if(te(e))return r;{const s=ne(e),c=(this.children.get(s)||new ve(null)).setTree(we(e),r);let h;return c.isEmpty()?h=this.children.remove(s):h=this.children.insert(s,c),new ve(this.value,h)}}fold(e){return this.fold_(pe(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,c)=>{s[l]=c.fold_(Ue(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,pe(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(te(e))return null;{const c=ne(e),h=this.children.get(c);return h?h.findOnPath_(we(e),Ue(r,c),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,pe(),r)}foreachOnPath_(e,r,s){if(te(e))return this;{this.value&&s(r,this.value);const l=ne(e),c=this.children.get(l);return c?c.foreachOnPath_(we(e),Ue(r,l),s):new ve(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(Ue(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}class bt{constructor(e){this.writeTree_=e}static empty(){return new bt(new ve(null))}}function ss(i,e,r){if(te(e))return new bt(new ve(r));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let c=s.value;const h=Ct(l,e);return c=c.updateChild(h,r),new bt(i.writeTree_.set(l,c))}else{const l=new ve(r),c=i.writeTree_.setTree(e,l);return new bt(c)}}}function pp(i,e,r){let s=i;return It(r,(l,c)=>{s=ss(s,Ue(e,l),c)}),s}function mp(i,e){if(te(e))return bt.empty();{const r=i.writeTree_.setTree(e,new ve(null));return new bt(r)}}function bu(i,e){return gr(i,e)!=null}function gr(i,e){const r=i.writeTree_.findRootMostValueAndPath(e);return r!=null?i.writeTree_.get(r.path).getChild(Ct(r.path,e)):null}function gp(i){const e=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Qe,(s,l)=>{e.push(new re(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new re(s,l.value))}),e}function jn(i,e){if(te(e))return i;{const r=gr(i,e);return r!=null?new bt(new ve(r)):new bt(i.writeTree_.subtree(e))}}function Uu(i){return i.writeTree_.isEmpty()}function ti(i,e){return Ym(pe(),i.writeTree_,e)}function Ym(i,e,r){if(e.value!=null)return r.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,c)=>{l===".priority"?(L(c.value!==null,"Priority writes must always be leaf nodes"),s=c.value):r=Ym(Ue(i,l),c,r)}),!r.getChild(i).isEmpty()&&s!==null&&(r=r.updateChild(Ue(i,".priority"),s)),r}}function Xm(i,e){return ng(e,i)}function gE(i,e,r,s,l){L(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(i.visibleWrites=ss(i.visibleWrites,e,r)),i.lastWriteId=s}function _E(i,e){for(let r=0;r<i.allWrites.length;r++){const s=i.allWrites[r];if(s.writeId===e)return s}return null}function yE(i,e){const r=i.allWrites.findIndex(p=>p.writeId===e);L(r>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[r];i.allWrites.splice(r,1);let l=s.visible,c=!1,h=i.allWrites.length-1;for(;l&&h>=0;){const p=i.allWrites[h];p.visible&&(h>=r&&vE(p,s.path)?l=!1:Lt(s.path,p.path)&&(c=!0)),h--}if(l){if(c)return wE(i),!0;if(s.snap)i.visibleWrites=mp(i.visibleWrites,s.path);else{const p=s.children;It(p,m=>{i.visibleWrites=mp(i.visibleWrites,Ue(s.path,m))})}return!0}else return!1}function vE(i,e){if(i.snap)return Lt(i.path,e);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Lt(Ue(i.path,r),e))return!0;return!1}function wE(i){i.visibleWrites=Jm(i.allWrites,SE,pe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function SE(i){return i.visible}function Jm(i,e,r){let s=bt.empty();for(let l=0;l<i.length;++l){const c=i[l];if(e(c)){const h=c.path;let p;if(c.snap)Lt(r,h)?(p=Ct(r,h),s=ss(s,p,c.snap)):Lt(h,r)&&(p=Ct(h,r),s=ss(s,pe(),c.snap.getChild(p)));else if(c.children){if(Lt(r,h))p=Ct(r,h),s=pp(s,p,c.children);else if(Lt(h,r))if(p=Ct(h,r),te(p))s=pp(s,pe(),c.children);else{const m=Jr(c.children,ne(p));if(m){const g=m.getChild(we(p));s=ss(s,pe(),g)}}}else throw ri("WriteRecord should have .snap or .children")}}return s}function Zm(i,e,r,s,l){if(!s&&!l){const c=gr(i.visibleWrites,e);if(c!=null)return c;{const h=jn(i.visibleWrites,e);if(Uu(h))return r;if(r==null&&!bu(h,pe()))return null;{const p=r||ue.EMPTY_NODE;return ti(h,p)}}}else{const c=jn(i.visibleWrites,e);if(!l&&Uu(c))return r;if(!l&&r==null&&!bu(c,pe()))return null;{const h=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Lt(g.path,e)||Lt(e,g.path))},p=Jm(i.allWrites,h,e),m=r||ue.EMPTY_NODE;return ti(p,m)}}}function EE(i,e,r){let s=ue.EMPTY_NODE;const l=gr(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Qe,(c,h)=>{s=s.updateImmediateChild(c,h)}),s;if(r){const c=jn(i.visibleWrites,e);return r.forEachChild(Qe,(h,p)=>{const m=ti(jn(c,new Se(h)),p);s=s.updateImmediateChild(h,m)}),gp(c).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}else{const c=jn(i.visibleWrites,e);return gp(c).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}}function CE(i,e,r,s,l){L(s||l,"Either existingEventSnap or existingServerSnap must exist");const c=Ue(e,r);if(bu(i.visibleWrites,c))return null;{const h=jn(i.visibleWrites,c);return Uu(h)?l.getChild(r):ti(h,l.getChild(r))}}function IE(i,e,r,s){const l=Ue(e,r),c=gr(i.visibleWrites,l);if(c!=null)return c;if(s.isCompleteForChild(r)){const h=jn(i.visibleWrites,l);return ti(h,s.getNode().getImmediateChild(r))}else return null}function kE(i,e){return gr(i.visibleWrites,e)}function TE(i,e,r,s,l,c,h){let p;const m=jn(i.visibleWrites,e),g=gr(m,pe());if(g!=null)p=g;else if(r!=null)p=ti(m,r);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const S=[],w=h.getCompare(),E=c?p.getReverseIteratorFrom(s,h):p.getIteratorFrom(s,h);let D=E.getNext();for(;D&&S.length<l;)w(D,s)!==0&&S.push(D),D=E.getNext();return S}else return[]}function NE(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function zu(i,e,r,s){return Zm(i.writeTree,i.treePath,e,r,s)}function eg(i,e){return EE(i.writeTree,i.treePath,e)}function _p(i,e,r,s){return CE(i.writeTree,i.treePath,e,r,s)}function Jo(i,e){return kE(i.writeTree,Ue(i.treePath,e))}function RE(i,e,r,s,l,c){return TE(i.writeTree,i.treePath,e,r,s,l,c)}function uc(i,e,r){return IE(i.writeTree,i.treePath,e,r)}function tg(i,e){return ng(Ue(i.treePath,e),i.writeTree)}function ng(i,e){return{treePath:i,writeTree:e}}class PE{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;L(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),L(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const c=l.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(s,cp(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(s,iE(s,l.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(s,rE(s,e.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(s,cp(s,e.snapshotNode,l.oldSnap));else throw ri("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class AE{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const rg=new AE;class cc{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ac(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uc(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pr(this.viewCache_),c=RE(this.writes_,l,r,1,s,e);return c.length===0?null:c[0]}}function xE(i,e){L(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function OE(i,e,r,s,l){const c=new PE;let h,p;if(r.type===Gt.OVERWRITE){const g=r;g.source.fromUser?h=Bu(i,e,g.path,g.snap,s,l,c):(L(g.source.fromServer,"Unknown source."),p=g.source.tagged||e.serverCache.isFiltered()&&!te(g.path),h=Zo(i,e,g.path,g.snap,s,l,p,c))}else if(r.type===Gt.MERGE){const g=r;g.source.fromUser?h=LE(i,e,g.path,g.children,s,l,c):(L(g.source.fromServer,"Unknown source."),p=g.source.tagged||e.serverCache.isFiltered(),h=Wu(i,e,g.path,g.children,s,l,p,c))}else if(r.type===Gt.ACK_USER_WRITE){const g=r;g.revert?h=bE(i,e,g.path,s,l,c):h=ME(i,e,g.path,g.affectedTree,s,l,c)}else if(r.type===Gt.LISTEN_COMPLETE)h=FE(i,e,r.path,s,c);else throw ri("Unknown operation type: "+r.type);const m=c.getChanges();return DE(e,h,m),{viewCache:h,changes:m}}function DE(i,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=Fu(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&r.push(nE(Fu(e)))}}function ig(i,e,r,s,l,c){const h=e.eventCache;if(Jo(s,r)!=null)return e;{let p,m;if(te(r))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=pr(e),S=g instanceof ue?g:ue.EMPTY_NODE,w=eg(s,S);p=i.filter.updateFullNode(e.eventCache.getNode(),w,c)}else{const g=zu(s,pr(e));p=i.filter.updateFullNode(e.eventCache.getNode(),g,c)}else{const g=ne(r);if(g===".priority"){L(Hn(r)===1,"Can't have a priority with additional path components");const S=h.getNode();m=e.serverCache.getNode();const w=_p(s,r,S,m);w!=null?p=i.filter.updatePriority(S,w):p=h.getNode()}else{const S=we(r);let w;if(h.isCompleteForChild(g)){m=e.serverCache.getNode();const E=_p(s,r,h.getNode(),m);E!=null?w=h.getNode().getImmediateChild(g).updateChild(S,E):w=h.getNode().getImmediateChild(g)}else w=uc(s,g,e.serverCache);w!=null?p=i.filter.updateChild(h.getNode(),g,w,S,l,c):p=h.getNode()}}return is(e,p,h.isFullyInitialized()||te(r),i.filter.filtersNodes())}}function Zo(i,e,r,s,l,c,h,p){const m=e.serverCache;let g;const S=h?i.filter:i.filter.getIndexedFilter();if(te(r))g=S.updateFullNode(m.getNode(),s,null);else if(S.filtersNodes()&&!m.isFiltered()){const D=m.getNode().updateChild(r,s);g=S.updateFullNode(m.getNode(),D,null)}else{const D=ne(r);if(!m.isCompleteForPath(r)&&Hn(r)>1)return e;const x=we(r),V=m.getNode().getImmediateChild(D).updateChild(x,s);D===".priority"?g=S.updatePriority(m.getNode(),V):g=S.updateChild(m.getNode(),D,V,x,rg,null)}const w=Qm(e,g,m.isFullyInitialized()||te(r),S.filtersNodes()),E=new cc(l,w,c);return ig(i,w,r,l,E,p)}function Bu(i,e,r,s,l,c,h){const p=e.eventCache;let m,g;const S=new cc(l,e,c);if(te(r))g=i.filter.updateFullNode(e.eventCache.getNode(),s,h),m=is(e,g,!0,i.filter.filtersNodes());else{const w=ne(r);if(w===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),m=is(e,g,p.isFullyInitialized(),p.isFiltered());else{const E=we(r),D=p.getNode().getImmediateChild(w);let x;if(te(E))x=s;else{const j=S.getCompleteChild(w);j!=null?Lm(E)===".priority"&&j.getChild(Fm(E)).isEmpty()?x=j:x=j.updateChild(E,s):x=ue.EMPTY_NODE}if(D.equals(x))m=e;else{const j=i.filter.updateChild(p.getNode(),w,x,E,S,h);m=is(e,j,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function yp(i,e){return i.eventCache.isCompleteForChild(e)}function LE(i,e,r,s,l,c,h){let p=e;return s.foreach((m,g)=>{const S=Ue(r,m);yp(e,ne(S))&&(p=Bu(i,p,S,g,l,c,h))}),s.foreach((m,g)=>{const S=Ue(r,m);yp(e,ne(S))||(p=Bu(i,p,S,g,l,c,h))}),p}function vp(i,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Wu(i,e,r,s,l,c,h,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,g;te(r)?g=s:g=new ve(null).setTree(r,s);const S=e.serverCache.getNode();return g.children.inorderTraversal((w,E)=>{if(S.hasChild(w)){const D=e.serverCache.getNode().getImmediateChild(w),x=vp(i,D,E);m=Zo(i,m,new Se(w),x,l,c,h,p)}}),g.children.inorderTraversal((w,E)=>{const D=!e.serverCache.isCompleteForChild(w)&&E.value===null;if(!S.hasChild(w)&&!D){const x=e.serverCache.getNode().getImmediateChild(w),j=vp(i,x,E);m=Zo(i,m,new Se(w),j,l,c,h,p)}}),m}function ME(i,e,r,s,l,c,h){if(Jo(l,r)!=null)return e;const p=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(te(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Zo(i,e,r,m.getNode().getChild(r),l,c,p,h);if(te(r)){let g=new ve(null);return m.getNode().forEachChild(qr,(S,w)=>{g=g.set(new Se(S),w)}),Wu(i,e,r,g,l,c,p,h)}else return e}else{let g=new ve(null);return s.foreach((S,w)=>{const E=Ue(r,S);m.isCompleteForPath(E)&&(g=g.set(S,m.getNode().getChild(E)))}),Wu(i,e,r,g,l,c,p,h)}}function FE(i,e,r,s,l){const c=e.serverCache,h=Qm(e,c.getNode(),c.isFullyInitialized()||te(r),c.isFiltered());return ig(i,h,r,s,rg,l)}function bE(i,e,r,s,l,c){let h;if(Jo(s,r)!=null)return e;{const p=new cc(s,e,l),m=e.eventCache.getNode();let g;if(te(r)||ne(r)===".priority"){let S;if(e.serverCache.isFullyInitialized())S=zu(s,pr(e));else{const w=e.serverCache.getNode();L(w instanceof ue,"serverChildren would be complete if leaf node"),S=eg(s,w)}S=S,g=i.filter.updateFullNode(m,S,c)}else{const S=ne(r);let w=uc(s,S,e.serverCache);w==null&&e.serverCache.isCompleteForChild(S)&&(w=m.getImmediateChild(S)),w!=null?g=i.filter.updateChild(m,S,w,we(r),p,c):e.eventCache.getNode().hasChild(S)?g=i.filter.updateChild(m,S,ue.EMPTY_NODE,we(r),p,c):g=m,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=zu(s,pr(e)),h.isLeafNode()&&(g=i.filter.updateFullNode(g,h,c)))}return h=e.serverCache.isFullyInitialized()||Jo(s,pe())!=null,is(e,g,h,i.filter.filtersNodes())}}function UE(i,e){const r=pr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!te(e)&&!r.getImmediateChild(ne(e)).isEmpty())?r.getChild(e):null}function wp(i,e,r,s){e.type===Gt.MERGE&&e.source.queryId!==null&&(L(pr(i.viewCache_),"We should always have a full cache before handling merges"),L(Fu(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,c=OE(i.processor_,l,e,r,s);return xE(i.processor_,c.viewCache),L(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,zE(i,c.changes,c.viewCache.eventCache.getNode())}function zE(i,e,r,s){const l=i.eventRegistrations_;return hE(i.eventGenerator_,e,r,l)}let Sp;function BE(i){L(!Sp,"__referenceConstructor has already been defined"),Sp=i}function dc(i,e,r,s){const l=e.source.queryId;if(l!==null){const c=i.views.get(l);return L(c!=null,"SyncTree gave us an op for an invalid query."),wp(c,e,r,s)}else{let c=[];for(const h of i.views.values())c=c.concat(wp(h,e,r,s));return c}}function hc(i,e){let r=null;for(const s of i.views.values())r=r||UE(s,e);return r}let Ep;function WE(i){L(!Ep,"__referenceConstructor has already been defined"),Ep=i}class Cp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=NE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jE(i,e,r,s,l){return gE(i.pendingWriteTree_,e,r,s,l),l?ul(i,new fr($m(),e,r)):[]}function $r(i,e,r=!1){const s=_E(i.pendingWriteTree_,e);if(yE(i.pendingWriteTree_,e)){let c=new ve(null);return s.snap!=null?c=c.set(pe(),!0):It(s.children,h=>{c=c.set(new Se(h),!0)}),ul(i,new Xo(s.path,c,r))}else return[]}function al(i,e,r){return ul(i,new fr(Gm(),e,r))}function HE(i,e,r){const s=ve.fromObject(r);return ul(i,new cs(Gm(),e,s))}function VE(i,e,r,s){const l=ag(i,s);if(l!=null){const c=ug(l),h=c.path,p=c.queryId,m=Ct(h,e),g=new fr(Km(p),m,r);return cg(i,h,g)}else return[]}function $E(i,e,r,s){const l=ag(i,s);if(l){const c=ug(l),h=c.path,p=c.queryId,m=Ct(h,e),g=ve.fromObject(r),S=new cs(Km(p),m,g);return cg(i,h,S)}else return[]}function sg(i,e,r){const l=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(e,(h,p)=>{const m=Ct(h,e),g=hc(p,m);if(g)return g});return Zm(l,e,c,r,!0)}function ul(i,e){return og(e,i.syncPointTree_,null,Xm(i.pendingWriteTree_,pe()))}function og(i,e,r,s){if(te(i.path))return lg(i,e,r,s);{const l=e.get(pe());r==null&&l!=null&&(r=hc(l,pe()));let c=[];const h=ne(i.path),p=i.operationForChild(h),m=e.children.get(h);if(m&&p){const g=r?r.getImmediateChild(h):null,S=tg(s,h);c=c.concat(og(p,m,g,S))}return l&&(c=c.concat(dc(l,i,s,r))),c}}function lg(i,e,r,s){const l=e.get(pe());r==null&&l!=null&&(r=hc(l,pe()));let c=[];return e.children.inorderTraversal((h,p)=>{const m=r?r.getImmediateChild(h):null,g=tg(s,h),S=i.operationForChild(h);S&&(c=c.concat(lg(S,p,m,g)))}),l&&(c=c.concat(dc(l,i,s,r))),c}function ag(i,e){return i.tagToQueryMap.get(e)}function ug(i){const e=i.indexOf("$");return L(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Se(i.substr(0,e))}}function cg(i,e,r){const s=i.syncPointTree_.get(e);L(s,"Missing sync point for query tag that we're tracking");const l=Xm(i.pendingWriteTree_,e);return dc(s,r,l,null)}class fc{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new fc(r)}node(){return this.node_}}class pc{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ue(this.path_,e);return new pc(this.syncTree_,r)}node(){return sg(this.syncTree_,this.path_)}}const GE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Ip=function(i,e,r){if(!i||typeof i!="object")return i;if(L(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return KE(i[".sv"],e,r);if(typeof i[".sv"]=="object")return qE(i[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},KE=function(i,e,r){if(i==="timestamp")return r.timestamp;L(!1,"Unexpected server value: "+i)},qE=function(i,e,r){i.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&L(!1,"Unexpected increment value: "+s);const l=e.node();if(L(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const h=l.getValue();return typeof h!="number"?s:h+s},QE=function(i,e,r,s){return mc(e,new pc(r,i),s)},YE=function(i,e,r){return mc(i,new fc(e),r)};function mc(i,e,r){const s=i.getPriority().val(),l=Ip(s,e.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const h=i,p=Ip(h.getValue(),e,r);return p!==h.getValue()||l!==h.getPriority().val()?new Fe(p,qe(l)):i}else{const h=i;return c=h,l!==h.getPriority().val()&&(c=c.updatePriority(new Fe(l))),h.forEachChild(Qe,(p,m)=>{const g=mc(m,e.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}class gc{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function _c(i,e){let r=e instanceof Se?e:new Se(e),s=i,l=ne(r);for(;l!==null;){const c=Jr(s.node.children,l)||{children:{},childCount:0};s=new gc(l,s,c),r=we(r),l=ne(r)}return s}function ai(i){return i.node.value}function dg(i,e){i.node.value=e,ju(i)}function hg(i){return i.node.childCount>0}function XE(i){return ai(i)===void 0&&!hg(i)}function cl(i,e){It(i.node.children,(r,s)=>{e(new gc(r,i,s))})}function fg(i,e,r,s){r&&e(i),cl(i,l=>{fg(l,e,!0)})}function JE(i,e,r){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ys(i){return new Se(i.parent===null?i.name:ys(i.parent)+"/"+i.name)}function ju(i){i.parent!==null&&ZE(i.parent,i.name,i)}function ZE(i,e,r){const s=XE(r),l=pn(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,ju(i)):!s&&!l&&(i.node.children[e]=r.node,i.node.childCount++,ju(i))}const e0=/[\[\].#$\/\u0000-\u001F\u007F]/,t0=/[\[\].#$\u0000-\u001F\u007F]/,Eu=10*1024*1024,pg=function(i){return typeof i=="string"&&i.length!==0&&!e0.test(i)},n0=function(i){return typeof i=="string"&&i.length!==0&&!t0.test(i)},r0=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n0(i)},mg=function(i,e,r){const s=r instanceof Se?new FS(r,i):r;if(e===void 0)throw new Error(i+"contains undefined "+lr(s));if(typeof e=="function")throw new Error(i+"contains a function "+lr(s)+" with contents = "+e.toString());if(fm(e))throw new Error(i+"contains "+e.toString()+" "+lr(s));if(typeof e=="string"&&e.length>Eu/3&&ol(e)>Eu)throw new Error(i+"contains a string greater than "+Eu+" utf8 bytes "+lr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,c=!1;if(It(e,(h,p)=>{if(h===".value")l=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!pg(h)))throw new Error(i+" contains an invalid key ("+h+") "+lr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bS(s,h),mg(i,p,s),US(s)}),l&&c)throw new Error(i+' contains ".value" child '+lr(s)+" in addition to actual children.")}},i0=function(i,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!r0(r))throw new Error(Mv(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class s0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function o0(i,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],c=l.getPath();r!==null&&!bm(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(l)}r&&i.eventLists_.push(r)}function _r(i,e,r){o0(i,r),l0(i,s=>Lt(s,e)||Lt(e,s))}function l0(i,e){i.recursionDepth_++;let r=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const c=l.path;e(c)?(a0(i.eventLists_[s]),i.eventLists_[s]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function a0(i){for(let e=0;e<i.events.length;e++){const r=i.events[e];if(r!==null){i.events[e]=null;const s=r.getEventRunner();ns&&Ke("event: "+r.toString()),gs(s)}}}const u0="repo_interrupt",c0=25;class d0{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yo(),this.transactionQueueTree_=new gc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h0(i,e,r){if(i.stats_=rc(i.repoInfo_),i.forceRestClient_||lS())i.server_=new Qo(i.repoInfo_,(s,l,c,h)=>{kp(i,s,l,c,h)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Tp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new un(i.repoInfo_,e,(s,l,c,h)=>{kp(i,s,l,c,h)},s=>{Tp(i,s)},s=>{p0(i,s)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=hS(i.repoInfo_,()=>new dE(i.stats_,i.server_)),i.infoData_=new oE,i.infoSyncTree_=new Cp({startListening:(s,l,c,h)=>{let p=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(p=al(i.infoSyncTree_,s._path,m),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),yc(i,"connected",!1),i.serverSyncTree_=new Cp({startListening:(s,l,c,h)=>(i.server_.listen(s,c,l,(p,m)=>{const g=h(p,m);_r(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function f0(i){const r=i.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function gg(i){return GE({timestamp:f0(i)})}function kp(i,e,r,s,l){i.dataUpdateCount++;const c=new Se(e);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,r):r;let h=[];if(l)if(s){const m=Vo(r,g=>qe(g));h=$E(i.serverSyncTree_,c,m,l)}else{const m=qe(r);h=VE(i.serverSyncTree_,c,m,l)}else if(s){const m=Vo(r,g=>qe(g));h=HE(i.serverSyncTree_,c,m)}else{const m=qe(r);h=al(i.serverSyncTree_,c,m)}let p=c;h.length>0&&(p=wc(i,c)),_r(i.eventQueue_,p,h)}function Tp(i,e){yc(i,"connected",e),e===!1&&g0(i)}function p0(i,e){It(e,(r,s)=>{yc(i,r,s)})}function yc(i,e,r){const s=new Se("/.info/"+e),l=qe(r);i.infoData_.updateSnapshot(s,l);const c=al(i.infoSyncTree_,s,l);_r(i.eventQueue_,s,c)}function m0(i){return i.nextWriteId_++}function g0(i){_g(i,"onDisconnectEvents");const e=gg(i),r=Yo();Mu(i.onDisconnect_,pe(),(l,c)=>{const h=QE(l,c,i.serverSyncTree_,e);Vm(r,l,h)});let s=[];Mu(r,pe(),(l,c)=>{s=s.concat(al(i.serverSyncTree_,l,c));const h=w0(i,l);wc(i,h)}),i.onDisconnect_=Yo(),_r(i.eventQueue_,pe(),s)}function _0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(u0)}function _g(i,...e){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ke(r,...e)}function yg(i,e,r){return sg(i.serverSyncTree_,e,r)||ue.EMPTY_NODE}function vc(i,e=i.transactionQueueTree_){if(e||dl(i,e),ai(e)){const r=wg(i,e);L(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&y0(i,ys(e),r)}else hg(e)&&cl(e,r=>{vc(i,r)})}function y0(i,e,r){const s=r.map(g=>g.currentWriteId),l=yg(i,e,s);let c=l;const h=l.hash();for(let g=0;g<r.length;g++){const S=r[g];L(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const w=Ct(e,S.path);c=c.updateChild(w,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=e;i.server_.put(m.toString(),p,g=>{_g(i,"transaction put response",{path:m.toString(),status:g});let S=[];if(g==="ok"){const w=[];for(let E=0;E<r.length;E++)r[E].status=2,S=S.concat($r(i.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&w.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();dl(i,_c(i.transactionQueueTree_,e)),vc(i,i.transactionQueueTree_),_r(i.eventQueue_,e,S);for(let E=0;E<w.length;E++)gs(w[E])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{mt("transaction at "+m.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}wc(i,e)}},h)}function wc(i,e){const r=vg(i,e),s=ys(r),l=wg(i,r);return v0(i,l,s),s}function v0(i,e,r){if(e.length===0)return;const s=[];let l=[];const h=e.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const m=e[p],g=Ct(r,m.path);let S=!1,w;if(L(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,w=m.abortReason,l=l.concat($r(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=c0)S=!0,w="maxretry",l=l.concat($r(i.serverSyncTree_,m.currentWriteId,!0));else{const E=yg(i,m.path,h);m.currentInputSnapshot=E;const D=e[p].update(E.val());if(D!==void 0){mg("transaction failed: Data returned ",D,m.path);let x=qe(D);typeof D=="object"&&D!=null&&pn(D,".priority")||(x=x.updatePriority(E.getPriority()));const V=m.currentWriteId,H=gg(i),X=YE(x,E,H);m.currentOutputSnapshotRaw=x,m.currentOutputSnapshotResolved=X,m.currentWriteId=m0(i),h.splice(h.indexOf(V),1),l=l.concat(jE(i.serverSyncTree_,m.path,X,m.currentWriteId,m.applyLocally)),l=l.concat($r(i.serverSyncTree_,V,!0))}else S=!0,w="nodata",l=l.concat($r(i.serverSyncTree_,m.currentWriteId,!0))}_r(i.eventQueue_,r,l),l=[],S&&(e[p].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[p].unwatcher),e[p].onComplete&&(w==="nodata"?s.push(()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot)):s.push(()=>e[p].onComplete(new Error(w),!1,null))))}dl(i,i.transactionQueueTree_);for(let p=0;p<s.length;p++)gs(s[p]);vc(i,i.transactionQueueTree_)}function vg(i,e){let r,s=i.transactionQueueTree_;for(r=ne(e);r!==null&&ai(s)===void 0;)s=_c(s,r),e=we(e),r=ne(e);return s}function wg(i,e){const r=[];return Sg(i,e,r),r.sort((s,l)=>s.order-l.order),r}function Sg(i,e,r){const s=ai(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);cl(e,l=>{Sg(i,l,r)})}function dl(i,e){const r=ai(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,dg(e,r.length>0?r:void 0)}cl(e,s=>{dl(i,s)})}function w0(i,e){const r=ys(vg(i,e)),s=_c(i.transactionQueueTree_,e);return JE(s,l=>{Cu(i,l)}),Cu(i,s),fg(s,l=>{Cu(i,l)}),r}function Cu(i,e){const r=ai(e);if(r){const s=[];let l=[],c=-1;for(let h=0;h<r.length;h++)r[h].status===3||(r[h].status===1?(L(c===h-1,"All SENT items should be at beginning of queue."),c=h,r[h].status=3,r[h].abortReason="set"):(L(r[h].status===0,"Unexpected transaction status in abort"),r[h].unwatcher(),l=l.concat($r(i.serverSyncTree_,r[h].currentWriteId,!0)),r[h].onComplete&&s.push(r[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?dg(e,void 0):r.length=c+1,_r(i.eventQueue_,ys(e),l);for(let h=0;h<s.length;h++)gs(s[h])}}function S0(i){let e="";const r=i.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function E0(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):mt(`Invalid query segment '${r}' in query '${i}'`)}return e}const Np=function(i,e){const r=C0(i),s=r.namespace;r.domain==="firebase.com"&&dn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Zw();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new km(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new Se(r.pathString)}},C0=function(i){let e="",r="",s="",l="",c="",h=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let S=i.indexOf("/");S===-1&&(S=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),e=i.substring(0,Math.min(S,w)),S<w&&(l=S0(i.substring(S,w)));const E=E0(i.substring(Math.min(i.length,w)));g=e.indexOf(":"),g>=0?(h=p==="https"||p==="wss",m=parseInt(e.substring(g+1),10)):g=e.length;const D=e.slice(0,g);if(D.toLowerCase()==="localhost")r="localhost";else if(D.split(".").length<=2)r=D;else{const x=e.indexOf(".");s=e.substring(0,x).toLowerCase(),r=e.substring(x+1),c=s}"ns"in E&&(c=E.ns)}return{host:e,port:m,domain:r,subdomain:s,secure:h,scheme:p,pathString:l,namespace:c}};class Sc{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return te(this._path)?null:Lm(this._path)}get ref(){return new ui(this._repo,this._path)}get _queryIdentifier(){const e=hp(this._queryParams),r=tc(e);return r==="{}"?"default":r}get _queryObject(){return hp(this._queryParams)}isEqual(e){if(e=$n(e),!(e instanceof Sc))return!1;const r=this._repo===e._repo,s=bm(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+MS(this._path)}}class ui extends Sc{constructor(e,r){super(e,r,new lc,!1)}get parent(){const e=Fm(this._path);return e===null?null:new ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}BE(ui);WE(ui);const I0="FIREBASE_DATABASE_EMULATOR_HOST",Hu={};let k0=!1;function T0(i,e,r,s){const l=e.lastIndexOf(":"),c=e.substring(0,l),h=ii(c);i.repoInfo_=new km(e,h,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),s&&(i.authTokenProvider_=s)}function N0(i,e,r,s,l){let c=s||i.options.databaseURL;c===void 0&&(i.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let h=Np(c,l),p=h.repoInfo,m;typeof process<"u"&&Kf&&(m=Kf[I0]),m?(c=`http://${m}?ns=${p.namespace}`,h=Np(c,l),p=h.repoInfo):h.repoInfo.secure;const g=new uS(i.name,i.options,e);i0("Invalid Firebase Database URL",h),te(h.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");const S=P0(p,i,g,new aS(i,r));return new A0(S,i)}function R0(i,e){const r=Hu[e];(!r||r[i.key]!==i)&&dn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),_0(i),delete r[i.key]}function P0(i,e,r,s){let l=Hu[e.name];l||(l={},Hu[e.name]=l);let c=l[i.toURLString()];return c&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new d0(i,k0,r,s),l[i.toURLString()]=c,c}class A0{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(h0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ui(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&dn("Cannot call "+e+" on a deleted database.")}}function x0(i=lm(),e){const r=ec(i,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=gv("database");s&&O0(r,...s)}return r}function O0(i,e,r,s={}){i=$n(i),i._checkNotDeleted("useEmulator");const l=`${e}:${r}`,c=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&cr(s,c.repoInfo_.emulatorOptions))return;dn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)s.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new bo(bo.OWNER);else if(s.mockUserToken){const p=typeof s.mockUserToken=="string"?s.mockUserToken:_v(s.mockUserToken,i.app.options.projectId);h=new bo(p)}ii(e)&&(em(e),tm("Database",!0)),T0(c,l,s,h)}function D0(i){Kw(oi),Zr(new dr("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return N0(s,l,c,r)},"PUBLIC").setMultipleInstances(!0)),Wn(qf,Qf,i),Wn(qf,Qf,"esm2020")}un.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};un.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};D0();function Eg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L0=Eg,Cg=new fs("auth","Firebase",Eg());const el=new Ju("@firebase/auth");function M0(i,...e){el.logLevel<=fe.WARN&&el.warn(`Auth (${oi}): ${i}`,...e)}function Uo(i,...e){el.logLevel<=fe.ERROR&&el.error(`Auth (${oi}): ${i}`,...e)}function hn(i,...e){throw Ec(i,...e)}function Kt(i,...e){return Ec(i,...e)}function Ig(i,e,r){const s={...L0(),[e]:r};return new fs("auth","Firebase",s).create(e,{appName:i.name})}function ur(i){return Ig(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ec(i,...e){if(typeof i!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(r,...s)}return Cg.create(i,...e)}function Q(i,e,...r){if(!i)throw Ec(e,...r)}function ln(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Uo(e),new Error(e)}function fn(i,e){i||ln(e)}function Vu(){return typeof self<"u"&&self.location?.href||""}function F0(){return Rp()==="http:"||Rp()==="https:"}function Rp(){return typeof self<"u"&&self.location?.protocol||null}function b0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F0()||Sv()||"connection"in navigator)?navigator.onLine:!0}function U0(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class vs{constructor(e,r){this.shortDelay=e,this.longDelay=r,fn(r>e,"Short delay should be less than long delay!"),this.isMobile=Xu()||nm()}get(){return b0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cc(i,e){fn(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class kg{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const B0=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W0=new vs(3e4,6e4);function Ic(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ci(i,e,r,s,l={}){return Tg(i,l,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=si({key:i.config.apiKey,...h}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:m,...c};return wv()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ii(i.emulatorConfig.host)&&(g.credentials="include"),kg.fetch()(await Ng(i,i.config.apiHost,r,p),g)})}async function Tg(i,e,r){i._canInitEmulator=!1;const s={...z0,...e};try{const l=new H0(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Fo(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fo(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Fo(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw Fo(i,"user-disabled",h);const S=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ig(i,S,g);hn(i,S)}}catch(l){if(l instanceof Vn)throw l;hn(i,"network-request-failed",{message:String(l)})}}async function j0(i,e,r,s,l={}){const c=await ci(i,e,r,s,l);return"mfaPendingCredential"in c&&hn(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ng(i,e,r,s){const l=`${e}${r}?${s}`,c=i,h=c.config.emulator?Cc(i.config,l):`${i.config.apiScheme}://${l}`;return B0.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class H0{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Kt(this.auth,"network-request-failed")),W0.get())})}}function Fo(i,e,r){const s={appName:i.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const l=Kt(i,e,s);return l.customData._tokenResponse=r,l}async function V0(i,e){return ci(i,"POST","/v1/accounts:delete",e)}async function tl(i,e){return ci(i,"POST","/v1/accounts:lookup",e)}function os(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $0(i,e=!1){const r=$n(i),s=await r.getIdToken(e),l=kc(s);Q(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c?.sign_in_provider;return{claims:l,token:s,authTime:os(Iu(l.auth_time)),issuedAtTime:os(Iu(l.iat)),expirationTime:os(Iu(l.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Iu(i){return Number(i)*1e3}function kc(i){const[e,r,s]=i.split(".");if(e===void 0||r===void 0||s===void 0)return Uo("JWT malformed, contained fewer than 3 sections"),null;try{const l=Ho(r);return l?JSON.parse(l):(Uo("Failed to decode base64 JWT payload"),null)}catch(l){return Uo("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pp(i){const e=kc(i);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ds(i,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof Vn&&G0(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function G0({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class K0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $u{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=os(this.lastLoginAt),this.creationTime=os(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nl(i){const e=i.auth,r=await i.getIdToken(),s=await ds(i,tl(e,{idToken:r}));Q(s?.users.length,e,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?Rg(l.providerUserInfo):[],h=Q0(i.providerData,c),p=i.isAnonymous,m=!(i.email&&l.passwordHash)&&!h?.length,g=p?m:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new $u(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(i,S)}async function q0(i){const e=$n(i);await nl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q0(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Rg(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function Y0(i,e){const r=await Tg(i,{},async()=>{const s=si({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,h=await Ng(i,l,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return i.emulatorConfig&&ii(i.emulatorConfig.host)&&(m.credentials="include"),kg.fetch()(h,m)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function X0(i,e){return ci(i,"POST","/v2/accounts:revokeToken",Ic(i,e))}class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const r=Pp(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:l,expiresIn:c}=await Y0(e,r);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:l,expirationTime:c}=r,h=new Qr;return s&&(Q(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),l&&(Q(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(Q(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return ln("not implemented")}}function Mn(i,e){Q(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Mt{constructor({uid:e,auth:r,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new K0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $u(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await ds(this,this.stsTokenManager.getToken(this.auth,e));return Q(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $0(this,e)}reload(){return q0(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Mt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await nl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await ds(this,V0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const s=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,h=r.photoURL??void 0,p=r.tenantId??void 0,m=r._redirectEventId??void 0,g=r.createdAt??void 0,S=r.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:D,providerData:x,stsTokenManager:j}=r;Q(w&&j,e,"internal-error");const V=Qr.fromJSON(this.name,j);Q(typeof w=="string",e,"internal-error"),Mn(s,e.name),Mn(l,e.name),Q(typeof E=="boolean",e,"internal-error"),Q(typeof D=="boolean",e,"internal-error"),Mn(c,e.name),Mn(h,e.name),Mn(p,e.name),Mn(m,e.name),Mn(g,e.name),Mn(S,e.name);const H=new Mt({uid:w,auth:e,email:l,emailVerified:E,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:g,lastLoginAt:S});return x&&Array.isArray(x)&&(H.providerData=x.map(X=>({...X}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,r,s=!1){const l=new Qr;l.updateFromServerResponse(r);const c=new Mt({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await nl(c),c}static async _fromGetAccountInfoResponse(e,r,s){const l=r.users[0];Q(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Rg(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!c?.length,p=new Qr;p.updateFromIdToken(s);const m=new Mt({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $u(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(m,g),m}}const Ap=new Map;function an(i){fn(i instanceof Function,"Expected a class definition");let e=Ap.get(i);return e?(fn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ap.set(i,e),e)}class Pg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Pg.type="NONE";const xp=Pg;function zo(i,e,r){return`firebase:${i}:${e}:${r}`}class Yr{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=zo(this.userKey,l.apiKey,c),this.fullPersistenceKey=zo("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await tl(this.auth,{idToken:e}).catch(()=>{});return r?Mt._fromGetAccountInfoResponse(this.auth,r,e):null}return Mt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new Yr(an(xp),e,s);const l=(await Promise.all(r.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||an(xp);const h=zo(s,e.config.apiKey,e.name);let p=null;for(const g of r)try{const S=await g._get(h);if(S){let w;if(typeof S=="string"){const E=await tl(e,{idToken:S}).catch(()=>{});if(!E)break;w=await Mt._fromGetAccountInfoResponse(e,E,S)}else w=Mt._fromJSON(e,S);g!==c&&(p=w),c=g;break}}catch{}const m=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Yr(c,e,s):(c=m[0],p&&await c._set(h,p.toJSON()),await Promise.all(r.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new Yr(c,e,s))}}function Op(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ag(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mg(e))return"Blackberry";if(Fg(e))return"Webos";if(xg(e))return"Safari";if((e.includes("chrome/")||Og(e))&&!e.includes("edge/"))return"Chrome";if(Lg(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(r);if(s?.length===2)return s[1]}return"Other"}function Ag(i=Ze()){return/firefox\//i.test(i)}function xg(i=Ze()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Og(i=Ze()){return/crios\//i.test(i)}function Dg(i=Ze()){return/iemobile/i.test(i)}function Lg(i=Ze()){return/android/i.test(i)}function Mg(i=Ze()){return/blackberry/i.test(i)}function Fg(i=Ze()){return/webos/i.test(i)}function Tc(i=Ze()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function J0(i=Ze()){return Tc(i)&&!!window.navigator?.standalone}function Z0(){return Ev()&&document.documentMode===10}function bg(i=Ze()){return Tc(i)||Lg(i)||Fg(i)||Mg(i)||/windows phone/i.test(i)||Dg(i)}function Ug(i,e=[]){let r;switch(i){case"Browser":r=Op(Ze());break;case"Worker":r=`${Op(Ze())}-${i}`;break;default:r=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${oi}/${s}`}class eC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=c=>new Promise((h,p)=>{try{const m=e(c);h(m)}catch(m){p(m)}});s.onAbort=r,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tC(i,e={}){return ci(i,"GET","/v2/passwordPolicy",Ic(i,e))}const nC=6;class rC{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??nC,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class iC{constructor(e,r,s,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=an(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await tl(this,{idToken:e}),s=await Mt._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($t(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await nl(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(ur(this));const r=e?$n(e):null;return r&&Q(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(an(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tC(this),r=new rC(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fs("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await X0(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&an(e)||this._popupRedirectResolver;Q(r,this,"argument-error"),this.redirectPersistenceManager=await Yr.create(this,[an(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,s,l);return()=>{h=!0,m()}}else{const m=e.addObserver(r);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ug(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&M0(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nc(i){return $n(i)}class Dp{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ov(r=>this.observer=r)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sC(i){Rc=i}function oC(i){return Rc.loadJS(i)}function lC(){return Rc.gapiScript}function aC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function uC(i,e){const r=ec(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(cr(c,e??{}))return l;hn(l,"already-initialized")}return r.initialize({options:e})}function cC(i,e){const r=e?.persistence||[],s=(Array.isArray(r)?r:[r]).map(an);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function dC(i,e,r){const s=Nc(i);Q(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=zg(e),{host:h,port:p}=hC(e),m=p===null?"":`:${p}`,g={url:`${c}//${h}${m}/`},S=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Q(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Q(cr(g,s.config.emulator)&&cr(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,ii(h)?(em(`${c}//${h}${m}`),tm("Auth",!0)):fC()}function zg(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function hC(i){const e=zg(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Lp(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Lp(h)}}}function Lp(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function fC(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Bg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ln("not implemented")}_getIdTokenResponse(e){return ln("not implemented")}_linkToIdToken(e,r){return ln("not implemented")}_getReauthenticationResolver(e){return ln("not implemented")}}async function Xr(i,e){return j0(i,"POST","/v1/accounts:signInWithIdp",Ic(i,e))}const pC="http://localhost";class mr extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):hn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=r;if(!s||!l)return null;const h=new mr(s,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const r=this.buildRequest();return Xr(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,Xr(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xr(e,r)}buildRequest(){const e={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=si(r)}return e}}class Wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ws extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fn extends ws{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fn.credential(e.oauthAccessToken)}catch{return null}}}Fn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fn.PROVIDER_ID="facebook.com";class sn extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return mr._fromParams({providerId:sn.PROVIDER_ID,signInMethod:sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return sn.credentialFromTaggedObject(e)}static credentialFromError(e){return sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return sn.credential(r,s)}catch{return null}}}sn.GOOGLE_SIGN_IN_METHOD="google.com";sn.PROVIDER_ID="google.com";class bn extends ws{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bn.credential(e.oauthAccessToken)}catch{return null}}}bn.GITHUB_SIGN_IN_METHOD="github.com";bn.PROVIDER_ID="github.com";class Un extends ws{constructor(){super("twitter.com")}static credential(e,r){return mr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return Un.credential(r,s)}catch{return null}}}Un.TWITTER_SIGN_IN_METHOD="twitter.com";Un.PROVIDER_ID="twitter.com";class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,l=!1){const c=await Mt._fromIdTokenResponse(e,s,l),h=Mp(s);return new ni({user:c,providerId:h,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const l=Mp(s);return new ni({user:e,providerId:l,_tokenResponse:s,operationType:r})}}function Mp(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class rl extends Vn{constructor(e,r,s,l){super(r.code,r.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,rl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,l){return new rl(e,r,s,l)}}function jg(i,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rl._fromErrorAndOperation(i,c,e,s):c})}async function mC(i,e,r=!1){const s=await ds(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return ni._forOperation(i,"link",s)}async function gC(i,e,r=!1){const{auth:s}=i;if($t(s.app))return Promise.reject(ur(s));const l="reauthenticate";try{const c=await ds(i,jg(s,l,e,i),r);Q(c.idToken,s,"internal-error");const h=kc(c.idToken);Q(h,s,"internal-error");const{sub:p}=h;return Q(i.uid===p,s,"user-mismatch"),ni._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hn(s,"user-mismatch"),c}}async function _C(i,e,r=!1){if($t(i.app))return Promise.reject(ur(i));const s="signIn",l=await jg(i,s,e),c=await ni._fromIdTokenResponse(i,s,l);return r||await i._updateCurrentUser(c.user),c}function yC(i,e,r,s){return $n(i).onIdTokenChanged(e,r,s)}function vC(i,e,r){return $n(i).beforeAuthStateChanged(e,r)}const il="__sak";class Hg{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(il,"1"),this.storage.removeItem(il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,SC=10;class Vg extends Hg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),l=this.localCache[r];s!==l&&e(r,l,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const s=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(s);!r&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);Z0()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,SC):l()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vg.type="LOCAL";const EC=Vg;class $g extends Hg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}$g.type="SESSION";const Gg=$g;function CC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class hl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const s=new hl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:l,data:c}=r.data,h=this.handlersMap[l];if(!h?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(h).map(async g=>g(r.origin,c)),m=await CC(p);r.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hl.receivers=[];function Pc(i="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return i+r}class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((p,m)=>{const g=Pc("",20);l.port1.start();const S=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:l,onMessage(w){const E=w;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(E.data.response);break;default:clearTimeout(S),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:r},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qt(){return window}function kC(i){qt().location.href=i}function Kg(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function TC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){return navigator?.serviceWorker?.controller||null}function RC(){return Kg()?self:null}const qg="firebaseLocalStorageDb",PC=1,sl="firebaseLocalStorage",Qg="fbase_key";class Ss{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function fl(i,e){return i.transaction([sl],e?"readwrite":"readonly").objectStore(sl)}function AC(){const i=indexedDB.deleteDatabase(qg);return new Ss(i).toPromise()}function Gu(){const i=indexedDB.open(qg,PC);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(sl,{keyPath:Qg})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(sl)?e(s):(s.close(),await AC(),e(await Gu()))})})}async function Fp(i,e,r){const s=fl(i,!0).put({[Qg]:e,value:r});return new Ss(s).toPromise()}async function xC(i,e){const r=fl(i,!1).get(e),s=await new Ss(r).toPromise();return s===void 0?null:s.value}function bp(i,e){const r=fl(i,!0).delete(e);return new Ss(r).toPromise()}const OC=800,DC=3;class Yg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gu(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>DC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hl._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gu();return await Fp(e,il,"1"),await bp(e,il),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fp(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>xC(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>bp(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=fl(l,!1).getAll();return new Ss(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yg.type="LOCAL";const LC=Yg;new vs(3e4,6e4);function MC(i,e){return e?an(e):(Q(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ac extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xr(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xr(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function FC(i){return _C(i.auth,new Ac(i),i.bypassAuthState)}function bC(i){const{auth:e,user:r}=i;return Q(r,e,"internal-error"),gC(r,new Ac(i),i.bypassAuthState)}async function UC(i){const{auth:e,user:r}=i;return Q(r,e,"internal-error"),mC(r,new Ac(i),i.bypassAuthState)}class Xg{constructor(e,r,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:l,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:r,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return bC;default:hn(this.auth,"internal-error")}}resolve(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zC=new vs(2e3,1e4);class Gr extends Xg{constructor(e,r,s,l,c){super(e,r,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){fn(this.filter.length===1,"Popup operations only handle one event");const e=Pc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zC.get())};e()}}Gr.currentPopupAction=null;const BC="pendingRedirect",Bo=new Map;class WC extends Xg{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const s=await jC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(i,e){const r=$C(e),s=VC(i);if(!await s._isAvailable())return!1;const l=await s._get(r)==="true";return await s._remove(r),l}function HC(i,e){Bo.set(i._key(),e)}function VC(i){return an(i._redirectPersistence)}function $C(i){return zo(BC,i.config.apiKey,i.name)}async function GC(i,e,r=!1){if($t(i.app))return Promise.reject(ur(i));const s=Nc(i),l=MC(s,e),h=await new WC(s,l,r).execute();return h&&!r&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const KC=600*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Jg(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Kt(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Up(e))}saveEventToCache(e){this.cachedEventUids.add(Up(e)),this.lastProcessedEventTime=Date.now()}}function Up(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Jg({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function QC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jg(i);default:return!1}}async function YC(i,e={}){return ci(i,"GET","/v1/projects",e)}const XC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^https?/;async function ZC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YC(i);for(const r of e)try{if(eI(r))return}catch{}hn(i,"unauthorized-domain")}function eI(i){const e=Vu(),{protocol:r,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&h.hostname===s}if(!JC.test(r))return!1;if(XC.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const tI=new vs(3e4,6e4);function zp(){const i=qt().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function nI(i){return new Promise((e,r)=>{function s(){zp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zp(),r(Kt(i,"network-request-failed"))},timeout:tI.get()})}if(qt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qt().gapi?.load)s();else{const l=aC("iframefcb");return qt()[l]=()=>{gapi.load?s():r(Kt(i,"network-request-failed"))},oC(`${lC()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Wo=null,e})}let Wo=null;function rI(i){return Wo=Wo||nI(i),Wo}const iI=new vs(5e3,15e3),sI="__/auth/iframe",oI="emulator/auth/iframe",lI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(i){const e=i.config;Q(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?Cc(e,oI):`https://${i.config.authDomain}/${sI}`,s={apiKey:e.apiKey,appName:i.name,v:oi},l=aI.get(i.config.apiHost);l&&(s.eid=l);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${r}?${si(s).slice(1)}`}async function cI(i){const e=await rI(i),r=qt().gapi;return Q(r,i,"internal-error"),e.open({where:document.body,url:uI(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lI,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const h=Kt(i,"network-request-failed"),p=qt().setTimeout(()=>{c(h)},iI.get());function m(){qt().clearTimeout(p),l(s)}s.ping(m).then(m,()=>{c(h)})}))}const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,pI="_blank",mI="http://localhost";class Bp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(i,e,r,s=hI,l=fI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...dI,width:s.toString(),height:l.toString(),top:c,left:h},g=Ze().toLowerCase();r&&(p=Og(g)?pI:r),Ag(g)&&(e=e||mI,m.scrollbars="yes");const S=Object.entries(m).reduce((E,[D,x])=>`${E}${D}=${x},`,"");if(J0(g)&&p!=="_self")return _I(e||"",p),new Bp(null);const w=window.open(e||"",p,S);Q(w,i,"popup-blocked");try{w.focus()}catch{}return new Bp(w)}function _I(i,e){const r=document.createElement("a");r.href=i,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}const yI="__/auth/handler",vI="emulator/auth/handler",wI=encodeURIComponent("fac");async function Wp(i,e,r,s,l,c){Q(i.config.authDomain,i,"auth-domain-config-required"),Q(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:s,v:oi,eventId:l};if(e instanceof Wg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Tu(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))h[S]=w}if(e instanceof ws){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(h.scopes=S.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const m=await i._getAppCheckToken(),g=m?`#${wI}=${encodeURIComponent(m)}`:"";return`${SI(i)}?${si(p).slice(1)}${g}`}function SI({config:i}){return i.emulator?Cc(i,vI):`https://${i.authDomain}/${yI}`}const ku="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gg,this._completeRedirectFn=GC,this._overrideRedirectResult=HC}async _openPopup(e,r,s,l){fn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Wp(e,r,s,Vu(),l);return gI(e,c,Pc())}async _openRedirect(e,r,s,l){await this._originValidation(e);const c=await Wp(e,r,s,Vu(),l);return kC(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(fn(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await cI(e),s=new qC(e);return r.register("authEvent",l=>(Q(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(ku,{type:ku},l=>{const c=l?.[0]?.[ku];c!==void 0&&r(!!c),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ZC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return bg()||xg()||Tc()}}const CI=EI;var jp="@firebase/auth",Hp="1.12.0";class II{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TI(i){Zr(new dr("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Q(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ug(i)},g=new iC(s,l,c,m);return cC(g,r),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),Zr(new dr("auth-internal",e=>{const r=Nc(e.getProvider("auth").getImmediate());return(s=>new II(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(jp,Hp,kI(i)),Wn(jp,Hp,"esm2020")}const NI=300,RI=Zp("authIdTokenMaxAge")||NI;let Vp=null;const PI=i=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>RI)return;const l=r?.token;Vp!==l&&(Vp=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function AI(i=lm()){const e=ec(i,"auth");if(e.isInitialized())return e.getImmediate();const r=uC(i,{popupRedirectResolver:CI,persistence:[LC,EC,Gg]}),s=Zp("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=PI(c.toString());vC(r,h,()=>h(r.currentUser)),yC(r,p=>h(p))}}const l=Xp("auth");return l&&dC(r,`http://${l}`),r}function xI(){return document.getElementsByTagName("head")?.[0]??document}sC({loadJS(i){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const c=Kt("internal-error");c.customData=l,r(c)},s.type="text/javascript",s.charset="UTF-8",xI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TI("Browser");function hs(i){return i.map(r=>({...r,people:[...r.people]}))}function OI(i,e){return i.filter(s=>s.name!==e)}function DI(i,e){return i.map(s=>{let l=[...s.people];return l.length<e?l.push(...Array(e-l.length).fill(!1)):l.length>e&&l.splice(e,l.length-e),{...s,people:l}})}const $p=4;function LI({people:i,setPeople:e,groceryList:r,setGroceryList:s}){const[l,c]=Ft.useState("2"),[h,p]=Ft.useState(2);function m(H){let X=i.map(ae=>({...ae}));H>i.length?X.push(...Array(H-i.length).fill({total:0,name:""})):H<i.length&&X.splice(H,i.length),e(X)}function g(H){if(r.length){let X=DI(r,H);s(X)}}function S(){if(!Number.isNaN(Number(l))&&l!==""){const H=Math.max(2,Math.min(8,parseInt(l)));p(H),c(H.toString()),g(H),m(H)}else alert("Enter a number"),c(h.toString())}function w(H){H.key==="Enter"&&(H.target.blur(),S())}function E(H){H.target.value&&S()}function D(H){c(H.target.value)}function x(H){let X=parseInt(H.target.value);p(X),m(X),c(H.target.value),g(parseInt(H.target.value))}function j(H,X){const ae=i.map(ce=>({...ce}));ae[H].name=X,e(ae)}const V=(H,X)=>{const ae=[];for(let ce=0;ce<H.length;ce+=X)ae.push(H.slice(ce,ce+X));return ae};return Y.jsxs("span",{children:["Number of People:",Y.jsx("br",{}),Y.jsx("input",{type:"range",value:h,min:"2",max:"8",onChange:x}),Y.jsx("input",{type:"number",value:l,onChange:D,onKeyDown:w,onBlur:E,style:{width:"30px"}}),"",Y.jsx("div",{children:V([...Array(h)],$p).map((H,X)=>Y.jsx("div",{style:{marginBottom:"8px"},children:H.map((ae,ce)=>{const Ye=X*$p+ce;return Y.jsx("input",{type:"text",value:i[Ye].name,style:{marginRight:"8px"},placeholder:"Name",onChange:ze=>{j(Ye,ze.target.value)}},Ye)})},X))})]})}function xc(i,e){function r(l){let c=l.people.reduce((p,m)=>m?p+1:p,0);return c?l.price/c:0}function s(l,c){return c.map((p,m)=>{let g=l.reduce((S,w)=>w.people[m]?S+r(w):S,0);return{...p,total:g}})}return s(e,i)}function MI({groceryList:i,setGroceryList:e,groceryItemIndex:r,people:s,setPeople:l,index:c}){function h(p){let m=hs(i),g=parseInt(p.target.value),S=m[r];S.people[g]=!S.people[g],e(m),l(xc(s,m))}return Y.jsx(Y.Fragment,{children:Y.jsx("input",{className:"table-choice",type:"checkbox",onChange:h,checked:i[r].people[c],value:c,style:{width:"25px",height:"25px"}})})}function FI({groceryList:i,setGroceryList:e,groceryItemIndex:r,people:s,setPeople:l}){const[c,h]=Ft.useState(i[r].name);function p(){let E=hs(i);E=OI(i,i[r].name),e(E),l(xc(s,E))}function m(E){h(E.target.value)}function g(E){if(i.map(x=>x.name).includes(E))h(i[r].name);else{let x=hs(i);x[r].name=E,e(x)}}function S(E){E.key==="Enter"&&(E.target.blur(),g(c))}function w(E){let D=i.map(x=>x.name);g(E.target.value),D.includes(E.target.value)&&E.target.value!==i[r].name&&alert("Item already in list")}return Y.jsxs("span",{children:[Y.jsx("button",{style:{height:"35px",width:"100px",fontSize:"20px"},onClick:()=>{p()},children:"Remove"}),"",Y.jsx("input",{value:c,style:{height:"28px",width:"100px",fontSize:"calc(1px + 2vmin)",left:"10px"},onChange:m,onBlur:w,onKeyDown:S})]})}function bI({groceryList:i,setGroceryList:e,groceryItem:r,priceRef:s,priceRefs:l,people:c,setPeople:h}){const[p,m]=Ft.useState(r.price?r.price.toFixed(2):"");function g(x){return!Number.isNaN(Number(x))}function S(x){if(g(x)&&x!==""){const j=Math.round(parseFloat(x)*100)/100;let V=hs(i),H={...r};H.price=j;let X=V.findIndex(ae=>ae.name===r.name);V[X]=H,e(V),h(xc(c,V)),m(j.toFixed(2))}else m("")}function w(x){S(x.target.value),g(x.target.value)||alert("Enter a price")}function E(x){m(x.target.value)}function D(x){if(x.key==="Escape"&&(x.target.blur(),S(p)),x.key==="Tab"||x.key==="Enter"){x.preventDefault(),S(p);const j=l?.current;if(!j)return;const V=j.findIndex(X=>X===x.target),H=j[V+1];H&&H.focus()}}return Y.jsx("input",{ref:s||null,type:"text",value:p,onBlur:w,onKeyDown:D,style:{height:"28px",width:"100px",fontSize:"calc(5px + 2vmin)"},onChange:E})}function UI(i,e,r){return{name:i,price:e,people:[...Array(r)].map((l,c)=>!1)}}function zI({groceryList:i,setGroceryList:e,people:r}){const[s,l]=Ft.useState("");function c(m){return!i.map(S=>S.name).includes(m)}function h(m){if(m!=="")if(c(m)){const g=hs(i);g.push(UI(m,0,r.length)),e(g),l("")}else alert("Item already in list"),l("")}function p(m){m.key==="Enter"&&h(s)}return Y.jsxs("span",{children:[Y.jsx("input",{type:"text",value:s,onChange:m=>{l(m.target.value)},onKeyDown:p,placeholder:"Input Item Here"}),Y.jsx("button",{onClick:()=>{h(s.trim())},children:"Submit"})]})}const BI="https://grocery-list-split.onrender.com";function WI({groceryList:i,setGroceryList:e}){const r=Ft.useRef(null);function s(){r.current?.click()}function l(p){return new Promise((m,g)=>{const S=new FileReader;S.readAsDataURL(p),S.onload=()=>m(S.result),S.onerror=w=>g(w)})}function c(p){const m=p.indexOf("["),g=p.lastIndexOf("]");return m===-1||g===-1?null:p.slice(m,g+1)}async function h(p){const m=p.target.files?.[0];if(!m)return;const g=await l(m),w=await(await fetch(`${BI}/api/proxy-generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:g})})).json();console.log("FULL BACKEND RESPONSE:",w);const E=w?.message||"No AI Response",D=c(E);if(!D){alert("AI response did not contain a JSON array");return}console.log("AI TEXT (raw):",E);let x=[];try{x=JSON.parse(D)}catch{console.error("AI returned invalid JSON:",D),alert("Failed to parse AI response. Response: "+D);return}e(x)}return Y.jsxs("div",{children:[Y.jsx("button",{type:"button",onClick:s,className:"upload-receipt-button",children:"Upload Reciept"}),Y.jsx("input",{type:"file",ref:r,onChange:h,style:{display:"none"}})]})}function jI(){const[i,e]=Ft.useState([]),[r,s]=Ft.useState([{total:0,name:""},{total:0,name:""}]),l=Ft.useRef([]);return Y.jsxs("div",{className:"App",children:[Y.jsx("span",{className:"set-people",children:Y.jsx(LI,{people:r,setPeople:s,groceryList:i,setGroceryList:e})}),Y.jsx("header",{className:"App-input-box",children:Y.jsx(zI,{groceryList:i,setGroceryList:e,people:r})}),Y.jsx("h1",{className:"grocery-list-title",children:"Grocery List:"}),Y.jsxs("div",{className:"App-table",style:{"--num-people":r.length},children:[Y.jsxs("div",{className:"table-header",children:[Y.jsx("div",{className:"header-item",children:"Items"}),Y.jsx("div",{className:"header-price",children:"Prices"}),r.map((c,h)=>Y.jsx("div",{className:"header-person",style:{borderBottom:c.name!==""?"2px solid black":"none"},children:c.name},h))]}),i.map((c,h)=>Y.jsxs("div",{className:"table-row",children:[Y.jsx("div",{className:"table-item",children:Y.jsx(FI,{groceryList:i,setGroceryList:e,groceryItemIndex:h,people:r,setPeople:s})}),Y.jsxs("div",{className:"table-price",children:["$",Y.jsx(bI,{groceryList:i,setGroceryList:e,groceryItem:c,priceRef:p=>{l.current[h]=p},priceRefs:l,people:r,setPeople:s})]}),r.map((p,m)=>Y.jsx("div",{className:"table-choice",children:Y.jsx(MI,{groceryList:i,setGroceryList:e,groceryItemIndex:h,people:r,setPeople:s,index:m})},m))]},c.name)),Y.jsxs("div",{className:"table-footer",children:[Y.jsx("div",{className:"footer-label",children:"Totals:"}),Y.jsx("div",{className:"footer-total-price",children:i.reduce((c,h)=>c+(h.price||0),0).toFixed(2)}),r.map((c,h)=>Y.jsx("div",{className:"footer-person",children:r[h].total.toFixed(2)},h))]})]}),Y.jsx(WI,{groceryList:i,setGroceryList:e})]})}const HI={apiKey:"AIzaSyBy_J0AN04p13c_WBLzS_s1a1sbEP-eqWM",authDomain:"grocery-list-splitter-e22fb.firebaseapp.com",databaseURL:"https://grocery-list-splitter-e22fb-default-rtdb.firebaseio.com",projectId:"grocery-list-splitter-e22fb",storageBucket:"grocery-list-splitter-e22fb.firebasestorage.app",messagingSenderId:"811064887690",appId:"1:811064887690:web:9b4a8dcccf37f648c96073",measurementId:"G-S4BEG98357"},Zg=om(HI);x0(Zg);AI(Zg);new sn;function VI(){const[i,e]=Ft.useState(null);return Y.jsx(jI,{})}const $I=ov.createRoot(document.getElementById("root"));$I.render(Y.jsx(Zy.StrictMode,{children:Y.jsx(VI,{})}));
