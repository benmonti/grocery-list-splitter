(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Id={exports:{}},Ks={},Td={exports:{}},de={};var ny;function i0(){if(ny)return de;ny=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function y(x){return x===null||typeof x!="object"?null:(x=g&&x[g]||x["@@iterator"],typeof x=="function"?x:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function S(x,M,ue){this.props=x,this.context=M,this.refs=b,this.updater=ue||w}S.prototype.isReactComponent={},S.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},S.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function N(){}N.prototype=S.prototype;function A(x,M,ue){this.props=x,this.context=M,this.refs=b,this.updater=ue||w}var O=A.prototype=new N;O.constructor=A,E(O,S.prototype),O.isPureReactComponent=!0;var L=Array.isArray,$=Object.prototype.hasOwnProperty,V={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function ie(x,M,ue){var ce,ge={},ye=null,xe=null;if(M!=null)for(ce in M.ref!==void 0&&(xe=M.ref),M.key!==void 0&&(ye=""+M.key),M)$.call(M,ce)&&!ee.hasOwnProperty(ce)&&(ge[ce]=M[ce]);var Se=arguments.length-2;if(Se===1)ge.children=ue;else if(1<Se){for(var ke=Array(Se),ct=0;ct<Se;ct++)ke[ct]=arguments[ct+2];ge.children=ke}if(x&&x.defaultProps)for(ce in Se=x.defaultProps,Se)ge[ce]===void 0&&(ge[ce]=Se[ce]);return{$$typeof:t,type:x,key:ye,ref:xe,props:ge,_owner:V.current}}function _e(x,M){return{$$typeof:t,type:x.type,key:M,ref:x.ref,props:x.props,_owner:x._owner}}function ae(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function me(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return M[ue]})}var be=/\/+/g;function Re(x,M){return typeof x=="object"&&x!==null&&x.key!=null?me(""+x.key):M.toString(36)}function Qe(x,M,ue,ce,ge){var ye=typeof x;(ye==="undefined"||ye==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(ye){case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case t:case e:xe=!0}}if(xe)return xe=x,ge=ge(xe),x=ce===""?"."+Re(xe,0):ce,L(ge)?(ue="",x!=null&&(ue=x.replace(be,"$&/")+"/"),Qe(ge,M,ue,"",function(ct){return ct})):ge!=null&&(ae(ge)&&(ge=_e(ge,ue+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace(be,"$&/")+"/")+x)),M.push(ge)),1;if(xe=0,ce=ce===""?".":ce+":",L(x))for(var Se=0;Se<x.length;Se++){ye=x[Se];var ke=ce+Re(ye,Se);xe+=Qe(ye,M,ue,ke,ge)}else if(ke=y(x),typeof ke=="function")for(x=ke.call(x),Se=0;!(ye=x.next()).done;)ye=ye.value,ke=ce+Re(ye,Se++),xe+=Qe(ye,M,ue,ke,ge);else if(ye==="object")throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ue(x,M,ue){if(x==null)return x;var ce=[],ge=0;return Qe(x,ce,"","",function(ye){return M.call(ue,ye,ge++)}),ce}function Ke(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var Ie={current:null},j={transition:null},te={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:j,ReactCurrentOwner:V};function K(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Ue,forEach:function(x,M,ue){Ue(x,function(){M.apply(this,arguments)},ue)},count:function(x){var M=0;return Ue(x,function(){M++}),M},toArray:function(x){return Ue(x,function(M){return M})||[]},only:function(x){if(!ae(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},de.Component=S,de.Fragment=n,de.Profiler=o,de.PureComponent=A,de.StrictMode=i,de.Suspense=f,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,de.act=K,de.cloneElement=function(x,M,ue){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ce=E({},x.props),ge=x.key,ye=x.ref,xe=x._owner;if(M!=null){if(M.ref!==void 0&&(ye=M.ref,xe=V.current),M.key!==void 0&&(ge=""+M.key),x.type&&x.type.defaultProps)var Se=x.type.defaultProps;for(ke in M)$.call(M,ke)&&!ee.hasOwnProperty(ke)&&(ce[ke]=M[ke]===void 0&&Se!==void 0?Se[ke]:M[ke])}var ke=arguments.length-2;if(ke===1)ce.children=ue;else if(1<ke){Se=Array(ke);for(var ct=0;ct<ke;ct++)Se[ct]=arguments[ct+2];ce.children=Se}return{$$typeof:t,type:x.type,key:ge,ref:ye,props:ce,_owner:xe}},de.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},de.createElement=ie,de.createFactory=function(x){var M=ie.bind(null,x);return M.type=x,M},de.createRef=function(){return{current:null}},de.forwardRef=function(x){return{$$typeof:d,render:x}},de.isValidElement=ae,de.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Ke}},de.memo=function(x,M){return{$$typeof:p,type:x,compare:M===void 0?null:M}},de.startTransition=function(x){var M=j.transition;j.transition={};try{x()}finally{j.transition=M}},de.unstable_act=K,de.useCallback=function(x,M){return Ie.current.useCallback(x,M)},de.useContext=function(x){return Ie.current.useContext(x)},de.useDebugValue=function(){},de.useDeferredValue=function(x){return Ie.current.useDeferredValue(x)},de.useEffect=function(x,M){return Ie.current.useEffect(x,M)},de.useId=function(){return Ie.current.useId()},de.useImperativeHandle=function(x,M,ue){return Ie.current.useImperativeHandle(x,M,ue)},de.useInsertionEffect=function(x,M){return Ie.current.useInsertionEffect(x,M)},de.useLayoutEffect=function(x,M){return Ie.current.useLayoutEffect(x,M)},de.useMemo=function(x,M){return Ie.current.useMemo(x,M)},de.useReducer=function(x,M,ue){return Ie.current.useReducer(x,M,ue)},de.useRef=function(x){return Ie.current.useRef(x)},de.useState=function(x){return Ie.current.useState(x)},de.useSyncExternalStore=function(x,M,ue){return Ie.current.useSyncExternalStore(x,M,ue)},de.useTransition=function(){return Ie.current.useTransition()},de.version="18.3.1",de}var ry;function nu(){return ry||(ry=1,Td.exports=i0()),Td.exports}var iy;function s0(){if(iy)return Ks;iy=1;var t=nu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,g={},y=null,w=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(v in f)i.call(f,v)&&!l.hasOwnProperty(v)&&(g[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)g[v]===void 0&&(g[v]=f[v]);return{$$typeof:e,type:d,key:y,ref:w,props:g,_owner:o.current}}return Ks.Fragment=n,Ks.jsx=u,Ks.jsxs=u,Ks}var sy;function o0(){return sy||(sy=1,Id.exports=s0()),Id.exports}var G=o0(),I=nu();const Ve=Mf(I);var na={},bd={exports:{}},At={},Rd={exports:{}},xd={};var oy;function l0(){return oy||(oy=1,(function(t){function e(j,te){var K=j.length;j.push(te);e:for(;0<K;){var x=K-1>>>1,M=j[x];if(0<o(M,te))j[x]=te,j[K]=M,K=x;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var te=j[0],K=j.pop();if(K!==te){j[0]=K;e:for(var x=0,M=j.length,ue=M>>>1;x<ue;){var ce=2*(x+1)-1,ge=j[ce],ye=ce+1,xe=j[ye];if(0>o(ge,K))ye<M&&0>o(xe,ge)?(j[x]=xe,j[ye]=K,x=ye):(j[x]=ge,j[ce]=K,x=ce);else if(ye<M&&0>o(xe,K))j[x]=xe,j[ye]=K,x=ye;else break e}}return te}function o(j,te){var K=j.sortIndex-te.sortIndex;return K!==0?K:j.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,g=null,y=3,w=!1,E=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(j){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=j)i(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function L(j){if(b=!1,O(j),!E)if(n(f)!==null)E=!0,Ke($);else{var te=n(p);te!==null&&Ie(L,te.startTime-j)}}function $(j,te){E=!1,b&&(b=!1,N(ie),ie=-1),w=!0;var K=y;try{for(O(te),g=n(f);g!==null&&(!(g.expirationTime>te)||j&&!me());){var x=g.callback;if(typeof x=="function"){g.callback=null,y=g.priorityLevel;var M=x(g.expirationTime<=te);te=t.unstable_now(),typeof M=="function"?g.callback=M:g===n(f)&&i(f),O(te)}else i(f);g=n(f)}if(g!==null)var ue=!0;else{var ce=n(p);ce!==null&&Ie(L,ce.startTime-te),ue=!1}return ue}finally{g=null,y=K,w=!1}}var V=!1,ee=null,ie=-1,_e=5,ae=-1;function me(){return!(t.unstable_now()-ae<_e)}function be(){if(ee!==null){var j=t.unstable_now();ae=j;var te=!0;try{te=ee(!0,j)}finally{te?Re():(V=!1,ee=null)}}else V=!1}var Re;if(typeof A=="function")Re=function(){A(be)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ue=Qe.port2;Qe.port1.onmessage=be,Re=function(){Ue.postMessage(null)}}else Re=function(){S(be,0)};function Ke(j){ee=j,V||(V=!0,Re())}function Ie(j,te){ie=S(function(){j(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,Ke($))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(j){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var K=y;y=te;try{return j()}finally{y=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,te){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=y;y=j;try{return te()}finally{y=K}},t.unstable_scheduleCallback=function(j,te,K){var x=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?x+K:x):K=x,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=K+M,j={id:v++,callback:te,priorityLevel:j,startTime:K,expirationTime:M,sortIndex:-1},K>x?(j.sortIndex=K,e(p,j),n(f)===null&&j===n(p)&&(b?(N(ie),ie=-1):b=!0,Ie(L,K-x))):(j.sortIndex=M,e(f,j),E||w||(E=!0,Ke($))),j},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(j){var te=y;return function(){var K=y;y=te;try{return j.apply(this,arguments)}finally{y=K}}}})(xd)),xd}var ly;function a0(){return ly||(ly=1,Rd.exports=l0()),Rd.exports}var ay;function u0(){if(ay)return At;ay=1;var t=nu(),e=a0();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function y(r){return f.call(g,r)?!0:f.call(v,r)?!1:p.test(r)?g[r]=!0:(v[r]=!0,!1)}function w(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,s,a,c){if(s===null||typeof s>"u"||w(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,a,c,h,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,A);S[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,A);S[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,A);S[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,a,c){var h=S.hasOwnProperty(s)?S[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,a,h,c)&&(a=null),c||h===null?y(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),V=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),me=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),j=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,x;function M(r){if(x===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var ue=!1;function ce(r,s){if(!r||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(D){var c=D}Reflect.construct(r,[],s)}else{try{s.call()}catch(D){c=D}r.call(s.prototype)}else{try{throw Error()}catch(D){c=D}r()}}catch(D){if(D&&c&&typeof D.stack=="string"){for(var h=D.stack.split(`
`),m=c.stack.split(`
`),_=h.length-1,C=m.length-1;1<=_&&0<=C&&h[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(h[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||h[_]!==m[C]){var T=`
`+h[_].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=_&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?M(r):""}function ge(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ce(r.type,!1),r;case 11:return r=ce(r.type.render,!1),r;case 1:return r=ce(r.type,!0),r;default:return""}}function ye(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ee:return"Fragment";case V:return"Portal";case _e:return"Profiler";case ie:return"StrictMode";case Re:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case me:return(r.displayName||"Context")+".Consumer";case ae:return(r._context.displayName||"Context")+".Provider";case be:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ue:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case Ke:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(s);case 8:return s===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ct(r){var s=ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function as(r){r._valueTracker||(r._valueTracker=ct(r))}function Et(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function wn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nu(r,s){var a=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function up(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Se(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function cp(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function Du(r,s){cp(r,s);var a=Se(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Au(r,s.type,a):s.hasOwnProperty("defaultValue")&&Au(r,s.type,Se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dp(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Au(r,s,a){(s!=="number"||wn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var us=Array.isArray;function ui(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Se(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Ou(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function fp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(us(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Se(a)}}function hp(r,s){var a=Se(s.value),c=Se(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function pp(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mp(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ko,gp=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ko.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function cs(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aS=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(r){aS.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ds[s]=ds[r]})});function yp(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ds.hasOwnProperty(r)&&ds[r]?(""+s).trim():s+"px"}function vp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=yp(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var uS=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mu(r,s){if(s){if(uS[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Fu(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function Bu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wu=null,ci=null,di=null;function _p(r){if(r=As(r)){if(typeof Wu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=yl(s),Wu(r.stateNode,r.type,s))}}function wp(r){ci?di?di.push(r):di=[r]:ci=r}function Ep(){if(ci){var r=ci,s=di;if(di=ci=null,_p(r),s)for(r=0;r<s.length;r++)_p(s[r])}}function Cp(r,s){return r(s)}function Sp(){}var $u=!1;function Ip(r,s,a){if($u)return r(s,a);$u=!0;try{return Cp(r,s,a)}finally{$u=!1,(ci!==null||di!==null)&&(Sp(),Ep())}}function fs(r,s){var a=r.stateNode;if(a===null)return null;var c=yl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var zu=!1;if(d)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){zu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{zu=!1}function cS(r,s,a,c,h,m,_,C,T){var D=Array.prototype.slice.call(arguments,3);try{s.apply(a,D)}catch(U){this.onError(U)}}var ps=!1,Yo=null,Qo=!1,Hu=null,dS={onError:function(r){ps=!0,Yo=r}};function fS(r,s,a,c,h,m,_,C,T){ps=!1,Yo=null,cS.apply(dS,arguments)}function hS(r,s,a,c,h,m,_,C,T){if(fS.apply(this,arguments),ps){if(ps){var D=Yo;ps=!1,Yo=null}else throw Error(n(198));Qo||(Qo=!0,Hu=D)}}function Ar(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Tp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bp(r){if(Ar(r)!==r)throw Error(n(188))}function pS(r){var s=r.alternate;if(!s){if(s=Ar(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return bp(h),r;if(m===c)return bp(h),s;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=m;else{for(var _=!1,C=h.child;C;){if(C===a){_=!0,a=h,c=m;break}if(C===c){_=!0,c=h,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=h;break}if(C===c){_=!0,c=m,a=h;break}C=C.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Rp(r){return r=pS(r),r!==null?xp(r):null}function xp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=xp(r);if(s!==null)return s;r=r.sibling}return null}var kp=e.unstable_scheduleCallback,Pp=e.unstable_cancelCallback,mS=e.unstable_shouldYield,gS=e.unstable_requestPaint,Ge=e.unstable_now,yS=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,Np=e.unstable_UserBlockingPriority,Jo=e.unstable_NormalPriority,vS=e.unstable_LowPriority,Dp=e.unstable_IdlePriority,Xo=null,En=null;function _S(r){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Xo,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:CS,wS=Math.log,ES=Math.LN2;function CS(r){return r>>>=0,r===0?32:31-(wS(r)/ES|0)|0}var Zo=64,el=4194304;function ms(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function tl(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,m=r.pingedLanes,_=a&268435455;if(_!==0){var C=_&~h;C!==0?c=ms(C):(m&=_,m!==0&&(c=ms(m)))}else _=a&~h,_!==0?c=ms(_):m!==0&&(c=ms(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-sn(s),h=1<<a,c|=r[a],s&=~h;return c}function SS(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IS(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-sn(m),C=1<<_,T=h[_];T===-1?((C&a)===0||(C&c)!==0)&&(h[_]=SS(C,s)):T<=s&&(r.expiredLanes|=C),m&=~C}}function ju(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ap(){var r=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),r}function Gu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function gs(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=a}function TS(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-sn(a),m=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~m}}function qu(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-sn(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Pe=0;function Op(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Lp,Ku,Mp,Fp,Up,Yu=!1,nl=[],Jn=null,Xn=null,Zn=null,ys=new Map,vs=new Map,er=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bp(r,s){switch(r){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ys.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(s.pointerId)}}function _s(r,s,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=As(s),s!==null&&Ku(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function RS(r,s,a,c,h){switch(s){case"focusin":return Jn=_s(Jn,r,s,a,c,h),!0;case"dragenter":return Xn=_s(Xn,r,s,a,c,h),!0;case"mouseover":return Zn=_s(Zn,r,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return ys.set(m,_s(ys.get(m)||null,r,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,vs.set(m,_s(vs.get(m)||null,r,s,a,c,h)),!0}return!1}function Wp(r){var s=Or(r.target);if(s!==null){var a=Ar(s);if(a!==null){if(s=a.tag,s===13){if(s=Tp(a),s!==null){r.blockedOn=s,Up(r.priority,function(){Mp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rl(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ju(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Uu=c,a.target.dispatchEvent(c),Uu=null}else return s=As(a),s!==null&&Ku(s),r.blockedOn=a,!1;s.shift()}return!0}function $p(r,s,a){rl(r)&&a.delete(s)}function xS(){Yu=!1,Jn!==null&&rl(Jn)&&(Jn=null),Xn!==null&&rl(Xn)&&(Xn=null),Zn!==null&&rl(Zn)&&(Zn=null),ys.forEach($p),vs.forEach($p)}function ws(r,s){r.blockedOn===s&&(r.blockedOn=null,Yu||(Yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xS)))}function Es(r){function s(h){return ws(h,r)}if(0<nl.length){ws(nl[0],r);for(var a=1;a<nl.length;a++){var c=nl[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Jn!==null&&ws(Jn,r),Xn!==null&&ws(Xn,r),Zn!==null&&ws(Zn,r),ys.forEach(s),vs.forEach(s),a=0;a<er.length;a++)c=er[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Wp(a),a.blockedOn===null&&er.shift()}var fi=L.ReactCurrentBatchConfig,il=!0;function kS(r,s,a,c){var h=Pe,m=fi.transition;fi.transition=null;try{Pe=1,Qu(r,s,a,c)}finally{Pe=h,fi.transition=m}}function PS(r,s,a,c){var h=Pe,m=fi.transition;fi.transition=null;try{Pe=4,Qu(r,s,a,c)}finally{Pe=h,fi.transition=m}}function Qu(r,s,a,c){if(il){var h=Ju(r,s,a,c);if(h===null)pc(r,s,c,sl,a),Bp(r,c);else if(RS(h,r,s,a,c))c.stopPropagation();else if(Bp(r,c),s&4&&-1<bS.indexOf(r)){for(;h!==null;){var m=As(h);if(m!==null&&Lp(m),m=Ju(r,s,a,c),m===null&&pc(r,s,c,sl,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else pc(r,s,c,null,a)}}var sl=null;function Ju(r,s,a,c){if(sl=null,r=Bu(c),r=Or(r),r!==null)if(s=Ar(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Tp(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return sl=r,null}function zp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yS()){case Vu:return 1;case Np:return 4;case Jo:case vS:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var tr=null,Xu=null,ol=null;function Hp(){if(ol)return ol;var r,s=Xu,a=s.length,c,h="value"in tr?tr.value:tr.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===h[m-c];c++);return ol=h.slice(r,1<c?1-c:void 0)}function ll(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function al(){return!0}function Vp(){return!1}function Ut(r){function s(a,c,h,m,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?al:Vp,this.isPropagationStopped=Vp,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=Ut(hi),Cs=K({},hi,{view:0,detail:0}),NS=Ut(Cs),ec,tc,Ss,ul=K({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ss&&(Ss&&r.type==="mousemove"?(ec=r.screenX-Ss.screenX,tc=r.screenY-Ss.screenY):tc=ec=0,Ss=r),ec)},movementY:function(r){return"movementY"in r?r.movementY:tc}}),jp=Ut(ul),DS=K({},ul,{dataTransfer:0}),AS=Ut(DS),OS=K({},Cs,{relatedTarget:0}),nc=Ut(OS),LS=K({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=Ut(LS),FS=K({},hi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),US=Ut(FS),BS=K({},hi,{data:0}),Gp=Ut(BS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=zS[r])?!!s[r]:!1}function rc(){return HS}var VS=K({},Cs,{key:function(r){if(r.key){var s=WS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ll(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$S[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(r){return r.type==="keypress"?ll(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ll(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jS=Ut(VS),GS=K({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=Ut(GS),qS=K({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),KS=Ut(qS),YS=K({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),QS=Ut(YS),JS=K({},ul,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),XS=Ut(JS),ZS=[9,13,27,32],ic=d&&"CompositionEvent"in window,Is=null;d&&"documentMode"in document&&(Is=document.documentMode);var eI=d&&"TextEvent"in window&&!Is,Kp=d&&(!ic||Is&&8<Is&&11>=Is),Yp=" ",Qp=!1;function Jp(r,s){switch(r){case"keyup":return ZS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pi=!1;function tI(r,s){switch(r){case"compositionend":return Xp(s);case"keypress":return s.which!==32?null:(Qp=!0,Yp);case"textInput":return r=s.data,r===Yp&&Qp?null:r;default:return null}}function nI(r,s){if(pi)return r==="compositionend"||!ic&&Jp(r,s)?(r=Hp(),ol=Xu=tr=null,pi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Kp&&s.locale!=="ko"?null:s.data;default:return null}}var rI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rI[r.type]:s==="textarea"}function em(r,s,a,c){wp(c),s=pl(s,"onChange"),0<s.length&&(a=new Zu("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ts=null,bs=null;function iI(r){vm(r,0)}function cl(r){var s=_i(r);if(Et(s))return r}function sI(r,s){if(r==="change")return s}var tm=!1;if(d){var sc;if(d){var oc="oninput"in document;if(!oc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),oc=typeof nm.oninput=="function"}sc=oc}else sc=!1;tm=sc&&(!document.documentMode||9<document.documentMode)}function rm(){Ts&&(Ts.detachEvent("onpropertychange",im),bs=Ts=null)}function im(r){if(r.propertyName==="value"&&cl(bs)){var s=[];em(s,bs,r,Bu(r)),Ip(iI,s)}}function oI(r,s,a){r==="focusin"?(rm(),Ts=s,bs=a,Ts.attachEvent("onpropertychange",im)):r==="focusout"&&rm()}function lI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cl(bs)}function aI(r,s){if(r==="click")return cl(s)}function uI(r,s){if(r==="input"||r==="change")return cl(s)}function cI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var on=typeof Object.is=="function"?Object.is:cI;function Rs(r,s){if(on(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!on(r[h],s[h]))return!1}return!0}function sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function om(r,s){var a=sm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sm(a)}}function lm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?lm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function am(){for(var r=window,s=wn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=wn(r.document)}return s}function lc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function dI(r){var s=am(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&lm(a.ownerDocument.documentElement,a)){if(c!==null&&lc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!r.extend&&m>c&&(h=c,c=m,m=h),h=om(a,m);var _=om(a,c);h&&_&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fI=d&&"documentMode"in document&&11>=document.documentMode,mi=null,ac=null,xs=null,uc=!1;function um(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uc||mi==null||mi!==wn(c)||(c=mi,"selectionStart"in c&&lc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xs&&Rs(xs,c)||(xs=c,c=pl(ac,"onSelect"),0<c.length&&(s=new Zu("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=mi)))}function dl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var gi={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},cc={},cm={};d&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function fl(r){if(cc[r])return cc[r];if(!gi[r])return r;var s=gi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in cm)return cc[r]=s[a];return r}var dm=fl("animationend"),fm=fl("animationiteration"),hm=fl("animationstart"),pm=fl("transitionend"),mm=new Map,gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(r,s){mm.set(r,s),l(s,[r])}for(var dc=0;dc<gm.length;dc++){var fc=gm[dc],hI=fc.toLowerCase(),pI=fc[0].toUpperCase()+fc.slice(1);nr(hI,"on"+pI)}nr(dm,"onAnimationEnd"),nr(fm,"onAnimationIteration"),nr(hm,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(pm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function ym(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,hS(c,s,void 0,r),r.currentTarget=null}function vm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var C=c[_],T=C.instance,D=C.currentTarget;if(C=C.listener,T!==m&&h.isPropagationStopped())break e;ym(h,C,D),m=T}else for(_=0;_<c.length;_++){if(C=c[_],T=C.instance,D=C.currentTarget,C=C.listener,T!==m&&h.isPropagationStopped())break e;ym(h,C,D),m=T}}}if(Qo)throw r=Hu,Qo=!1,Hu=null,r}function Le(r,s){var a=s[wc];a===void 0&&(a=s[wc]=new Set);var c=r+"__bubble";a.has(c)||(_m(s,r,2,!1),a.add(c))}function hc(r,s,a){var c=0;s&&(c|=4),_m(a,r,c,s)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Ps(r){if(!r[hl]){r[hl]=!0,i.forEach(function(a){a!=="selectionchange"&&(mI.has(a)||hc(a,!1,r),hc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[hl]||(s[hl]=!0,hc("selectionchange",!1,s))}}function _m(r,s,a,c){switch(zp(s)){case 1:var h=kS;break;case 4:h=PS;break;default:h=Qu}a=h.bind(null,s,a,r),h=void 0,!zu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function pc(r,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var T=_.tag;if((T===3||T===4)&&(T=_.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;_=_.return}for(;C!==null;){if(_=Or(C),_===null)return;if(T=_.tag,T===5||T===6){c=m=_;continue e}C=C.parentNode}}c=c.return}Ip(function(){var D=m,U=Bu(a),B=[];e:{var F=mm.get(r);if(F!==void 0){var q=Zu,Q=r;switch(r){case"keypress":if(ll(a)===0)break e;case"keydown":case"keyup":q=jS;break;case"focusin":Q="focus",q=nc;break;case"focusout":Q="blur",q=nc;break;case"beforeblur":case"afterblur":q=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=AS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=KS;break;case dm:case fm:case hm:q=MS;break;case pm:q=QS;break;case"scroll":q=NS;break;case"wheel":q=XS;break;case"copy":case"cut":case"paste":q=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qp}var J=(s&4)!==0,qe=!J&&r==="scroll",k=J?F!==null?F+"Capture":null:F;J=[];for(var R=D,P;R!==null;){P=R;var W=P.stateNode;if(P.tag===5&&W!==null&&(P=W,k!==null&&(W=fs(R,k),W!=null&&J.push(Ns(R,W,P)))),qe)break;R=R.return}0<J.length&&(F=new q(F,Q,null,a,U),B.push({event:F,listeners:J}))}}if((s&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",F&&a!==Uu&&(Q=a.relatedTarget||a.fromElement)&&(Or(Q)||Q[Pn]))break e;if((q||F)&&(F=U.window===U?U:(F=U.ownerDocument)?F.defaultView||F.parentWindow:window,q?(Q=a.relatedTarget||a.toElement,q=D,Q=Q?Or(Q):null,Q!==null&&(qe=Ar(Q),Q!==qe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(q=null,Q=D),q!==Q)){if(J=jp,W="onMouseLeave",k="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(J=qp,W="onPointerLeave",k="onPointerEnter",R="pointer"),qe=q==null?F:_i(q),P=Q==null?F:_i(Q),F=new J(W,R+"leave",q,a,U),F.target=qe,F.relatedTarget=P,W=null,Or(U)===D&&(J=new J(k,R+"enter",Q,a,U),J.target=P,J.relatedTarget=qe,W=J),qe=W,q&&Q)t:{for(J=q,k=Q,R=0,P=J;P;P=yi(P))R++;for(P=0,W=k;W;W=yi(W))P++;for(;0<R-P;)J=yi(J),R--;for(;0<P-R;)k=yi(k),P--;for(;R--;){if(J===k||k!==null&&J===k.alternate)break t;J=yi(J),k=yi(k)}J=null}else J=null;q!==null&&wm(B,F,q,J,!1),Q!==null&&qe!==null&&wm(B,qe,Q,J,!0)}}e:{if(F=D?_i(D):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var X=sI;else if(Zp(F))if(tm)X=uI;else{X=lI;var ne=oI}else(q=F.nodeName)&&q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(X=aI);if(X&&(X=X(r,D))){em(B,X,a,U);break e}ne&&ne(r,F,D),r==="focusout"&&(ne=F._wrapperState)&&ne.controlled&&F.type==="number"&&Au(F,"number",F.value)}switch(ne=D?_i(D):window,r){case"focusin":(Zp(ne)||ne.contentEditable==="true")&&(mi=ne,ac=D,xs=null);break;case"focusout":xs=ac=mi=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,um(B,a,U);break;case"selectionchange":if(fI)break;case"keydown":case"keyup":um(B,a,U)}var re;if(ic)e:{switch(r){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else pi?Jp(r,a)&&(oe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Kp&&a.locale!=="ko"&&(pi||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&pi&&(re=Hp()):(tr=U,Xu="value"in tr?tr.value:tr.textContent,pi=!0)),ne=pl(D,oe),0<ne.length&&(oe=new Gp(oe,r,null,a,U),B.push({event:oe,listeners:ne}),re?oe.data=re:(re=Xp(a),re!==null&&(oe.data=re)))),(re=eI?tI(r,a):nI(r,a))&&(D=pl(D,"onBeforeInput"),0<D.length&&(U=new Gp("onBeforeInput","beforeinput",null,a,U),B.push({event:U,listeners:D}),U.data=re))}vm(B,s)})}function Ns(r,s,a){return{instance:r,listener:s,currentTarget:a}}function pl(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=fs(r,a),m!=null&&c.unshift(Ns(r,m,h)),m=fs(r,s),m!=null&&c.push(Ns(r,m,h))),r=r.return}return c}function yi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function wm(r,s,a,c,h){for(var m=s._reactName,_=[];a!==null&&a!==c;){var C=a,T=C.alternate,D=C.stateNode;if(T!==null&&T===c)break;C.tag===5&&D!==null&&(C=D,h?(T=fs(a,m),T!=null&&_.unshift(Ns(a,T,C))):h||(T=fs(a,m),T!=null&&_.push(Ns(a,T,C)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function Em(r){return(typeof r=="string"?r:""+r).replace(gI,`
`).replace(yI,"")}function ml(r,s,a){if(s=Em(s),Em(r)!==s&&a)throw Error(n(425))}function gl(){}var mc=null,gc=null;function yc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(r){return Cm.resolve(null).then(r).catch(wI)}:vc;function wI(r){setTimeout(function(){throw r})}function _c(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),Es(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);Es(s)}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Sm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var vi=Math.random().toString(36).slice(2),Cn="__reactFiber$"+vi,Ds="__reactProps$"+vi,Pn="__reactContainer$"+vi,wc="__reactEvents$"+vi,EI="__reactListeners$"+vi,CI="__reactHandles$"+vi;function Or(r){var s=r[Cn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Pn]||a[Cn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Sm(r);r!==null;){if(a=r[Cn])return a;r=Sm(r)}return s}r=a,a=r.parentNode}return null}function As(r){return r=r[Cn]||r[Pn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _i(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function yl(r){return r[Ds]||null}var Ec=[],wi=-1;function ir(r){return{current:r}}function Me(r){0>wi||(r.current=Ec[wi],Ec[wi]=null,wi--)}function Ae(r,s){wi++,Ec[wi]=r.current,r.current=s}var sr={},gt=ir(sr),xt=ir(!1),Lr=sr;function Ei(r,s){var a=r.type.contextTypes;if(!a)return sr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function kt(r){return r=r.childContextTypes,r!=null}function vl(){Me(xt),Me(gt)}function Im(r,s,a){if(gt.current!==sr)throw Error(n(168));Ae(gt,s),Ae(xt,a)}function Tm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,xe(r)||"Unknown",h));return K({},a,c)}function _l(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,Lr=gt.current,Ae(gt,r),Ae(xt,xt.current),!0}function bm(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Tm(r,s,Lr),c.__reactInternalMemoizedMergedChildContext=r,Me(xt),Me(gt),Ae(gt,r)):Me(xt),Ae(xt,a)}var Nn=null,wl=!1,Cc=!1;function Rm(r){Nn===null?Nn=[r]:Nn.push(r)}function SI(r){wl=!0,Rm(r)}function or(){if(!Cc&&Nn!==null){Cc=!0;var r=0,s=Pe;try{var a=Nn;for(Pe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Nn=null,wl=!1}catch(h){throw Nn!==null&&(Nn=Nn.slice(r+1)),kp(Vu,or),h}finally{Pe=s,Cc=!1}}return null}var Ci=[],Si=0,El=null,Cl=0,qt=[],Kt=0,Mr=null,Dn=1,An="";function Fr(r,s){Ci[Si++]=Cl,Ci[Si++]=El,El=r,Cl=s}function xm(r,s,a){qt[Kt++]=Dn,qt[Kt++]=An,qt[Kt++]=Mr,Mr=r;var c=Dn;r=An;var h=32-sn(c)-1;c&=~(1<<h),a+=1;var m=32-sn(s)+h;if(30<m){var _=h-h%5;m=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Dn=1<<32-sn(s)+h|a<<h|c,An=m+r}else Dn=1<<m|a<<h|c,An=r}function Sc(r){r.return!==null&&(Fr(r,1),xm(r,1,0))}function Ic(r){for(;r===El;)El=Ci[--Si],Ci[Si]=null,Cl=Ci[--Si],Ci[Si]=null;for(;r===Mr;)Mr=qt[--Kt],qt[Kt]=null,An=qt[--Kt],qt[Kt]=null,Dn=qt[--Kt],qt[Kt]=null}var Bt=null,Wt=null,Be=!1,ln=null;function km(r,s){var a=Xt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Pm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Bt=r,Wt=rr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Bt=r,Wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Mr!==null?{id:Dn,overflow:An}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Xt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Bt=r,Wt=null,!0):!1;default:return!1}}function Tc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bc(r){if(Be){var s=Wt;if(s){var a=s;if(!Pm(r,s)){if(Tc(r))throw Error(n(418));s=rr(a.nextSibling);var c=Bt;s&&Pm(r,s)?km(c,a):(r.flags=r.flags&-4097|2,Be=!1,Bt=r)}}else{if(Tc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Be=!1,Bt=r}}}function Nm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function Sl(r){if(r!==Bt)return!1;if(!Be)return Nm(r),Be=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yc(r.type,r.memoizedProps)),s&&(s=Wt)){if(Tc(r))throw Dm(),Error(n(418));for(;s;)km(r,s),s=rr(s.nextSibling)}if(Nm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Wt=rr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Wt=null}}else Wt=Bt?rr(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=Wt;r;)r=rr(r.nextSibling)}function Ii(){Wt=Bt=null,Be=!1}function Rc(r){ln===null?ln=[r]:ln.push(r)}var II=L.ReactCurrentBatchConfig;function Os(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var h=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var C=h.refs;_===null?delete C[m]:C[m]=_},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Il(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Am(r){var s=r._init;return s(r._payload)}function Om(r){function s(k,R){if(r){var P=k.deletions;P===null?(k.deletions=[R],k.flags|=16):P.push(R)}}function a(k,R){if(!r)return null;for(;R!==null;)s(k,R),R=R.sibling;return null}function c(k,R){for(k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function h(k,R){return k=pr(k,R),k.index=0,k.sibling=null,k}function m(k,R,P){return k.index=P,r?(P=k.alternate,P!==null?(P=P.index,P<R?(k.flags|=2,R):P):(k.flags|=2,R)):(k.flags|=1048576,R)}function _(k){return r&&k.alternate===null&&(k.flags|=2),k}function C(k,R,P,W){return R===null||R.tag!==6?(R=vd(P,k.mode,W),R.return=k,R):(R=h(R,P),R.return=k,R)}function T(k,R,P,W){var X=P.type;return X===ee?U(k,R,P.props.children,W,P.key):R!==null&&(R.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ke&&Am(X)===R.type)?(W=h(R,P.props),W.ref=Os(k,R,P),W.return=k,W):(W=Kl(P.type,P.key,P.props,null,k.mode,W),W.ref=Os(k,R,P),W.return=k,W)}function D(k,R,P,W){return R===null||R.tag!==4||R.stateNode.containerInfo!==P.containerInfo||R.stateNode.implementation!==P.implementation?(R=_d(P,k.mode,W),R.return=k,R):(R=h(R,P.children||[]),R.return=k,R)}function U(k,R,P,W,X){return R===null||R.tag!==7?(R=jr(P,k.mode,W,X),R.return=k,R):(R=h(R,P),R.return=k,R)}function B(k,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return R=vd(""+R,k.mode,P),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $:return P=Kl(R.type,R.key,R.props,null,k.mode,P),P.ref=Os(k,null,R),P.return=k,P;case V:return R=_d(R,k.mode,P),R.return=k,R;case Ke:var W=R._init;return B(k,W(R._payload),P)}if(us(R)||te(R))return R=jr(R,k.mode,P,null),R.return=k,R;Il(k,R)}return null}function F(k,R,P,W){var X=R!==null?R.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return X!==null?null:C(k,R,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return P.key===X?T(k,R,P,W):null;case V:return P.key===X?D(k,R,P,W):null;case Ke:return X=P._init,F(k,R,X(P._payload),W)}if(us(P)||te(P))return X!==null?null:U(k,R,P,W,null);Il(k,P)}return null}function q(k,R,P,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return k=k.get(P)||null,C(R,k,""+W,X);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return k=k.get(W.key===null?P:W.key)||null,T(R,k,W,X);case V:return k=k.get(W.key===null?P:W.key)||null,D(R,k,W,X);case Ke:var ne=W._init;return q(k,R,P,ne(W._payload),X)}if(us(W)||te(W))return k=k.get(P)||null,U(R,k,W,X,null);Il(R,W)}return null}function Q(k,R,P,W){for(var X=null,ne=null,re=R,oe=R=0,rt=null;re!==null&&oe<P.length;oe++){re.index>oe?(rt=re,re=null):rt=re.sibling;var Ee=F(k,re,P[oe],W);if(Ee===null){re===null&&(re=rt);break}r&&re&&Ee.alternate===null&&s(k,re),R=m(Ee,R,oe),ne===null?X=Ee:ne.sibling=Ee,ne=Ee,re=rt}if(oe===P.length)return a(k,re),Be&&Fr(k,oe),X;if(re===null){for(;oe<P.length;oe++)re=B(k,P[oe],W),re!==null&&(R=m(re,R,oe),ne===null?X=re:ne.sibling=re,ne=re);return Be&&Fr(k,oe),X}for(re=c(k,re);oe<P.length;oe++)rt=q(re,k,oe,P[oe],W),rt!==null&&(r&&rt.alternate!==null&&re.delete(rt.key===null?oe:rt.key),R=m(rt,R,oe),ne===null?X=rt:ne.sibling=rt,ne=rt);return r&&re.forEach(function(mr){return s(k,mr)}),Be&&Fr(k,oe),X}function J(k,R,P,W){var X=te(P);if(typeof X!="function")throw Error(n(150));if(P=X.call(P),P==null)throw Error(n(151));for(var ne=X=null,re=R,oe=R=0,rt=null,Ee=P.next();re!==null&&!Ee.done;oe++,Ee=P.next()){re.index>oe?(rt=re,re=null):rt=re.sibling;var mr=F(k,re,Ee.value,W);if(mr===null){re===null&&(re=rt);break}r&&re&&mr.alternate===null&&s(k,re),R=m(mr,R,oe),ne===null?X=mr:ne.sibling=mr,ne=mr,re=rt}if(Ee.done)return a(k,re),Be&&Fr(k,oe),X;if(re===null){for(;!Ee.done;oe++,Ee=P.next())Ee=B(k,Ee.value,W),Ee!==null&&(R=m(Ee,R,oe),ne===null?X=Ee:ne.sibling=Ee,ne=Ee);return Be&&Fr(k,oe),X}for(re=c(k,re);!Ee.done;oe++,Ee=P.next())Ee=q(re,k,oe,Ee.value,W),Ee!==null&&(r&&Ee.alternate!==null&&re.delete(Ee.key===null?oe:Ee.key),R=m(Ee,R,oe),ne===null?X=Ee:ne.sibling=Ee,ne=Ee);return r&&re.forEach(function(r0){return s(k,r0)}),Be&&Fr(k,oe),X}function qe(k,R,P,W){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $:e:{for(var X=P.key,ne=R;ne!==null;){if(ne.key===X){if(X=P.type,X===ee){if(ne.tag===7){a(k,ne.sibling),R=h(ne,P.props.children),R.return=k,k=R;break e}}else if(ne.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ke&&Am(X)===ne.type){a(k,ne.sibling),R=h(ne,P.props),R.ref=Os(k,ne,P),R.return=k,k=R;break e}a(k,ne);break}else s(k,ne);ne=ne.sibling}P.type===ee?(R=jr(P.props.children,k.mode,W,P.key),R.return=k,k=R):(W=Kl(P.type,P.key,P.props,null,k.mode,W),W.ref=Os(k,R,P),W.return=k,k=W)}return _(k);case V:e:{for(ne=P.key;R!==null;){if(R.key===ne)if(R.tag===4&&R.stateNode.containerInfo===P.containerInfo&&R.stateNode.implementation===P.implementation){a(k,R.sibling),R=h(R,P.children||[]),R.return=k,k=R;break e}else{a(k,R);break}else s(k,R);R=R.sibling}R=_d(P,k.mode,W),R.return=k,k=R}return _(k);case Ke:return ne=P._init,qe(k,R,ne(P._payload),W)}if(us(P))return Q(k,R,P,W);if(te(P))return J(k,R,P,W);Il(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,R!==null&&R.tag===6?(a(k,R.sibling),R=h(R,P),R.return=k,k=R):(a(k,R),R=vd(P,k.mode,W),R.return=k,k=R),_(k)):a(k,R)}return qe}var Ti=Om(!0),Lm=Om(!1),Tl=ir(null),bl=null,bi=null,xc=null;function kc(){xc=bi=bl=null}function Pc(r){var s=Tl.current;Me(Tl),r._currentValue=s}function Nc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ri(r,s){bl=r,xc=bi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Pt=!0),r.firstContext=null)}function Yt(r){var s=r._currentValue;if(xc!==r)if(r={context:r,memoizedValue:s,next:null},bi===null){if(bl===null)throw Error(n(308));bi=r,bl.dependencies={lanes:0,firstContext:r}}else bi=bi.next=r;return s}var Ur=null;function Dc(r){Ur===null?Ur=[r]:Ur.push(r)}function Mm(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,Dc(s)):(a.next=h.next,h.next=a),s.interleaved=a,On(r,c)}function On(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var lr=!1;function Ac(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ln(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ar(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(we&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,On(r,a)}return h=c.interleaved,h===null?(s.next=s,Dc(c)):(s.next=h.next,h.next=s),c.interleaved=s,On(r,a)}function Rl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,qu(r,a)}}function Um(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function xl(r,s,a,c){var h=r.updateQueue;lr=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var T=C,D=T.next;T.next=null,_===null?m=D:_.next=D,_=T;var U=r.alternate;U!==null&&(U=U.updateQueue,C=U.lastBaseUpdate,C!==_&&(C===null?U.firstBaseUpdate=D:C.next=D,U.lastBaseUpdate=T))}if(m!==null){var B=h.baseState;_=0,U=D=T=null,C=m;do{var F=C.lane,q=C.eventTime;if((c&F)===F){U!==null&&(U=U.next={eventTime:q,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Q=r,J=C;switch(F=s,q=a,J.tag){case 1:if(Q=J.payload,typeof Q=="function"){B=Q.call(q,B,F);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,F=typeof Q=="function"?Q.call(q,B,F):Q,F==null)break e;B=K({},B,F);break e;case 2:lr=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,F=h.effects,F===null?h.effects=[C]:F.push(C))}else q={eventTime:q,lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},U===null?(D=U=q,T=B):U=U.next=q,_|=F;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;F=C,C=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);if(U===null&&(T=B),h.baseState=T,h.firstBaseUpdate=D,h.lastBaseUpdate=U,s=h.shared.interleaved,s!==null){h=s;do _|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);$r|=_,r.lanes=_,r.memoizedState=B}}function Bm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Ls={},Sn=ir(Ls),Ms=ir(Ls),Fs=ir(Ls);function Br(r){if(r===Ls)throw Error(n(174));return r}function Oc(r,s){switch(Ae(Fs,s),Ae(Ms,r),Ae(Sn,Ls),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Lu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Lu(s,r)}Me(Sn),Ae(Sn,s)}function xi(){Me(Sn),Me(Ms),Me(Fs)}function Wm(r){Br(Fs.current);var s=Br(Sn.current),a=Lu(s,r.type);s!==a&&(Ae(Ms,r),Ae(Sn,a))}function Lc(r){Ms.current===r&&(Me(Sn),Me(Ms))}var $e=ir(0);function kl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mc=[];function Fc(){for(var r=0;r<Mc.length;r++)Mc[r]._workInProgressVersionPrimary=null;Mc.length=0}var Pl=L.ReactCurrentDispatcher,Uc=L.ReactCurrentBatchConfig,Wr=0,ze=null,Je=null,tt=null,Nl=!1,Us=!1,Bs=0,TI=0;function yt(){throw Error(n(321))}function Bc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!on(r[a],s[a]))return!1;return!0}function Wc(r,s,a,c,h,m){if(Wr=m,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pl.current=r===null||r.memoizedState===null?kI:PI,r=a(c,h),Us){m=0;do{if(Us=!1,Bs=0,25<=m)throw Error(n(301));m+=1,tt=Je=null,s.updateQueue=null,Pl.current=NI,r=a(c,h)}while(Us)}if(Pl.current=Ol,s=Je!==null&&Je.next!==null,Wr=0,tt=Je=ze=null,Nl=!1,s)throw Error(n(300));return r}function $c(){var r=Bs!==0;return Bs=0,r}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ze.memoizedState=tt=r:tt=tt.next=r,tt}function Qt(){if(Je===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var s=tt===null?ze.memoizedState:tt.next;if(s!==null)tt=s,Je=r;else{if(r===null)throw Error(n(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?ze.memoizedState=tt=r:tt=tt.next=r}return tt}function Ws(r,s){return typeof s=="function"?s(r):s}function zc(r){var s=Qt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Je,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var C=_=null,T=null,D=m;do{var U=D.lane;if((Wr&U)===U)T!==null&&(T=T.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),c=D.hasEagerState?D.eagerState:r(c,D.action);else{var B={lane:U,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};T===null?(C=T=B,_=c):T=T.next=B,ze.lanes|=U,$r|=U}D=D.next}while(D!==null&&D!==m);T===null?_=c:T.next=C,on(c,s.memoizedState)||(Pt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=T,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do m=h.lane,ze.lanes|=m,$r|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Hc(r){var s=Qt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);on(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function $m(){}function zm(r,s){var a=ze,c=Qt(),h=s(),m=!on(c.memoizedState,h);if(m&&(c.memoizedState=h,Pt=!0),c=c.queue,Vc(jm.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,$s(9,Vm.bind(null,a,c,h,s),void 0,null),nt===null)throw Error(n(349));(Wr&30)!==0||Hm(a,s,h)}return h}function Hm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ze.updateQueue,s===null?(s={lastEffect:null,stores:null},ze.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Vm(r,s,a,c){s.value=a,s.getSnapshot=c,Gm(s)&&qm(r)}function jm(r,s,a){return a(function(){Gm(s)&&qm(r)})}function Gm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!on(r,a)}catch{return!0}}function qm(r){var s=On(r,1);s!==null&&dn(s,r,1,-1)}function Km(r){var s=In();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:r},s.queue=r,r=r.dispatch=xI.bind(null,ze,r),[s.memoizedState,r]}function $s(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=ze.updateQueue,s===null?(s={lastEffect:null,stores:null},ze.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Ym(){return Qt().memoizedState}function Dl(r,s,a,c){var h=In();ze.flags|=r,h.memoizedState=$s(1|s,a,void 0,c===void 0?null:c)}function Al(r,s,a,c){var h=Qt();c=c===void 0?null:c;var m=void 0;if(Je!==null){var _=Je.memoizedState;if(m=_.destroy,c!==null&&Bc(c,_.deps)){h.memoizedState=$s(s,a,m,c);return}}ze.flags|=r,h.memoizedState=$s(1|s,a,m,c)}function Qm(r,s){return Dl(8390656,8,r,s)}function Vc(r,s){return Al(2048,8,r,s)}function Jm(r,s){return Al(4,2,r,s)}function Xm(r,s){return Al(4,4,r,s)}function Zm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function eg(r,s,a){return a=a!=null?a.concat([r]):null,Al(4,4,Zm.bind(null,s,r),a)}function jc(){}function tg(r,s){var a=Qt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Bc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function ng(r,s){var a=Qt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Bc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function rg(r,s,a){return(Wr&21)===0?(r.baseState&&(r.baseState=!1,Pt=!0),r.memoizedState=a):(on(a,s)||(a=Ap(),ze.lanes|=a,$r|=a,r.baseState=!0),s)}function bI(r,s){var a=Pe;Pe=a!==0&&4>a?a:4,r(!0);var c=Uc.transition;Uc.transition={};try{r(!1),s()}finally{Pe=a,Uc.transition=c}}function ig(){return Qt().memoizedState}function RI(r,s,a){var c=fr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},sg(r))og(s,a);else if(a=Mm(r,s,a,c),a!==null){var h=St();dn(a,r,c,h),lg(a,s,c)}}function xI(r,s,a){var c=fr(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(sg(r))og(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,C=m(_,a);if(h.hasEagerState=!0,h.eagerState=C,on(C,_)){var T=s.interleaved;T===null?(h.next=h,Dc(s)):(h.next=T.next,T.next=h),s.interleaved=h;return}}catch{}a=Mm(r,s,h,c),a!==null&&(h=St(),dn(a,r,c,h),lg(a,s,c))}}function sg(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function og(r,s){Us=Nl=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function lg(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,qu(r,a)}}var Ol={readContext:Yt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},kI={readContext:Yt,useCallback:function(r,s){return In().memoizedState=[r,s===void 0?null:s],r},useContext:Yt,useEffect:Qm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Dl(4194308,4,Zm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Dl(4194308,4,r,s)},useInsertionEffect:function(r,s){return Dl(4,2,r,s)},useMemo:function(r,s){var a=In();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=In();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=RI.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=In();return r={current:r},s.memoizedState=r},useState:Km,useDebugValue:jc,useDeferredValue:function(r){return In().memoizedState=r},useTransition:function(){var r=Km(!1),s=r[0];return r=bI.bind(null,r[1]),In().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=ze,h=In();if(Be){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),nt===null)throw Error(n(349));(Wr&30)!==0||Hm(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,Qm(jm.bind(null,c,m,r),[r]),c.flags|=2048,$s(9,Vm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=In(),s=nt.identifierPrefix;if(Be){var a=An,c=Dn;a=(c&~(1<<32-sn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Bs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=TI++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},PI={readContext:Yt,useCallback:tg,useContext:Yt,useEffect:Vc,useImperativeHandle:eg,useInsertionEffect:Jm,useLayoutEffect:Xm,useMemo:ng,useReducer:zc,useRef:Ym,useState:function(){return zc(Ws)},useDebugValue:jc,useDeferredValue:function(r){var s=Qt();return rg(s,Je.memoizedState,r)},useTransition:function(){var r=zc(Ws)[0],s=Qt().memoizedState;return[r,s]},useMutableSource:$m,useSyncExternalStore:zm,useId:ig,unstable_isNewReconciler:!1},NI={readContext:Yt,useCallback:tg,useContext:Yt,useEffect:Vc,useImperativeHandle:eg,useInsertionEffect:Jm,useLayoutEffect:Xm,useMemo:ng,useReducer:Hc,useRef:Ym,useState:function(){return Hc(Ws)},useDebugValue:jc,useDeferredValue:function(r){var s=Qt();return Je===null?s.memoizedState=r:rg(s,Je.memoizedState,r)},useTransition:function(){var r=Hc(Ws)[0],s=Qt().memoizedState;return[r,s]},useMutableSource:$m,useSyncExternalStore:zm,useId:ig,unstable_isNewReconciler:!1};function an(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Gc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:K({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ll={isMounted:function(r){return(r=r._reactInternals)?Ar(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=St(),h=fr(r),m=Ln(c,h);m.payload=s,a!=null&&(m.callback=a),s=ar(r,m,h),s!==null&&(dn(s,r,h,c),Rl(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=St(),h=fr(r),m=Ln(c,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=ar(r,m,h),s!==null&&(dn(s,r,h,c),Rl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=St(),c=fr(r),h=Ln(a,c);h.tag=2,s!=null&&(h.callback=s),s=ar(r,h,c),s!==null&&(dn(s,r,c,a),Rl(s,r,c))}};function ag(r,s,a,c,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!Rs(a,c)||!Rs(h,m):!0}function ug(r,s,a){var c=!1,h=sr,m=s.contextType;return typeof m=="object"&&m!==null?m=Yt(m):(h=kt(s)?Lr:gt.current,c=s.contextTypes,m=(c=c!=null)?Ei(r,h):sr),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ll,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function cg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ll.enqueueReplaceState(s,s.state,null)}function qc(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Ac(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=Yt(m):(m=kt(s)?Lr:gt.current,h.context=Ei(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Gc(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ll.enqueueReplaceState(h,h.state,null),xl(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ki(r,s){try{var a="",c=s;do a+=ge(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function Kc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Yc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function dg(r,s,a){a=Ln(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){zl||(zl=!0,cd=c),Yc(r,s)},a}function fg(r,s,a){a=Ln(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Yc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Yc(r,s),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function hg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new DI;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=GI.bind(null,r,s,a),s.then(r,r))}function pg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function mg(r,s,a,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ln(-1,1),s.tag=2,ar(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var AI=L.ReactCurrentOwner,Pt=!1;function Ct(r,s,a,c){s.child=r===null?Lm(s,null,a,c):Ti(s,r.child,a,c)}function gg(r,s,a,c,h){a=a.render;var m=s.ref;return Ri(s,h),c=Wc(r,s,a,c,m,h),a=$c(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Mn(r,s,h)):(Be&&a&&Sc(s),s.flags|=1,Ct(r,s,c,h),s.child)}function yg(r,s,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!yd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,vg(r,s,m,c,h)):(r=Kl(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Rs,a(_,c)&&r.ref===s.ref)return Mn(r,s,h)}return s.flags|=1,r=pr(m,c),r.ref=s.ref,r.return=s,s.child=r}function vg(r,s,a,c,h){if(r!==null){var m=r.memoizedProps;if(Rs(m,c)&&r.ref===s.ref)if(Pt=!1,s.pendingProps=c=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Pt=!0);else return s.lanes=r.lanes,Mn(r,s,h)}return Qc(r,s,a,c,h)}function _g(r,s,a){var c=s.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ni,$t),$t|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ae(Ni,$t),$t|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ae(Ni,$t),$t|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,Ae(Ni,$t),$t|=c;return Ct(r,s,h,a),s.child}function wg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Qc(r,s,a,c,h){var m=kt(a)?Lr:gt.current;return m=Ei(s,m),Ri(s,h),a=Wc(r,s,a,c,m,h),c=$c(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Mn(r,s,h)):(Be&&c&&Sc(s),s.flags|=1,Ct(r,s,a,h),s.child)}function Eg(r,s,a,c,h){if(kt(a)){var m=!0;_l(s)}else m=!1;if(Ri(s,h),s.stateNode===null)Fl(r,s),ug(s,a,c),qc(s,a,c,h),c=!0;else if(r===null){var _=s.stateNode,C=s.memoizedProps;_.props=C;var T=_.context,D=a.contextType;typeof D=="object"&&D!==null?D=Yt(D):(D=kt(a)?Lr:gt.current,D=Ei(s,D));var U=a.getDerivedStateFromProps,B=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function";B||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||T!==D)&&cg(s,_,c,D),lr=!1;var F=s.memoizedState;_.state=F,xl(s,c,_,h),T=s.memoizedState,C!==c||F!==T||xt.current||lr?(typeof U=="function"&&(Gc(s,a,U,c),T=s.memoizedState),(C=lr||ag(s,a,C,c,F,T,D))?(B||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=T),_.props=c,_.state=T,_.context=D,c=C):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Fm(r,s),C=s.memoizedProps,D=s.type===s.elementType?C:an(s.type,C),_.props=D,B=s.pendingProps,F=_.context,T=a.contextType,typeof T=="object"&&T!==null?T=Yt(T):(T=kt(a)?Lr:gt.current,T=Ei(s,T));var q=a.getDerivedStateFromProps;(U=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==B||F!==T)&&cg(s,_,c,T),lr=!1,F=s.memoizedState,_.state=F,xl(s,c,_,h);var Q=s.memoizedState;C!==B||F!==Q||xt.current||lr?(typeof q=="function"&&(Gc(s,a,q,c),Q=s.memoizedState),(D=lr||ag(s,a,D,c,F,Q,T)||!1)?(U||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Q,T),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Q,T)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),_.props=c,_.state=Q,_.context=T,c=D):(typeof _.componentDidUpdate!="function"||C===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),c=!1)}return Jc(r,s,a,c,m,h)}function Jc(r,s,a,c,h,m){wg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return h&&bm(s,a,!1),Mn(r,s,m);c=s.stateNode,AI.current=s;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=Ti(s,r.child,null,m),s.child=Ti(s,null,C,m)):Ct(r,s,C,m),s.memoizedState=c.state,h&&bm(s,a,!0),s.child}function Cg(r){var s=r.stateNode;s.pendingContext?Im(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Im(r,s.context,!1),Oc(r,s.containerInfo)}function Sg(r,s,a,c,h){return Ii(),Rc(h),s.flags|=256,Ct(r,s,a,c),s.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Zc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ig(r,s,a){var c=s.pendingProps,h=$e.current,m=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=r!==null&&r.memoizedState===null?!1:(h&2)!==0),C?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Ae($e,h&1),r===null)return bc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,m?(c=s.mode,m=s.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Yl(_,c,0,null),r=jr(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=Zc(a),s.memoizedState=Xc,r):ed(s,_));if(h=r.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return OI(r,s,_,c,C,h,a);if(m){m=c.fallback,_=s.mode,h=r.child,C=h.sibling;var T={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=T,s.deletions=null):(c=pr(h,T),c.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=pr(C,m):(m=jr(m,_,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,_=r.child.memoizedState,_=_===null?Zc(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~a,s.memoizedState=Xc,c}return m=r.child,r=m.sibling,c=pr(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ed(r,s){return s=Yl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ml(r,s,a,c){return c!==null&&Rc(c),Ti(s,r.child,null,a),r=ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function OI(r,s,a,c,h,m,_){if(a)return s.flags&256?(s.flags&=-257,c=Kc(Error(n(422))),Ml(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,h=s.mode,c=Yl({mode:"visible",children:c.children},h,0,null),m=jr(m,h,_,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Ti(s,r.child,null,_),s.child.memoizedState=Zc(_),s.memoizedState=Xc,m);if((s.mode&1)===0)return Ml(r,s,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(n(419)),c=Kc(m,c,void 0),Ml(r,s,_,c)}if(C=(_&r.childLanes)!==0,Pt||C){if(c=nt,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,On(r,h),dn(c,r,h,-1))}return gd(),c=Kc(Error(n(421))),Ml(r,s,_,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=qI.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,Wt=rr(h.nextSibling),Bt=s,Be=!0,ln=null,r!==null&&(qt[Kt++]=Dn,qt[Kt++]=An,qt[Kt++]=Mr,Dn=r.id,An=r.overflow,Mr=s),s=ed(s,c.children),s.flags|=4096,s)}function Tg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Nc(r.return,s,a)}function td(r,s,a,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function bg(r,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;if(Ct(r,s,c.children,a),c=$e.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Tg(r,a,s);else if(r.tag===19)Tg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ae($e,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&kl(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),td(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&kl(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}td(s,!0,a,null,m);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fl(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mn(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),$r|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=pr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function LI(r,s,a){switch(s.tag){case 3:Cg(s),Ii();break;case 5:Wm(s);break;case 1:kt(s.type)&&_l(s);break;case 4:Oc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Ae(Tl,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ae($e,$e.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ig(r,s,a):(Ae($e,$e.current&1),r=Mn(r,s,a),r!==null?r.sibling:null);Ae($e,$e.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return bg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ae($e,$e.current),c)break;return null;case 22:case 23:return s.lanes=0,_g(r,s,a)}return Mn(r,s,a)}var Rg,nd,xg,kg;Rg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nd=function(){},xg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,Br(Sn.current);var m=null;switch(a){case"input":h=Nu(r,h),c=Nu(r,c),m=[];break;case"select":h=K({},h,{value:void 0}),c=K({},c,{value:void 0}),m=[];break;case"textarea":h=Ou(r,h),c=Ou(r,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=gl)}Mu(a,c);var _;a=null;for(D in h)if(!c.hasOwnProperty(D)&&h.hasOwnProperty(D)&&h[D]!=null)if(D==="style"){var C=h[D];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?m||(m=[]):(m=m||[]).push(D,null));for(D in c){var T=c[D];if(C=h?.[D],c.hasOwnProperty(D)&&T!==C&&(T!=null||C!=null))if(D==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||T&&T.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in T)T.hasOwnProperty(_)&&C[_]!==T[_]&&(a||(a={}),a[_]=T[_])}else a||(m||(m=[]),m.push(D,a)),a=T;else D==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,C=C?C.__html:void 0,T!=null&&C!==T&&(m=m||[]).push(D,T)):D==="children"?typeof T!="string"&&typeof T!="number"||(m=m||[]).push(D,""+T):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(o.hasOwnProperty(D)?(T!=null&&D==="onScroll"&&Le("scroll",r),m||C===T||(m=[])):(m=m||[]).push(D,T))}a&&(m=m||[]).push("style",a);var D=m;(s.updateQueue=D)&&(s.flags|=4)}},kg=function(r,s,a,c){a!==c&&(s.flags|=4)};function zs(r,s){if(!Be)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function MI(r,s,a){var c=s.pendingProps;switch(Ic(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return kt(s.type)&&vl(),vt(s),null;case 3:return c=s.stateNode,xi(),Me(xt),Me(gt),Fc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Sl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ln!==null&&(hd(ln),ln=null))),nd(r,s),vt(s),null;case 5:Lc(s);var h=Br(Fs.current);if(a=s.type,r!==null&&s.stateNode!=null)xg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return vt(s),null}if(r=Br(Sn.current),Sl(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[Cn]=s,c[Ds]=m,r=(s.mode&1)!==0,a){case"dialog":Le("cancel",c),Le("close",c);break;case"iframe":case"object":case"embed":Le("load",c);break;case"video":case"audio":for(h=0;h<ks.length;h++)Le(ks[h],c);break;case"source":Le("error",c);break;case"img":case"image":case"link":Le("error",c),Le("load",c);break;case"details":Le("toggle",c);break;case"input":up(c,m),Le("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Le("invalid",c);break;case"textarea":fp(c,m),Le("invalid",c)}Mu(a,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,C,r),h=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,C,r),h=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Le("scroll",c)}switch(a){case"input":as(c),dp(c,m,!0);break;case"textarea":as(c),pp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=gl)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mp(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Cn]=s,r[Ds]=c,Rg(r,s,!1,!1),s.stateNode=r;e:{switch(_=Fu(a,c),a){case"dialog":Le("cancel",r),Le("close",r),h=c;break;case"iframe":case"object":case"embed":Le("load",r),h=c;break;case"video":case"audio":for(h=0;h<ks.length;h++)Le(ks[h],r);h=c;break;case"source":Le("error",r),h=c;break;case"img":case"image":case"link":Le("error",r),Le("load",r),h=c;break;case"details":Le("toggle",r),h=c;break;case"input":up(r,c),h=Nu(r,c),Le("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=K({},c,{value:void 0}),Le("invalid",r);break;case"textarea":fp(r,c),h=Ou(r,c),Le("invalid",r);break;default:h=c}Mu(a,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var T=C[m];m==="style"?vp(r,T):m==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&gp(r,T)):m==="children"?typeof T=="string"?(a!=="textarea"||T!=="")&&cs(r,T):typeof T=="number"&&cs(r,""+T):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?T!=null&&m==="onScroll"&&Le("scroll",r):T!=null&&O(r,m,T,_))}switch(a){case"input":as(r),dp(r,c,!1);break;case"textarea":as(r),pp(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Se(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?ui(r,!!c.multiple,m,!1):c.defaultValue!=null&&ui(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vt(s),null;case 6:if(r&&s.stateNode!=null)kg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=Br(Fs.current),Br(Sn.current),Sl(s)){if(c=s.stateNode,a=s.memoizedProps,c[Cn]=s,(m=c.nodeValue!==a)&&(r=Bt,r!==null))switch(r.tag){case 3:ml(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Cn]=s,s.stateNode=c}return vt(s),null;case 13:if(Me($e),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Be&&Wt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Dm(),Ii(),s.flags|=98560,m=!1;else if(m=Sl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Cn]=s}else Ii(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),m=!1}else ln!==null&&(hd(ln),ln=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||($e.current&1)!==0?Xe===0&&(Xe=3):gd())),s.updateQueue!==null&&(s.flags|=4),vt(s),null);case 4:return xi(),nd(r,s),r===null&&Ps(s.stateNode.containerInfo),vt(s),null;case 10:return Pc(s.type._context),vt(s),null;case 17:return kt(s.type)&&vl(),vt(s),null;case 19:if(Me($e),m=s.memoizedState,m===null)return vt(s),null;if(c=(s.flags&128)!==0,_=m.rendering,_===null)if(c)zs(m,!1);else{if(Xe!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=kl(r),_!==null){for(s.flags|=128,zs(m,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ae($e,$e.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ge()>Di&&(s.flags|=128,c=!0,zs(m,!1),s.lanes=4194304)}else{if(!c)if(r=kl(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),zs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Be)return vt(s),null}else 2*Ge()-m.renderingStartTime>Di&&a!==1073741824&&(s.flags|=128,c=!0,zs(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ge(),s.sibling=null,a=$e.current,Ae($e,c?a&1|2:a&1),s):(vt(s),null);case 22:case 23:return md(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?($t&1073741824)!==0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function FI(r,s){switch(Ic(s),s.tag){case 1:return kt(s.type)&&vl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xi(),Me(xt),Me(gt),Fc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Lc(s),null;case 13:if(Me($e),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ii()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Me($e),null;case 4:return xi(),null;case 10:return Pc(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var Ul=!1,_t=!1,UI=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Pi(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){He(r,s,c)}else a.current=null}function rd(r,s,a){try{a()}catch(c){He(r,s,c)}}var Pg=!1;function BI(r,s){if(mc=il,r=am(),lc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,T=-1,D=0,U=0,B=r,F=null;t:for(;;){for(var q;B!==a||h!==0&&B.nodeType!==3||(C=_+h),B!==m||c!==0&&B.nodeType!==3||(T=_+c),B.nodeType===3&&(_+=B.nodeValue.length),(q=B.firstChild)!==null;)F=B,B=q;for(;;){if(B===r)break t;if(F===a&&++D===h&&(C=_),F===m&&++U===c&&(T=_),(q=B.nextSibling)!==null)break;B=F,F=B.parentNode}B=q}a=C===-1||T===-1?null:{start:C,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(gc={focusedElem:r,selectionRange:a},il=!1,Y=s;Y!==null;)if(s=Y,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Y=r;else for(;Y!==null;){s=Y;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var J=Q.memoizedProps,qe=Q.memoizedState,k=s.stateNode,R=k.getSnapshotBeforeUpdate(s.elementType===s.type?J:an(s.type,J),qe);k.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var P=s.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){He(s,s.return,W)}if(r=s.sibling,r!==null){r.return=s.return,Y=r;break}Y=s.return}return Q=Pg,Pg=!1,Q}function Hs(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&rd(s,a,m)}h=h.next}while(h!==c)}}function Bl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function id(r){var s=r.ref;if(s!==null){var a=r.stateNode;r.tag,r=a,typeof s=="function"?s(r):s.current=r}}function Ng(r){var s=r.alternate;s!==null&&(r.alternate=null,Ng(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cn],delete s[Ds],delete s[wc],delete s[EI],delete s[CI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function Ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=gl));else if(c!==4&&(r=r.child,r!==null))for(sd(r,s,a),r=r.sibling;r!==null;)sd(r,s,a),r=r.sibling}function od(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(od(r,s,a),r=r.sibling;r!==null;)od(r,s,a),r=r.sibling}var dt=null,un=!1;function ur(r,s,a){for(a=a.child;a!==null;)Og(r,s,a),a=a.sibling}function Og(r,s,a){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Xo,a)}catch{}switch(a.tag){case 5:_t||Pi(a,s);case 6:var c=dt,h=un;dt=null,ur(r,s,a),dt=c,un=h,dt!==null&&(un?(r=dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):dt.removeChild(a.stateNode));break;case 18:dt!==null&&(un?(r=dt,a=a.stateNode,r.nodeType===8?_c(r.parentNode,a):r.nodeType===1&&_c(r,a),Es(r)):_c(dt,a.stateNode));break;case 4:c=dt,h=un,dt=a.stateNode.containerInfo,un=!0,ur(r,s,a),dt=c,un=h;break;case 0:case 11:case 14:case 15:if(!_t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&rd(a,s,_),h=h.next}while(h!==c)}ur(r,s,a);break;case 1:if(!_t&&(Pi(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){He(a,s,C)}ur(r,s,a);break;case 21:ur(r,s,a);break;case 22:a.mode&1?(_t=(c=_t)||a.memoizedState!==null,ur(r,s,a),_t=c):ur(r,s,a);break;default:ur(r,s,a)}}function Lg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new UI),s.forEach(function(c){var h=KI.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function cn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=r,_=s,C=_;e:for(;C!==null;){switch(C.tag){case 5:dt=C.stateNode,un=!1;break e;case 3:dt=C.stateNode.containerInfo,un=!0;break e;case 4:dt=C.stateNode.containerInfo,un=!0;break e}C=C.return}if(dt===null)throw Error(n(160));Og(m,_,h),dt=null,un=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(D){He(h,s,D)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Mg(s,r),s=s.sibling}function Mg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(cn(s,r),Tn(r),c&4){try{Hs(3,r,r.return),Bl(3,r)}catch(J){He(r,r.return,J)}try{Hs(5,r,r.return)}catch(J){He(r,r.return,J)}}break;case 1:cn(s,r),Tn(r),c&512&&a!==null&&Pi(a,a.return);break;case 5:if(cn(s,r),Tn(r),c&512&&a!==null&&Pi(a,a.return),r.flags&32){var h=r.stateNode;try{cs(h,"")}catch(J){He(r,r.return,J)}}if(c&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,_=a!==null?a.memoizedProps:m,C=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&cp(h,m),Fu(C,_);var D=Fu(C,m);for(_=0;_<T.length;_+=2){var U=T[_],B=T[_+1];U==="style"?vp(h,B):U==="dangerouslySetInnerHTML"?gp(h,B):U==="children"?cs(h,B):O(h,U,B,D)}switch(C){case"input":Du(h,m);break;case"textarea":hp(h,m);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var q=m.value;q!=null?ui(h,!!m.multiple,q,!1):F!==!!m.multiple&&(m.defaultValue!=null?ui(h,!!m.multiple,m.defaultValue,!0):ui(h,!!m.multiple,m.multiple?[]:"",!1))}h[Ds]=m}catch(J){He(r,r.return,J)}}break;case 6:if(cn(s,r),Tn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(J){He(r,r.return,J)}}break;case 3:if(cn(s,r),Tn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(s.containerInfo)}catch(J){He(r,r.return,J)}break;case 4:cn(s,r),Tn(r);break;case 13:cn(s,r),Tn(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(ud=Ge())),c&4&&Lg(r);break;case 22:if(U=a!==null&&a.memoizedState!==null,r.mode&1?(_t=(D=_t)||U,cn(s,r),_t=D):cn(s,r),Tn(r),c&8192){if(D=r.memoizedState!==null,(r.stateNode.isHidden=D)&&!U&&(r.mode&1)!==0)for(Y=r,U=r.child;U!==null;){for(B=Y=U;Y!==null;){switch(F=Y,q=F.child,F.tag){case 0:case 11:case 14:case 15:Hs(4,F,F.return);break;case 1:Pi(F,F.return);var Q=F.stateNode;if(typeof Q.componentWillUnmount=="function"){c=F,a=F.return;try{s=c,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(J){He(c,a,J)}}break;case 5:Pi(F,F.return);break;case 22:if(F.memoizedState!==null){Bg(B);continue}}q!==null?(q.return=F,Y=q):Bg(B)}U=U.sibling}e:for(U=null,B=r;;){if(B.tag===5){if(U===null){U=B;try{h=B.stateNode,D?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=B.stateNode,T=B.memoizedProps.style,_=T!=null&&T.hasOwnProperty("display")?T.display:null,C.style.display=yp("display",_))}catch(J){He(r,r.return,J)}}}else if(B.tag===6){if(U===null)try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(J){He(r,r.return,J)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===r)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===r)break e;for(;B.sibling===null;){if(B.return===null||B.return===r)break e;U===B&&(U=null),B=B.return}U===B&&(U=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:cn(s,r),Tn(r),c&4&&Lg(r);break;case 21:break;default:cn(s,r),Tn(r)}}function Tn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Dg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(cs(h,""),c.flags&=-33);var m=Ag(r);od(r,m,h);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Ag(r);sd(r,C,_);break;default:throw Error(n(161))}}catch(T){He(r,r.return,T)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function WI(r,s,a){Y=r,Fg(r)}function Fg(r,s,a){for(var c=(r.mode&1)!==0;Y!==null;){var h=Y,m=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||Ul;if(!_){var C=h.alternate,T=C!==null&&C.memoizedState!==null||_t;C=Ul;var D=_t;if(Ul=_,(_t=T)&&!D)for(Y=h;Y!==null;)_=Y,T=_.child,_.tag===22&&_.memoizedState!==null?Wg(h):T!==null?(T.return=_,Y=T):Wg(h);for(;m!==null;)Y=m,Fg(m),m=m.sibling;Y=h,Ul=C,_t=D}Ug(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Y=m):Ug(r)}}function Ug(r){for(;Y!==null;){var s=Y;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:_t||Bl(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!_t)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:an(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Bm(s,m,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Bm(s,_,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&a.focus();break;case"img":T.src&&(a.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var D=s.alternate;if(D!==null){var U=D.memoizedState;if(U!==null){var B=U.dehydrated;B!==null&&Es(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_t||s.flags&512&&id(s)}catch(F){He(s,s.return,F)}}if(s===r){Y=null;break}if(a=s.sibling,a!==null){a.return=s.return,Y=a;break}Y=s.return}}function Bg(r){for(;Y!==null;){var s=Y;if(s===r){Y=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Y=a;break}Y=s.return}}function Wg(r){for(;Y!==null;){var s=Y;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Bl(4,s)}catch(T){He(s,a,T)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(T){He(s,h,T)}}var m=s.return;try{id(s)}catch(T){He(s,m,T)}break;case 5:var _=s.return;try{id(s)}catch(T){He(s,_,T)}}}catch(T){He(s,s.return,T)}if(s===r){Y=null;break}var C=s.sibling;if(C!==null){C.return=s.return,Y=C;break}Y=s.return}}var $I=Math.ceil,Wl=L.ReactCurrentDispatcher,ld=L.ReactCurrentOwner,Jt=L.ReactCurrentBatchConfig,we=0,nt=null,Ye=null,ft=0,$t=0,Ni=ir(0),Xe=0,Vs=null,$r=0,$l=0,ad=0,js=null,Nt=null,ud=0,Di=1/0,Fn=null,zl=!1,cd=null,cr=null,Hl=!1,dr=null,Vl=0,Gs=0,dd=null,jl=-1,Gl=0;function St(){return(we&6)!==0?Ge():jl!==-1?jl:jl=Ge()}function fr(r){return(r.mode&1)===0?1:(we&2)!==0&&ft!==0?ft&-ft:II.transition!==null?(Gl===0&&(Gl=Ap()),Gl):(r=Pe,r!==0||(r=window.event,r=r===void 0?16:zp(r.type)),r)}function dn(r,s,a,c){if(50<Gs)throw Gs=0,dd=null,Error(n(185));gs(r,a,c),((we&2)===0||r!==nt)&&(r===nt&&((we&2)===0&&($l|=a),Xe===4&&hr(r,ft)),Dt(r,c),a===1&&we===0&&(s.mode&1)===0&&(Di=Ge()+500,wl&&or()))}function Dt(r,s){var a=r.callbackNode;IS(r,s);var c=tl(r,r===nt?ft:0);if(c===0)a!==null&&Pp(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Pp(a),s===1)r.tag===0?SI(zg.bind(null,r)):Rm(zg.bind(null,r)),_I(function(){(we&6)===0&&or()}),a=null;else{switch(Op(c)){case 1:a=Vu;break;case 4:a=Np;break;case 16:a=Jo;break;case 536870912:a=Dp;break;default:a=Jo}a=Qg(a,$g.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function $g(r,s){if(jl=-1,Gl=0,(we&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ai()&&r.callbackNode!==a)return null;var c=tl(r,r===nt?ft:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=ql(r,c);else{s=c;var h=we;we|=2;var m=Vg();(nt!==r||ft!==s)&&(Fn=null,Di=Ge()+500,Hr(r,s));do try{VI();break}catch(C){Hg(r,C)}while(!0);kc(),Wl.current=m,we=h,Ye!==null?s=0:(nt=null,ft=0,s=Xe)}if(s!==0){if(s===2&&(h=ju(r),h!==0&&(c=h,s=fd(r,h))),s===1)throw a=Vs,Hr(r,0),hr(r,c),Dt(r,Ge()),a;if(s===6)hr(r,c);else{if(h=r.current.alternate,(c&30)===0&&!zI(h)&&(s=ql(r,c),s===2&&(m=ju(r),m!==0&&(c=m,s=fd(r,m))),s===1))throw a=Vs,Hr(r,0),hr(r,c),Dt(r,Ge()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Vr(r,Nt,Fn);break;case 3:if(hr(r,c),(c&130023424)===c&&(s=ud+500-Ge(),10<s)){if(tl(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){St(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=vc(Vr.bind(null,r,Nt,Fn),s);break}Vr(r,Nt,Fn);break;case 4:if(hr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var _=31-sn(c);m=1<<_,_=s[_],_>h&&(h=_),c&=~m}if(c=h,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*$I(c/1960))-c,10<c){r.timeoutHandle=vc(Vr.bind(null,r,Nt,Fn),c);break}Vr(r,Nt,Fn);break;case 5:Vr(r,Nt,Fn);break;default:throw Error(n(329))}}}return Dt(r,Ge()),r.callbackNode===a?$g.bind(null,r):null}function fd(r,s){var a=js;return r.current.memoizedState.isDehydrated&&(Hr(r,s).flags|=256),r=ql(r,s),r!==2&&(s=Nt,Nt=a,s!==null&&hd(s)),r}function hd(r){Nt===null?Nt=r:Nt.push.apply(Nt,r)}function zI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!on(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hr(r,s){for(s&=~ad,s&=~$l,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-sn(s),c=1<<a;r[a]=-1,s&=~c}}function zg(r){if((we&6)!==0)throw Error(n(327));Ai();var s=tl(r,0);if((s&1)===0)return Dt(r,Ge()),null;var a=ql(r,s);if(r.tag!==0&&a===2){var c=ju(r);c!==0&&(s=c,a=fd(r,c))}if(a===1)throw a=Vs,Hr(r,0),hr(r,s),Dt(r,Ge()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Vr(r,Nt,Fn),Dt(r,Ge()),null}function pd(r,s){var a=we;we|=1;try{return r(s)}finally{we=a,we===0&&(Di=Ge()+500,wl&&or())}}function zr(r){dr!==null&&dr.tag===0&&(we&6)===0&&Ai();var s=we;we|=1;var a=Jt.transition,c=Pe;try{if(Jt.transition=null,Pe=1,r)return r()}finally{Pe=c,Jt.transition=a,we=s,(we&6)===0&&or()}}function md(){$t=Ni.current,Me(Ni)}function Hr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,vI(a)),Ye!==null)for(a=Ye.return;a!==null;){var c=a;switch(Ic(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:xi(),Me(xt),Me(gt),Fc();break;case 5:Lc(c);break;case 4:xi();break;case 13:Me($e);break;case 19:Me($e);break;case 10:Pc(c.type._context);break;case 22:case 23:md()}a=a.return}if(nt=r,Ye=r=pr(r.current,null),ft=$t=s,Xe=0,Vs=null,ad=$l=$r=0,Nt=js=null,Ur!==null){for(s=0;s<Ur.length;s++)if(a=Ur[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=h,c.next=_}a.pending=c}Ur=null}return r}function Hg(r,s){do{var a=Ye;try{if(kc(),Pl.current=Ol,Nl){for(var c=ze.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Nl=!1}if(Wr=0,tt=Je=ze=null,Us=!1,Bs=0,ld.current=null,a===null||a.return===null){Xe=1,Vs=s,Ye=null;break}e:{var m=r,_=a.return,C=a,T=s;if(s=ft,C.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var D=T,U=C,B=U.tag;if((U.mode&1)===0&&(B===0||B===11||B===15)){var F=U.alternate;F?(U.updateQueue=F.updateQueue,U.memoizedState=F.memoizedState,U.lanes=F.lanes):(U.updateQueue=null,U.memoizedState=null)}var q=pg(_);if(q!==null){q.flags&=-257,mg(q,_,C,m,s),q.mode&1&&hg(m,D,s),s=q,T=D;var Q=s.updateQueue;if(Q===null){var J=new Set;J.add(T),s.updateQueue=J}else Q.add(T);break e}else{if((s&1)===0){hg(m,D,s),gd();break e}T=Error(n(426))}}else if(Be&&C.mode&1){var qe=pg(_);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),mg(qe,_,C,m,s),Rc(ki(T,C));break e}}m=T=ki(T,C),Xe!==4&&(Xe=2),js===null?js=[m]:js.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var k=dg(m,T,s);Um(m,k);break e;case 1:C=T;var R=m.type,P=m.stateNode;if((m.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(cr===null||!cr.has(P)))){m.flags|=65536,s&=-s,m.lanes|=s;var W=fg(m,C,s);Um(m,W);break e}}m=m.return}while(m!==null)}Gg(a)}catch(X){s=X,Ye===a&&a!==null&&(Ye=a=a.return);continue}break}while(!0)}function Vg(){var r=Wl.current;return Wl.current=Ol,r===null?Ol:r}function gd(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||($r&268435455)===0&&($l&268435455)===0||hr(nt,ft)}function ql(r,s){var a=we;we|=2;var c=Vg();(nt!==r||ft!==s)&&(Fn=null,Hr(r,s));do try{HI();break}catch(h){Hg(r,h)}while(!0);if(kc(),we=a,Wl.current=c,Ye!==null)throw Error(n(261));return nt=null,ft=0,Xe}function HI(){for(;Ye!==null;)jg(Ye)}function VI(){for(;Ye!==null&&!mS();)jg(Ye)}function jg(r){var s=Yg(r.alternate,r,$t);r.memoizedProps=r.pendingProps,s===null?Gg(r):Ye=s,ld.current=null}function Gg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=MI(a,s,$t),a!==null){Ye=a;return}}else{if(a=FI(a,s),a!==null){a.flags&=32767,Ye=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Xe=6,Ye=null;return}}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);Xe===0&&(Xe=5)}function Vr(r,s,a){var c=Pe,h=Jt.transition;try{Jt.transition=null,Pe=1,jI(r,s,a,c)}finally{Jt.transition=h,Pe=c}return null}function jI(r,s,a,c){do Ai();while(dr!==null);if((we&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(TS(r,m),r===nt&&(Ye=nt=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Hl||(Hl=!0,Qg(Jo,function(){return Ai(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Jt.transition,Jt.transition=null;var _=Pe;Pe=1;var C=we;we|=4,ld.current=null,BI(r,a),Mg(a,r),dI(gc),il=!!mc,gc=mc=null,r.current=a,WI(a),gS(),we=C,Pe=_,Jt.transition=m}else r.current=a;if(Hl&&(Hl=!1,dr=r,Vl=h),m=r.pendingLanes,m===0&&(cr=null),_S(a.stateNode),Dt(r,Ge()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(zl)throw zl=!1,r=cd,cd=null,r;return(Vl&1)!==0&&r.tag!==0&&Ai(),m=r.pendingLanes,(m&1)!==0?r===dd?Gs++:(Gs=0,dd=r):Gs=0,or(),null}function Ai(){if(dr!==null){var r=Op(Vl),s=Jt.transition,a=Pe;try{if(Jt.transition=null,Pe=16>r?16:r,dr===null)var c=!1;else{if(r=dr,dr=null,Vl=0,(we&6)!==0)throw Error(n(331));var h=we;for(we|=4,Y=r.current;Y!==null;){var m=Y,_=m.child;if((Y.flags&16)!==0){var C=m.deletions;if(C!==null){for(var T=0;T<C.length;T++){var D=C[T];for(Y=D;Y!==null;){var U=Y;switch(U.tag){case 0:case 11:case 15:Hs(8,U,m)}var B=U.child;if(B!==null)B.return=U,Y=B;else for(;Y!==null;){U=Y;var F=U.sibling,q=U.return;if(Ng(U),U===D){Y=null;break}if(F!==null){F.return=q,Y=F;break}Y=q}}}var Q=m.alternate;if(Q!==null){var J=Q.child;if(J!==null){Q.child=null;do{var qe=J.sibling;J.sibling=null,J=qe}while(J!==null)}}Y=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,Y=_;else e:for(;Y!==null;){if(m=Y,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Hs(9,m,m.return)}var k=m.sibling;if(k!==null){k.return=m.return,Y=k;break e}Y=m.return}}var R=r.current;for(Y=R;Y!==null;){_=Y;var P=_.child;if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,Y=P;else e:for(_=R;Y!==null;){if(C=Y,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Bl(9,C)}}catch(X){He(C,C.return,X)}if(C===_){Y=null;break e}var W=C.sibling;if(W!==null){W.return=C.return,Y=W;break e}Y=C.return}}if(we=h,or(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Xo,r)}catch{}c=!0}return c}finally{Pe=a,Jt.transition=s}}return!1}function qg(r,s,a){s=ki(a,s),s=dg(r,s,1),r=ar(r,s,1),s=St(),r!==null&&(gs(r,1,s),Dt(r,s))}function He(r,s,a){if(r.tag===3)qg(r,r,a);else for(;s!==null;){if(s.tag===3){qg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cr===null||!cr.has(c))){r=ki(a,r),r=fg(s,r,1),s=ar(s,r,1),r=St(),s!==null&&(gs(s,1,r),Dt(s,r));break}}s=s.return}}function GI(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=St(),r.pingedLanes|=r.suspendedLanes&a,nt===r&&(ft&a)===a&&(Xe===4||Xe===3&&(ft&130023424)===ft&&500>Ge()-ud?Hr(r,0):ad|=a),Dt(r,s)}function Kg(r,s){s===0&&((r.mode&1)===0?s=1:(s=el,el<<=1,(el&130023424)===0&&(el=4194304)));var a=St();r=On(r,s),r!==null&&(gs(r,s,a),Dt(r,a))}function qI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Kg(r,a)}function KI(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),Kg(r,a)}var Yg;Yg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||xt.current)Pt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Pt=!1,LI(r,s,a);Pt=(r.flags&131072)!==0}else Pt=!1,Be&&(s.flags&1048576)!==0&&xm(s,Cl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Fl(r,s),r=s.pendingProps;var h=Ei(s,gt.current);Ri(s,a),h=Wc(null,s,c,r,h,a);var m=$c();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kt(c)?(m=!0,_l(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ac(s),h.updater=Ll,s.stateNode=h,h._reactInternals=s,qc(s,c,r,a),s=Jc(null,s,c,!0,m,a)):(s.tag=0,Be&&m&&Sc(s),Ct(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Fl(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=QI(c),r=an(c,r),h){case 0:s=Qc(null,s,c,r,a);break e;case 1:s=Eg(null,s,c,r,a);break e;case 11:s=gg(null,s,c,r,a);break e;case 14:s=yg(null,s,c,an(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:an(c,h),Qc(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:an(c,h),Eg(r,s,c,h,a);case 3:e:{if(Cg(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,h=m.element,Fm(r,s),xl(s,c,null,a);var _=s.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=ki(Error(n(423)),s),s=Sg(r,s,c,a,h);break e}else if(c!==h){h=ki(Error(n(424)),s),s=Sg(r,s,c,a,h);break e}else for(Wt=rr(s.stateNode.containerInfo.firstChild),Bt=s,Be=!0,ln=null,a=Lm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ii(),c===h){s=Mn(r,s,a);break e}Ct(r,s,c,a)}s=s.child}return s;case 5:return Wm(s),r===null&&bc(s),c=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,_=h.children,yc(c,h)?_=null:m!==null&&yc(c,m)&&(s.flags|=32),wg(r,s),Ct(r,s,_,a),s.child;case 6:return r===null&&bc(s),null;case 13:return Ig(r,s,a);case 4:return Oc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ti(s,null,c,a):Ct(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:an(c,h),gg(r,s,c,h,a);case 7:return Ct(r,s,s.pendingProps,a),s.child;case 8:return Ct(r,s,s.pendingProps.children,a),s.child;case 12:return Ct(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,m=s.memoizedProps,_=h.value,Ae(Tl,c._currentValue),c._currentValue=_,m!==null)if(on(m.value,_)){if(m.children===h.children&&!xt.current){s=Mn(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var T=C.firstContext;T!==null;){if(T.context===c){if(m.tag===1){T=Ln(-1,a&-a),T.tag=2;var D=m.updateQueue;if(D!==null){D=D.shared;var U=D.pending;U===null?T.next=T:(T.next=U.next,U.next=T),D.pending=T}}m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Nc(m.return,a,s),C.lanes|=a;break}T=T.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Nc(_,a,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Ct(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Ri(s,a),h=Yt(h),c=c(h),s.flags|=1,Ct(r,s,c,a),s.child;case 14:return c=s.type,h=an(c,s.pendingProps),h=an(c.type,h),yg(r,s,c,h,a);case 15:return vg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:an(c,h),Fl(r,s),s.tag=1,kt(c)?(r=!0,_l(s)):r=!1,Ri(s,a),ug(s,c,h),qc(s,c,h,a),Jc(null,s,c,!0,r,a);case 19:return bg(r,s,a);case 22:return _g(r,s,a)}throw Error(n(156,s.tag))};function Qg(r,s){return kp(r,s)}function YI(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(r,s,a,c){return new YI(r,s,a,c)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function QI(r){if(typeof r=="function")return yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===be)return 11;if(r===Ue)return 14}return 2}function pr(r,s){var a=r.alternate;return a===null?(a=Xt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Kl(r,s,a,c,h,m){var _=2;if(c=r,typeof r=="function")yd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case ee:return jr(a.children,h,m,s);case ie:_=8,h|=8;break;case _e:return r=Xt(12,a,s,h|2),r.elementType=_e,r.lanes=m,r;case Re:return r=Xt(13,a,s,h),r.elementType=Re,r.lanes=m,r;case Qe:return r=Xt(19,a,s,h),r.elementType=Qe,r.lanes=m,r;case Ie:return Yl(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ae:_=10;break e;case me:_=9;break e;case be:_=11;break e;case Ue:_=14;break e;case Ke:_=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Xt(_,a,s,h),s.elementType=r,s.type=c,s.lanes=m,s}function jr(r,s,a,c){return r=Xt(7,r,c,s),r.lanes=a,r}function Yl(r,s,a,c){return r=Xt(22,r,c,s),r.elementType=Ie,r.lanes=a,r.stateNode={isHidden:!1},r}function vd(r,s,a){return r=Xt(6,r,null,s),r.lanes=a,r}function _d(r,s,a){return s=Xt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function JI(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function wd(r,s,a,c,h,m,_,C,T){return r=new JI(r,s,a,C,T),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Xt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(m),r}function XI(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Jg(r){if(!r)return sr;r=r._reactInternals;e:{if(Ar(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(kt(a))return Tm(r,a,s)}return s}function Xg(r,s,a,c,h,m,_,C,T){return r=wd(a,c,!0,r,h,m,_,C,T),r.context=Jg(null),a=r.current,c=St(),h=fr(a),m=Ln(c,h),m.callback=s??null,ar(a,m,h),r.current.lanes=h,gs(r,h,c),Dt(r,c),r}function Ql(r,s,a,c){var h=s.current,m=St(),_=fr(h);return a=Jg(a),s.context===null?s.context=a:s.pendingContext=a,s=Ln(m,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ar(h,s,_),r!==null&&(dn(r,h,_,m),Rl(r,h,_)),_}function Jl(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Zg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ed(r,s){Zg(r,s),(r=r.alternate)&&Zg(r,s)}function ZI(){return null}var ey=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cd(r){this._internalRoot=r}Xl.prototype.render=Cd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ql(r,s,null,null)},Xl.prototype.unmount=Cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;zr(function(){Ql(null,r,null,null)}),s[Pn]=null}};function Xl(r){this._internalRoot=r}Xl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Wp(r)}};function Sd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Zl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ty(){}function e0(r,s,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var D=Jl(_);m.call(D)}}var _=Xg(s,c,r,0,null,!1,!1,"",ty);return r._reactRootContainer=_,r[Pn]=_.current,Ps(r.nodeType===8?r.parentNode:r),zr(),_}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var C=c;c=function(){var D=Jl(T);C.call(D)}}var T=wd(r,0,!1,null,null,!1,!1,"",ty);return r._reactRootContainer=T,r[Pn]=T.current,Ps(r.nodeType===8?r.parentNode:r),zr(function(){Ql(s,T,a,c)}),T}function ea(r,s,a,c,h){var m=a._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var C=h;h=function(){var T=Jl(_);C.call(T)}}Ql(s,_,r,h)}else _=e0(a,s,r,h,c);return Jl(_)}Lp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ms(s.pendingLanes);a!==0&&(qu(s,a|1),Dt(s,Ge()),(we&6)===0&&(Di=Ge()+500,or()))}break;case 13:zr(function(){var c=On(r,1);if(c!==null){var h=St();dn(c,r,1,h)}}),Ed(r,1)}},Ku=function(r){if(r.tag===13){var s=On(r,134217728);if(s!==null){var a=St();dn(s,r,134217728,a)}Ed(r,134217728)}},Mp=function(r){if(r.tag===13){var s=fr(r),a=On(r,s);if(a!==null){var c=St();dn(a,r,s,c)}Ed(r,s)}},Fp=function(){return Pe},Up=function(r,s){var a=Pe;try{return Pe=r,s()}finally{Pe=a}},Wu=function(r,s,a){switch(s){case"input":if(Du(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=yl(c);if(!h)throw Error(n(90));Et(c),Du(c,h)}}}break;case"textarea":hp(r,a);break;case"select":s=a.value,s!=null&&ui(r,!!a.multiple,s,!1)}},Cp=pd,Sp=zr;var t0={usingClientEntryPoint:!1,Events:[As,_i,yl,wp,Ep,pd]},qs={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Rp(r),r===null?null:r.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||ZI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Xo=ta.inject(n0),En=ta}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0,At.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(s))throw Error(n(200));return XI(r,s,null,a)},At.createRoot=function(r,s){if(!Sd(r))throw Error(n(299));var a=!1,c="",h=ey;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=wd(r,1,!1,null,null,a,!1,c,h),r[Pn]=s.current,Ps(r.nodeType===8?r.parentNode:r),new Cd(s)},At.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Rp(s),r=r===null?null:r.stateNode,r},At.flushSync=function(r){return zr(r)},At.hydrate=function(r,s,a){if(!Zl(s))throw Error(n(200));return ea(null,r,s,!0,a)},At.hydrateRoot=function(r,s,a){if(!Sd(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",_=ey;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Xg(s,null,r,1,a??null,h,!1,m,_),r[Pn]=s.current,Ps(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new Xl(s)},At.render=function(r,s,a){if(!Zl(s))throw Error(n(200));return ea(null,r,s,!1,a)},At.unmountComponentAtNode=function(r){if(!Zl(r))throw Error(n(40));return r._reactRootContainer?(zr(function(){ea(null,null,r,!1,function(){r._reactRootContainer=null,r[Pn]=null})}),!0):!1},At.unstable_batchedUpdates=pd,At.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Zl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ea(r,s,a,!1,c)},At.version="18.3.1-next-f1338f8080-20240426",At}var uy;function p_(){if(uy)return bd.exports;uy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bd.exports=u0(),bd.exports}var cy;function c0(){if(cy)return na;cy=1;var t=p_();return na.createRoot=t.createRoot,na.hydrateRoot=t.hydrateRoot,na}var d0=c0();const f0=Mf(d0);var dy="popstate";function h0(t={}){function e(o,l){let{pathname:u="/",search:d="",hash:f=""}=li(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),sf("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=o.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:ho(l))}function i(o,l){jt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return m0(e,n,i,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p0(){return Math.random().toString(36).substring(2,10)}function fy(t,e){return{usr:t.state,key:t.key,idx:e}}function sf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?li(e):e,state:n,key:e&&e.key||i||p0()}}function ho({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function m0(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function g(){d="POP";let S=v(),N=S==null?null:S-p;p=S,f&&f({action:d,location:b.location,delta:N})}function y(S,N){d="PUSH";let A=sf(b.location,S,N);n&&n(A,S),p=v()+1;let O=fy(A,p),L=b.createHref(A);try{u.pushState(O,"",L)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(L)}l&&f&&f({action:d,location:b.location,delta:1})}function w(S,N){d="REPLACE";let A=sf(b.location,S,N);n&&n(A,S),p=v();let O=fy(A,p),L=b.createHref(A);u.replaceState(O,"",L),l&&f&&f({action:d,location:b.location,delta:0})}function E(S){return g0(S)}let b={get action(){return d},get location(){return t(o,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(dy,g),f=S,()=>{o.removeEventListener(dy,g),f=null}},createHref(S){return e(o,S)},createURL:E,encodeLocation(S){let N=E(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:w,go(S){return u.go(S)}};return b}function g0(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ho(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function m_(t,e,n="/"){return y0(t,e,n,!1)}function y0(t,e,n,i){let o=typeof e=="string"?li(e):e,l=Vn(o.pathname||"/",n);if(l==null)return null;let u=g_(t);v0(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=k0(l);d=R0(u[f],p,i)}return d}function g_(t,e=[],n=[],i="",o=!1){let l=(u,d,f=o,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;We(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let g=zn([i,v.relativePath]),y=n.concat(v);u.children&&u.children.length>0&&(We(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g_(u.children,e,y,g,f)),!(u.path==null&&!u.index)&&e.push({path:g,score:T0(g,u.index),routesMeta:y})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let f of y_(u.path))l(u,d,!0,f)}),e}function y_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=y_(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function v0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b0(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _0=/^:[\w-]+$/,w0=3,E0=2,C0=1,S0=10,I0=-2,hy=t=>t==="*";function T0(t,e){let n=t.split("/"),i=n.length;return n.some(hy)&&(i+=I0),e&&(i+=E0),n.filter(o=>!hy(o)).reduce((o,l)=>o+(_0.test(l)?w0:l===""?C0:S0),i)}function b0(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function R0(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",g=wa({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),y=f.route;if(!g&&p&&n&&!i[i.length-1].route.index&&(g=wa({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:zn([l,g.pathname]),pathnameBase:A0(zn([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=zn([l,g.pathnameBase]))}return u}function wa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=x0(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:g},y)=>{if(v==="*"){let E=d[y]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[y];return g&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function x0(t,e=!1,n=!0){jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function k0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=t=>v_.test(t);function N0(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?li(t):t,l;if(n)if(P0(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=py(n.substring(1),"/"):l=py(n,e)}else l=e;return{pathname:l,search:O0(i),hash:L0(o)}}function py(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ff(t){let e=D0(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Uf(t,e,n,i=!1){let o;typeof t=="string"?o=li(t):(o={...t},We(!o.pathname||!o.pathname.includes("?"),kd("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),kd("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),kd("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}d=g>=0?e[g]:"/"}let f=N0(o,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var zn=t=>t.join("/").replace(/\/\/+/g,"/"),A0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,M0=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function F0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function U0(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var __=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function w_(t,e){let n=t;if(typeof n!="string"||!v_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(__)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Vn(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:o=!0}catch{jt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E_=["POST","PUT","PATCH","DELETE"];new Set(E_);var B0=["GET",...E_];new Set(B0);var Qi=I.createContext(null);Qi.displayName="DataRouter";var ru=I.createContext(null);ru.displayName="DataRouterState";var W0=I.createContext(!1),C_=I.createContext({isTransitioning:!1});C_.displayName="ViewTransition";var $0=I.createContext(new Map);$0.displayName="Fetchers";var z0=I.createContext(null);z0.displayName="Await";var Gt=I.createContext(null);Gt.displayName="Navigation";var Oo=I.createContext(null);Oo.displayName="Location";var _n=I.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Bf=I.createContext(null);Bf.displayName="RouteError";var S_="REACT_ROUTER_ERROR",H0="REDIRECT",V0="ROUTE_ERROR_RESPONSE";function j0(t){if(t.startsWith(`${S_}:${H0}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function G0(t){if(t.startsWith(`${S_}:${V0}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new M0(e.status,e.statusText,e.data)}catch{}}function q0(t,{relative:e}={}){We(Ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Gt),{hash:o,pathname:l,search:u}=Lo(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:zn([n,l])),i.createHref({pathname:d,search:u,hash:o})}function Ji(){return I.useContext(Oo)!=null}function Nr(){return We(Ji(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Oo).location}var I_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T_(t){I.useContext(Gt).static||I.useLayoutEffect(t)}function iu(){let{isDataRoute:t}=I.useContext(_n);return t?lT():K0()}function K0(){We(Ji(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Qi),{basename:e,navigator:n}=I.useContext(Gt),{matches:i}=I.useContext(_n),{pathname:o}=Nr(),l=JSON.stringify(Ff(i)),u=I.useRef(!1);return T_(()=>{u.current=!0}),I.useCallback((f,p={})=>{if(jt(u.current,I_),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=Uf(f,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zn([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,o,t])}I.createContext(null);function Y0(){let{matches:t}=I.useContext(_n),e=t[t.length-1];return e?e.params:{}}function Lo(t,{relative:e}={}){let{matches:n}=I.useContext(_n),{pathname:i}=Nr(),o=JSON.stringify(Ff(n));return I.useMemo(()=>Uf(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function Q0(t,e){return b_(t,e)}function b_(t,e,n,i,o){We(Ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Gt),{matches:u}=I.useContext(_n),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";x_(p,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Nr(),w;if(e){let A=typeof e=="string"?li(e):e;We(v==="/"||A.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=y;let E=w.pathname||"/",b=E;if(v!=="/"){let A=v.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=m_(t,{pathname:b});jt(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),jt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=tT(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:zn([v,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?v:zn([v,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),u,n,i,o);return e&&N?I.createElement(Oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function J0(){let t=oT(),e=F0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,u)}var X0=I.createElement(J0,null),R_=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=G0(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(_n.Provider,{value:this.props.routeContext},I.createElement(Bf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(Z0,{error:t},e):e}};R_.contextType=W0;var Pd=new WeakMap;function Z0({children:t,error:e}){let{basename:n}=I.useContext(Gt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=j0(e.digest);if(i){let o=Pd.get(e);if(o)throw o;let l=w_(i.location,n);if(__&&!Pd.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Pd.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function eT({routeContext:t,match:e,children:n}){let i=I.useContext(Qi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(_n.Provider,{value:t},n)}function tT(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);We(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let g=l[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=v),g.route.id){let{loaderData:y,errors:w}=n,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(v,g)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:U0(n.matches),errorInfo:g})}:void 0;return l.reduceRight((v,g,y)=>{let w,E=!1,b=null,S=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||X0,d&&(f<0&&y===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===y&&(E=!0,S=g.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,y+1)),A=()=>{let O;return w?O=b:E?O=S:g.route.Component?O=I.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=v,I.createElement(eT,{match:g,routeContext:{outlet:v,matches:N,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?I.createElement(R_,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:p}):A()},null)}function Wf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(t){let e=I.useContext(Qi);return We(e,Wf(t)),e}function rT(t){let e=I.useContext(ru);return We(e,Wf(t)),e}function iT(t){let e=I.useContext(_n);return We(e,Wf(t)),e}function $f(t){let e=iT(t),n=e.matches[e.matches.length-1];return We(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sT(){return $f("useRouteId")}function oT(){let t=I.useContext(Bf),e=rT("useRouteError"),n=$f("useRouteError");return t!==void 0?t:e.errors?.[n]}function lT(){let{router:t}=nT("useNavigate"),e=$f("useNavigate"),n=I.useRef(!1);return T_(()=>{n.current=!0}),I.useCallback(async(o,l={})=>{jt(n.current,I_),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var my={};function x_(t,e,n){!e&&!my[t]&&(my[t]=!0,jt(!1,n))}I.memo(aT);function aT({routes:t,future:e,state:n,onError:i}){return b_(t,void 0,n,i,e)}function uT({to:t,replace:e,state:n,relative:i}){We(Ji(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Gt);jt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(_n),{pathname:u}=Nr(),d=iu(),f=Uf(t,Ff(l),u,i==="path"),p=JSON.stringify(f);return I.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function ca(t){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cT({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){We(!Ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[d,o,l,u]);typeof n=="string"&&(n=li(n));let{pathname:p="/",search:v="",hash:g="",state:y=null,key:w="default"}=n,E=I.useMemo(()=>{let b=Vn(p,d);return b==null?null:{location:{pathname:b,search:v,hash:g,state:y,key:w},navigationType:i}},[d,p,v,g,y,w,i]);return jt(E!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:I.createElement(Gt.Provider,{value:f},I.createElement(Oo.Provider,{children:e,value:E}))}function dT({children:t,location:e}){return Q0(of(t),e)}function of(t,e=[]){let n=[];return I.Children.forEach(t,(i,o)=>{if(!I.isValidElement(i))return;let l=[...e,o];if(i.type===I.Fragment){n.push.apply(n,of(i.props.children,l));return}We(i.type===ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=of(i.props.children,l)),n.push(u)}),n}var da="get",fa="application/x-www-form-urlencoded";function su(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fT(t){return su(t)&&t.tagName.toLowerCase()==="button"}function hT(t){return su(t)&&t.tagName.toLowerCase()==="form"}function pT(t){return su(t)&&t.tagName.toLowerCase()==="input"}function mT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gT(t,e){return t.button===0&&(!e||e==="_self")&&!mT(t)}var ra=null;function yT(){if(ra===null)try{new FormData(document.createElement("form"),0),ra=!1}catch{ra=!0}return ra}var vT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(t){return t!=null&&!vT.has(t)?(jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fa}"`),null):t}function _T(t,e){let n,i,o,l,u;if(hT(t)){let d=t.getAttribute("action");i=d?Vn(d,e):null,n=t.getAttribute("method")||da,o=Nd(t.getAttribute("enctype"))||fa,l=new FormData(t)}else if(fT(t)||pT(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Vn(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||da,o=Nd(t.getAttribute("formenctype"))||Nd(d.getAttribute("enctype"))||fa,l=new FormData(d,t),!yT()){let{name:p,type:v,value:g}=t;if(v==="image"){let y=p?`${p}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else p&&l.append(p,g)}}else{if(su(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=da,i=null,o=fa,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wT(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Vn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ET(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ST(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await ET(l,n);return u.links?u.links():[]}return[]}));return RT(i.flat(1).filter(CT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(t,e,n,i,o,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function IT(t,e,{includeHydrateFallback:n}={}){return TT(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function TT(t){return[...new Set(t)]}function bT(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function RT(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(bT(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function k_(){let t=I.useContext(Qi);return zf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xT(){let t=I.useContext(ru);return zf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hf=I.createContext(void 0);Hf.displayName="FrameworkContext";function P_(){let t=I.useContext(Hf);return zf(t,"You must render this element inside a <HydratedRouter> element"),t}function kT(t,e){let n=I.useContext(Hf),[i,o]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:g}=e,y=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let b=N=>{N.forEach(A=>{u(A.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),I.useEffect(()=>{if(i){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[i]);let w=()=>{o(!0)},E=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,y,{}]:[l,y,{onFocus:Ys(d,w),onBlur:Ys(f,E),onMouseEnter:Ys(p,w),onMouseLeave:Ys(v,E),onTouchStart:Ys(g,w)}]:[!1,y,{}]}function Ys(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PT({page:t,...e}){let{router:n}=k_(),i=I.useMemo(()=>m_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(DT,{page:t,matches:i,...e}):null}function NT(t){let{manifest:e,routeModules:n}=P_(),[i,o]=I.useState([]);return I.useEffect(()=>{let l=!1;return ST(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function DT({page:t,matches:e,...n}){let i=Nr(),{manifest:o,routeModules:l}=P_(),{basename:u}=k_(),{loaderData:d,matches:f}=xT(),p=I.useMemo(()=>gy(t,e,f,o,i,"data"),[t,e,f,o,i]),v=I.useMemo(()=>gy(t,e,f,o,i,"assets"),[t,e,f,o,i]),g=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,b=!1;if(e.forEach(N=>{let A=o.routes[N.route.id];!A||!A.hasLoader||(!p.some(O=>O.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||A.hasClientLoader?b=!0:E.add(N.route.id))}),E.size===0)return[];let S=wT(t,u,"data");return b&&E.size>0&&S.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[u,d,i,o,p,e,t,l]),y=I.useMemo(()=>IT(v,o),[v,o]),w=NT(v);return I.createElement(I.Fragment,null,g.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:b})=>I.createElement("link",{key:E,nonce:n.nonce,...b})))}function AT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OT&&(window.__reactRouterVersion="7.11.0")}catch{}function LT({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=I.useRef();o.current==null&&(o.current=h0({window:i,v5Compat:!0}));let l=o.current,[u,d]=I.useState({action:l.action,location:l.location}),f=I.useCallback(p=>{n===!1?d(p):I.startTransition(()=>d(p))},[n]);return I.useLayoutEffect(()=>l.listen(f),[l,f]),I.createElement(cT,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D_=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:y,...w},E){let{basename:b,unstable_useTransitions:S}=I.useContext(Gt),N=typeof p=="string"&&N_.test(p),A=w_(p,b);p=A.to;let O=q0(p,{relative:o}),[L,$,V]=kT(i,w),ee=BT(p,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:S});function ie(ae){e&&e(ae),ae.defaultPrevented||ee(ae)}let _e=I.createElement("a",{...w,...V,href:A.absoluteURL||O,onClick:A.isExternal||l?e:ie,ref:AT(E,$),target:f,"data-discover":!N&&n==="render"?"true":void 0});return L&&!N?I.createElement(I.Fragment,null,_e,I.createElement(PT,{page:O})):_e});D_.displayName="Link";var MT=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:f,...p},v){let g=Lo(u,{relative:p.relative}),y=Nr(),w=I.useContext(ru),{navigator:E,basename:b}=I.useContext(Gt),S=w!=null&&VT(g)&&d===!0,N=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,A=y.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(A=A.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&b&&(O=Vn(O,b)||O);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=A===N||!o&&A.startsWith(N)&&A.charAt(L)==="/",V=O!=null&&(O===N||!o&&O.startsWith(N)&&O.charAt(N.length)==="/"),ee={isActive:$,isPending:V,isTransitioning:S},ie=$?e:void 0,_e;typeof i=="function"?_e=i(ee):_e=[i,$?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ae=typeof l=="function"?l(ee):l;return I.createElement(D_,{...p,"aria-current":ie,className:_e,ref:v,style:ae,to:u,viewTransition:d},typeof f=="function"?f(ee):f)});MT.displayName="NavLink";var FT=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=da,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:y,...w},E)=>{let{unstable_useTransitions:b}=I.useContext(Gt),S=zT(),N=HT(d,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&N_.test(d),L=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let V=$.nativeEvent.submitter,ee=V?.getAttribute("formmethod")||u,ie=()=>S(V||$.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:o,state:l,relative:p,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:y});b&&n!==!1?I.startTransition(()=>ie()):ie()};return I.createElement("form",{ref:E,method:A,action:N,onSubmit:i?f:L,...w,"data-discover":!O&&t==="render"?"true":void 0})});FT.displayName="Form";function UT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A_(t){let e=I.useContext(Qi);return We(e,UT(t)),e}function BT(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=iu(),v=Nr(),g=Lo(t,{relative:l});return I.useCallback(y=>{if(gT(y,e)){y.preventDefault();let w=n!==void 0?n:ho(v)===ho(g),E=()=>p(t,{replace:w,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});f?I.startTransition(()=>E()):E()}},[v,p,g,n,i,e,t,o,l,u,d,f])}var WT=0,$T=()=>`__${String(++WT)}__`;function zT(){let{router:t}=A_("useSubmit"),{basename:e}=I.useContext(Gt),n=sT(),i=t.fetch,o=t.navigate;return I.useCallback(async(l,u={})=>{let{action:d,method:f,encType:p,formData:v,body:g}=_T(l,e);if(u.navigate===!1){let y=u.fetcherKey||$T();await i(y,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:g,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:g,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function HT(t,{relative:e}={}){let{basename:n}=I.useContext(Gt),i=I.useContext(_n);We(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Lo(t||".",{relative:e})},u=Nr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zn([n,l.pathname])),ho(l)}function VT(t,{relative:e}={}){let n=I.useContext(C_);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A_("useViewTransitionState"),o=Lo(t,{relative:e});if(!n.isTransitioning)return!1;let l=Vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return wa(o.pathname,u)!=null||wa(o.pathname,l)!=null}var Vf=p_();const jT=Mf(Vf),GT=()=>{};var yy={};const O_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const z=function(t,e){if(!t)throw Xi(e)},Xi=function(t){return new Error("Firebase Database ("+O_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const L_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qT=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,v=l>>2,g=(l&3)<<4|d>>4;let y=(d&15)<<2|p>>6,w=p&63;f||(w=64,u||(y=64)),i.push(n[v],n[g],n[y],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const g=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||g==null)throw new KT;const y=l<<2|d>>4;if(i.push(y),p!==64){const w=d<<4&240|p>>2;if(i.push(w),g!==64){const E=p<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M_=function(t){const e=L_(t);return jf.encodeByteArray(e,!0)},Ea=function(t){return M_(t).replace(/\./g,"")},Ca=function(t){try{return jf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YT(t){return F_(void 0,t)}function F_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QT(n)||(t[n]=F_(t[n],e[n]));return t}function QT(t){return t!=="__proto__"}function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XT=()=>JT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof yy>"u")return;const t=yy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ca(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return GT()||XT()||ZT()||eb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U_=t=>Gf()?.emulatorHosts?.[t],B_=t=>{const e=U_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},W_=()=>Gf()?.config,$_=t=>Gf()?.[`_${t}`];class ou{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Dr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qf(t){return(await fetch(t,{credentials:"include"})).ok}function tb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ea(JSON.stringify(n)),Ea(JSON.stringify(u)),""].join(".")}const ro={};function nb(){const t={prod:[],emulator:[]};for(const e of Object.keys(ro))ro[e]?t.emulator.push(e):t.prod.push(e);return t}function rb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vy=!1;function Kf(t,e){if(typeof window>"u"||typeof document>"u"||!Dr(window.location.host)||ro[t]===e||ro[t]||vy)return;ro[t]=e;function n(y){return`__firebase__banner__${y}`}const i="__firebase__banner",l=nb().prod.length>0;function u(){const y=document.getElementById(i);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{vy=!0,u()},y}function v(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=rb(i),w=n("text"),E=document.getElementById(w)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),N=n("preprendIcon"),A=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const O=y.element;d(O),v(S,b);const L=p();f(A,N),O.append(A,E,S,L),document.body.appendChild(O)}l?(E.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ob(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lb(){return O_.NODE_ADMIN===!0}function ab(){try{return typeof indexedDB=="object"}catch{return!1}}function ub(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cb="FirebaseError";class Kn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cb,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?db(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Kn(o,d,i)}}function db(t,e){return t.replace(fb,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const fb=/\{\$([^}]+)}/g;function po(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}const H_=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=po(Ca(l[0])||""),n=po(Ca(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},hb=function(t){const e=H_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pb=function(t){const e=H_(t).claims;return typeof e=="object"&&e.admin===!0};function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $i(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function ei(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(_y(l)&&_y(u)){if(!ei(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function _y(t){return t!==null&&typeof t=="object"}function Zi(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class mb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)i[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const y=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,v;for(let g=0;g<80;g++){g<40?g<20?(p=d^l&(u^d),v=1518500249):(p=l^u^d,v=1859775393):g<60?(p=l&u|d&(l|u),v=2400959708):(p=l^u^d,v=3395469782);const y=(o<<5|o>>>27)+p+f+v+i[g]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function gb(t,e){const n=new yb(t,e);return n.subscribe.bind(n)}class yb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dd(){}function Qf(t,e){return`${t} failed: ${e} argument `}const _b=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,z(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function ut(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qr="[DEFAULT]";let wb=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ou;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cb(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Eb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Eb(t){return t===qr?void 0:t}function Cb(t){return t.instantiationMode==="EAGER"}class Sb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const Ib={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Tb=Ne.INFO,bb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Rb=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=bb[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=Tb,this._logHandler=Rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ib[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const xb=(t,e)=>e.some(n=>t instanceof n);let wy,Ey;function kb(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pb(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,af=new WeakMap,j_=new WeakMap,Ad=new WeakMap,Xf=new WeakMap;function Nb(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(wr(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&V_.set(n,t)}).catch(()=>{}),Xf.set(e,t),e}function Db(t){if(af.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});af.set(t,e)}let uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ab(t){uf=t(uf)}function Ob(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Od(this),e,...n);return j_.set(i,e.sort?e.sort():[e]),wr(i)}:Pb().includes(t)?function(...e){return t.apply(Od(this),e),wr(V_.get(this))}:function(...e){return wr(t.apply(Od(this),e))}}function Lb(t){return typeof t=="function"?Ob(t):(t instanceof IDBTransaction&&Db(t),xb(t,kb())?new Proxy(t,uf):t)}function wr(t){if(t instanceof IDBRequest)return Nb(t);if(Ad.has(t))return Ad.get(t);const e=Lb(t);return e!==t&&(Ad.set(t,e),Xf.set(e,t)),e}const Od=t=>Xf.get(t);function Mb(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=wr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(wr(u.result),f.oldVersion,f.newVersion,wr(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Fb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Ld=new Map;function Cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Ub.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Fb.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return Ld.set(e,l),l}Ab(t=>({...t,get:(e,n,i)=>Cy(e,n)||t.get(e,n,i),has:(e,n)=>!!Cy(e,n)||t.has(e,n)}));class Bb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wb(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Wb(t){return t.getComponent()?.type==="VERSION"}const cf="@firebase/app",Sy="0.14.6";const jn=new Jf("@firebase/app"),$b="@firebase/app-compat",zb="@firebase/analytics-compat",Hb="@firebase/analytics",Vb="@firebase/app-check-compat",jb="@firebase/app-check",Gb="@firebase/auth",qb="@firebase/auth-compat",Kb="@firebase/database",Yb="@firebase/data-connect",Qb="@firebase/database-compat",Jb="@firebase/functions",Xb="@firebase/functions-compat",Zb="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",rR="@firebase/performance",iR="@firebase/performance-compat",sR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",aR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",dR="@firebase/firestore-compat",fR="firebase",hR="12.6.0";const df="[DEFAULT]",pR={[cf]:"fire-core",[$b]:"fire-core-compat",[Hb]:"fire-analytics",[zb]:"fire-analytics-compat",[jb]:"fire-app-check",[Vb]:"fire-app-check-compat",[Gb]:"fire-auth",[qb]:"fire-auth-compat",[Kb]:"fire-rtdb",[Yb]:"fire-data-connect",[Qb]:"fire-rtdb-compat",[Jb]:"fire-fn",[Xb]:"fire-fn-compat",[Zb]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[rR]:"fire-perf",[iR]:"fire-perf-compat",[sR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[aR]:"fire-gcs-compat",[uR]:"fire-fst",[dR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};const Ia=new Map,mR=new Map,ff=new Map;function Iy(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(ff.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,t);for(const n of Ia.values())Iy(n,t);for(const n of mR.values())Iy(n,t);return!0}function au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t==null?!1:t.settings!==void 0}const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Mo("app","Firebase",gR);class yR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const es=hR;function G_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:df,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(n||(n=W_()),!n)throw Er.create("no-options");const l=Ia.get(o);if(l){if(ei(n,l.options)&&ei(i,l.config))return l;throw Er.create("duplicate-app",{appName:o})}const u=new Sb(o);for(const f of ff.values())u.addComponent(f);const d=new yR(n,i,u);return Ia.set(o,d),d}function Zf(t=df){const e=Ia.get(t);if(!e&&t===df&&W_())return G_();if(!e)throw Er.create("no-app",{appName:t});return e}function bn(t,e,n){let i=pR[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(u.join(" "));return}ti(new br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const vR="firebase-heartbeat-database",_R=1,mo="firebase-heartbeat-store";let Md=null;function q_(){return Md||(Md=Mb(vR,_R,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Md}async function wR(t){try{const n=(await q_()).transaction(mo),i=await n.objectStore(mo).get(K_(t));return await n.done,i}catch(e){if(e instanceof Kn)jn.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}}async function Ty(t,e){try{const i=(await q_()).transaction(mo,"readwrite");await i.objectStore(mo).put(e,K_(t)),await i.done}catch(n){if(n instanceof Kn)jn.warn(n.message);else{const i=Er.create("idb-set",{originalErrorMessage:n?.message});jn.warn(i.message)}}}function K_(t){return`${t.name}!${t.options.appId}`}const ER=1024,CR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=by();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>CR){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=by(),{heartbeatsToSend:n,unsentEntries:i}=IR(this._heartbeatsCache.heartbeats),o=Ea(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return jn.warn(e),""}}}function by(){return new Date().toISOString().substring(0,10)}function IR(t,e=ER){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Ry(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ry(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ab()?ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ry(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}function bR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function RR(t){ti(new br("platform-logger",e=>new Bb(e),"PRIVATE")),ti(new br("heartbeat",e=>new SR(e),"PRIVATE")),bn(cf,Sy,t),bn(cf,Sy,"esm2020"),bn("fire-js","")}RR("");var xR="firebase",kR="12.7.0";bn(xR,kR,"app");var xy={};const ky="@firebase/database",Py="1.1.0";let Y_="";function PR(t){Y_=t}class NR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:po(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class DR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Q_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NR(e)}}catch{}return new DR},Qr=Q_("localStorage"),AR=Q_("sessionStorage");const Mi=new Jf("@firebase/database"),OR=(function(){let t=1;return function(){return t++}})(),J_=function(t){const e=_b(t),n=new mb;n.update(e);const i=n.digest();return jf.encodeByteArray(i)},Fo=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Fo.apply(null,i):typeof i=="object"?e+=Ze(i):e+=i,e+=" "}return e};let io=null,Ny=!0;const LR=function(t,e){z(!0,"Can't turn on custom loggers persistently."),Mi.logLevel=Ne.VERBOSE,io=Mi.log.bind(Mi)},wt=function(...t){if(Ny===!0&&(Ny=!1,io===null&&AR.get("logging_enabled")===!0&&LR()),io){const e=Fo.apply(null,t);io(e)}},Uo=function(t){return function(...e){wt(t,...e)}},hf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fo(...t);Mi.error(e)},Gn=function(...t){const e=`FIREBASE FATAL ERROR: ${Fo(...t)}`;throw Mi.error(e),new Error(e)},Mt=function(...t){const e="FIREBASE WARNING: "+Fo(...t);Mi.warn(e)},MR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},X_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zi="[MIN_NAME]",ni="[MAX_NAME]",ts=function(t,e){if(t===e)return 0;if(t===zi||e===ni)return-1;if(e===zi||t===ni)return 1;{const n=Dy(t),i=Dy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},UR=function(t,e){return t===e?0:t<e?-1:1},Qs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},eh=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ze(e[i]),n+=":",n+=eh(t[e[i]]);return n+="}",n},Z_=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ew=function(t){z(!X_(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,f;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const v=p.join("");let g="";for(f=0;f<64;f+=8){let y=parseInt(v.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},BR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $R(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const zR=new RegExp("^-?(0*)\\d{1,10}$"),HR=-2147483648,VR=2147483647,Dy=function(t){if(zR.test(t)){const e=Number(t);if(e>=HR&&e<=VR)return e}return null},ns=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},jR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},so=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class GR{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qR{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(e)}}class ha{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ha.OWNER="owner";const th="5",tw="v",nw="s",rw="r",iw="f",sw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ow="ls",lw="p",pf="ac",aw="websocket",uw="long_polling";class cw{constructor(e,n,i,o,l=!1,u="",d=!1,f=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dw(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let i;if(e===aw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KR(t)&&(n.ns=t.namespace);const o=[];return Ft(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}class YR{constructor(){this.counters_={}}incrementCounter(e,n=1){Yn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YT(this.counters_)}}const Fd={},Ud={};function nh(t){const e=t.toString();return Fd[e]||(Fd[e]=new YR),Fd[e]}function QR(t,e){const n=t.toString();return Ud[n]||(Ud[n]=e()),Ud[n]}class JR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ns(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ay="start",XR="close",ZR="pLPCommand",ex="pRTLPCB",fw="id",hw="pw",pw="ser",tx="cb",nx="seg",rx="ts",ix="d",sx="dframe",mw=1870,gw=30,ox=mw-gw,lx=25e3,ax=3e4;class Li{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uo(e),this.stats_=nh(n),this.urlFn=f=>(this.appCheckToken&&(f[pf]=this.appCheckToken),dw(n,uw,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ax)),FR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rh((...l)=>{const[u,d,f,p,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Ay)this.id=d,this.password=f;else if(u===XR)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ay]="t",i[pw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[tx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[tw]=th,this.transportSessionId&&(i[nw]=this.transportSessionId),this.lastSessionId&&(i[ow]=this.lastSessionId),this.applicationId&&(i[lw]=this.applicationId),this.appCheckToken&&(i[pf]=this.appCheckToken),typeof location<"u"&&location.hostname&&sw.test(location.hostname)&&(i[rw]=iw);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Li.forceAllow_=!0}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){return Li.forceAllow_?!0:!Li.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BR()&&!WR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=M_(n),o=Z_(i,ox);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[sx]="t",i[fw]=e,i[hw]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rh{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OR(),window[ZR+this.uniqueCallbackIdentifier]=e,window[ex+this.uniqueCallbackIdentifier]=n,this.myIFrame=rh.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){wt("frame writing exception"),d.stack&&wt(d.stack),wt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[fw]=this.myID,e[hw]=this.myPW,e[pw]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gw+i.length<=mw;){const u=this.pendingSegs.shift();i=i+"&"+nx+o+"="+u.seg+"&"+rx+o+"="+u.ts+"&"+ix+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(lx)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{wt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const ux=16384,cx=45e3;let Ta=null;typeof MozWebSocket<"u"?Ta=MozWebSocket:typeof WebSocket<"u"&&(Ta=WebSocket);class fn{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uo(this.connId),this.stats_=nh(n),this.connURL=fn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[tw]=th,typeof location<"u"&&location.hostname&&sw.test(location.hostname)&&(u[rw]=iw),n&&(u[nw]=n),i&&(u[ow]=i),o&&(u[pf]=o),l&&(u[lw]=l),dw(e,aw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let i;lb(),this.mySock=new Ta(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ta!==null&&!fn.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=po(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Z_(n,ux);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;class go{static get ALL_TRANSPORTS(){return[Li,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=fn&&fn.isAvailable();let i=n&&!fn.previouslyFailed();if(e.webSocketOnly&&(n||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fn];else{const o=this.transports_=[];for(const l of go.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);go.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}go.globalTransportInitialized_=!1;const dx=6e4,fx=5e3,hx=10*1024,px=100*1024,Bd="t",Oy="d",mx="s",Ly="r",gx="e",My="o",Fy="a",Uy="n",By="p",yx="h";class vx{constructor(e,n,i,o,l,u,d,f,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uo("c:"+this.id+":"),this.transportManager_=new go(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=so(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>px?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bd in e){const n=e[Bd];n===Fy?this.upgradeIfSecondaryHealthy_():n===Ly?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===My&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qs("t",e),i=Qs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:By,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Fy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qs("t",e),i=Qs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qs(Bd,e);if(Oy in e){const i=e[Oy];if(n===yx){const o={...i};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Uy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mx?this.onConnectionShutdown_(i):n===Ly?this.onReset_(i):n===gx?hf("Server Error: "+i):n===My?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),th!==i&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),so(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):so(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:By,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yw{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}class vw{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class ba extends vw{static getInstance(){return new ba}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Wy=32,$y=768;class De{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new De("")}function fe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rr(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function _w(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _x(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ww(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ew(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function et(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof De)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new De(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){const n=fe(t),i=fe(e);if(n===null)return e;if(n===i)return bt(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ih(t,e){if(Rr(t)!==Rr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function hn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Rr(t)>Rr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class wx{constructor(e,n){this.errorPrefix_=n,this.parts_=ww(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=lu(this.parts_[i]);Cw(this)}}function Ex(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lu(e),Cw(t)}function Cx(t){const e=t.parts_.pop();t.byteLength_-=lu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Cw(t){if(t.byteLength_>$y)throw new Error(t.errorPrefix_+"has a key path longer than "+$y+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wy+") or object contains a cycle "+Kr(t))}function Kr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class sh extends vw{static getInstance(){return new sh}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}const Js=1e3,Sx=300*1e3,zy=30*1e3,Ix=1.3,Tx=3e4,bx="server_kill",Hy=3;class Hn extends yw{constructor(e,n,i,o,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=Hn.nextPersistentConnectionId_++,this.log_=Uo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Js,this.maxReconnectDelay_=Sx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ba.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Ze(l)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new ou,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,p=d.s;Hn.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Yn(e,"w")){const i=$i(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hb(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hf("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Tx&&(this.reconnectDelay_=Js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ix)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Hn.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,i())},p=function(g){z(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(g)};this.realtime_={close:f,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,d=new vx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,w=>{Mt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(bx)},l))}catch(g){this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&Mt(g),f())}}}interrupt(e){wt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lf(this.interruptReasons_)&&(this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>eh(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new De(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){wt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=zy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Y_.replace(/\./g,"-")]=1,Yf()?e["framework.cordova"]=1:z_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ba.getInstance().currentlyOnline();return lf(this.interruptReasons_)&&e}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}class uu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new he(zi,e),o=new he(zi,n);return this.compare(i,o)!==0}minPost(){return he.MIN}}let ia;class Sw extends uu{static get __EMPTY_NODE(){return ia}static set __EMPTY_NODE(e){ia=e}compare(e,n){return ts(e.name,n.name)}isDefinedOn(e){throw Xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(ni,ia)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,ia)}toString(){return".key"}}const Fi=new Sw;class sa{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??st.RED,this.left=o??Ot.EMPTY_NODE,this.right=l??Ot.EMPTY_NODE}copy(e,n,i,o,l){return new st(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class Rx{copy(e,n,i,o,l){return this}insert(e,n,i){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(e,n=Ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sa(this.root_,null,this.comparator_,!0,e)}}Ot.EMPTY_NODE=new Rx;function xx(t,e){return ts(t.name,e.name)}function oh(t,e){return ts(t,e)}let mf;function kx(t){mf=t}const Iw=function(t){return typeof t=="number"?"number:"+ew(t):"string:"+t},Tw=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yn(e,".sv"),"Priority must be a string or number.")}else z(t===mf||t.isEmpty(),"priority of unexpected type.");z(t===mf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Vy;class it{static set __childrenNodeConstructor(e){Vy=e}static get __childrenNodeConstructor(){return Vy}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:fe(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=fe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||Rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Iw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ew(this.value_):e+=this.value_,this.lazyHash_=J_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=it.VALUE_TYPE_ORDER.indexOf(n),l=it.VALUE_TYPE_ORDER.indexOf(i);return z(o>=0,"Unknown leaf type: "+n),z(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];let bw,Rw;function Px(t){bw=t}function Nx(t){Rw=t}class Dx extends uu{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?ts(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(ni,new it("[PRIORITY-POST]",Rw))}makePost(e,n){const i=bw(e);return new he(n,new it("[PRIORITY-POST]",i))}toString(){return".priority"}}const je=new Dx;const Ax=Math.log(2);class Ox{constructor(e){const n=l=>parseInt(Math.log(l)/Ax,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ra=function(t,e,n,i){t.sort(e);const o=function(f,p){const v=p-f;let g,y;if(v===0)return null;if(v===1)return g=t[f],y=n?n(g):g,new st(y,g.node,st.BLACK,null,null);{const w=parseInt(v/2,10)+f,E=o(f,w),b=o(w+1,p);return g=t[w],y=n?n(g):g,new st(y,g.node,st.BLACK,E,b)}},l=function(f){let p=null,v=null,g=t.length;const y=function(E,b){const S=g-E,N=g;g-=E;const A=o(S+1,N),O=t[S],L=n?n(O):O;w(new st(L,O.node,b,null,A))},w=function(E){p?(p.left=E,p=E):(v=E,p=E)};for(let E=0;E<f.count;++E){const b=f.nextBitIsOne(),S=Math.pow(2,f.count-(E+1));b?y(S,st.BLACK):(y(S,st.BLACK),y(S,st.RED))}return v},u=new Ox(t.length),d=l(u);return new Ot(i||e,d)};let Wd;const Oi={};class Bn{static get Default(){return z(Oi&&je,"ChildrenNode.ts has not been loaded"),Wd=Wd||new Bn({".priority":Oi},{".priority":je}),Wd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=$i(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ot?n:null}hasIndex(e){return Yn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(he.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Ra(i,e.getCompare()):d=Oi;const f=e.toString(),p={...this.indexSet_};p[f]=e;const v={...this.indexes_};return v[f]=d,new Bn(v,p)}addToIndexes(e,n){const i=Sa(this.indexes_,(o,l)=>{const u=$i(this.indexSet_,l);if(z(u,"Missing index implementation for "+l),o===Oi)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(he.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),Ra(d,u.getCompare())}else return Oi;else{const d=n.get(e.name);let f=o;return d&&(f=f.remove(new he(e.name,d))),f.insert(e,e.node)}});return new Bn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Sa(this.indexes_,o=>{if(o===Oi)return o;{const l=n.get(e.name);return l?o.remove(new he(e.name,l)):o}});return new Bn(i,this.indexSet_)}}let Xs;class se{static get EMPTY_NODE(){return Xs||(Xs=new se(new Ot(oh),null,Bn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Tw(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xs}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xs:n}}getChild(e){const n=fe(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new he(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?Xs:this.priorityNode_;return new se(o,u,l)}}updateChild(e,n){const i=fe(e);if(i===null)return n;{z(fe(e)!==".priority"||Rr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Oe(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(je,(u,d)=>{n[u]=d.val(e),i++,l&&se.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Iw(this.getPriority().val())+":"),this.forEachChild(je,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":J_(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new he(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,he.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bo?-1:0}withIndex(e){if(e===Fi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(je),o=n.getIterator(je);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Fi?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Lx extends se{constructor(){super(new Ot(oh),se.EMPTY_NODE,Bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Bo=new Lx;Object.defineProperties(he,{MIN:{value:new he(zi,se.EMPTY_NODE)},MAX:{value:new he(ni,Bo)}});Sw.__EMPTY_NODE=se.EMPTY_NODE;it.__childrenNodeConstructor=se;kx(Bo);Nx(Bo);const Mx=!0;function ot(t,e=null){if(t===null)return se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,ot(e))}if(!(t instanceof Array)&&Mx){const n=[];let i=!1;if(Ft(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=ot(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new he(u,f)))}}),n.length===0)return se.EMPTY_NODE;const l=Ra(n,xx,u=>u.name,oh);if(i){const u=Ra(n,je.getCompare());return new se(l,ot(e),new Bn({".priority":u},{".priority":je}))}else return new se(l,ot(e),Bn.Default)}else{let n=se.EMPTY_NODE;return Ft(t,(i,o)=>{if(Yn(t,i)&&i.substring(0,1)!=="."){const l=ot(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(ot(e))}}Px(ot);class Fx extends uu{constructor(e){super(),this.indexPath_=e,z(!pe(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?ts(e.name,n.name):l}makePost(e,n){const i=ot(e),o=se.EMPTY_NODE.updateChild(this.indexPath_,i);return new he(n,o)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Bo);return new he(ni,e)}toString(){return ww(this.indexPath_,0).join("/")}}class Ux extends uu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ts(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const i=ot(e);return new he(n,i)}toString(){return".value"}}const Bx=new Ux;function xw(t){return{type:"value",snapshotNode:t}}function Hi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Wx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class lh{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(yo(n,d)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Hi(n,i)):u.trackChildChange(vo(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(je,(o,l)=>{n.hasChild(o)||i.trackChildChange(yo(o,l))}),n.isLeafNode()||n.forEachChild(je,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(vo(o,l,u))}else i.trackChildChange(Hi(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _o{constructor(e){this.indexedFilter_=new lh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_o.getStartPost_(e),this.endPost_=_o.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new he(n,i))||(i=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=se.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(se.EMPTY_NODE);const l=this;return n.forEachChild(je,(u,d)=>{l.matches(new he(u,d))||(o=o.updateImmediateChild(u,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class $x{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new _o(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new he(n,i))||(i=se.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=se.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(se.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const g=this.index_.getCompare();u=(y,w)=>g(w,y)}else u=this.index_.getCompare();const d=e;z(d.numChildren()===this.limit_,"");const f=new he(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(d.hasChild(n)){const g=d.getImmediateChild(n);let y=o.getChildAfterChild(this.index_,p,this.reverse_);for(;y!=null&&(y.name===n||d.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:u(y,f);if(v&&!i.isEmpty()&&w>=0)return l?.trackChildChange(vo(n,i,g)),d.updateImmediateChild(n,i);{l?.trackChildChange(yo(n,g));const b=d.updateImmediateChild(n,se.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l?.trackChildChange(Hi(y.name,y.node)),b.updateImmediateChild(y.name,y.node)):b}}else return i.isEmpty()?e:v&&u(p,f)>=0?(l!=null&&(l.trackChildChange(yo(p.name,p.node)),l.trackChildChange(Hi(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,se.EMPTY_NODE)):e}}class ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zi}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new ah;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zx(t){return t.loadsAllData()?new lh(t.getIndex()):t.hasLimit()?new $x(t):new _o(t)}function jy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===Bx?n="$value":t.index_===Fi?n="$key":(z(t.index_ instanceof Fx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ze(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ze(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ze(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Gy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}class xa extends yw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Uo("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=xa.getListenId_(e,i),d={};this.listens_[u]=d;const f=jy(e._queryParams);this.restRequest_(l+".json",f,(p,v)=>{let g=v;if(p===404&&(g=null,p=null),p===null&&this.onDataUpdate_(l,g,!1,i),$i(this.listens_,u)===d){let y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})}unlisten(e,n){const i=xa.getListenId_(e,n);delete this.listens_[i]}get(e){const n=jy(e._queryParams),i=e._path.toString(),o=new ou;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zi(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=po(d.responseText)}catch{Mt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,f)}else d.status!==401&&d.status!==404&&Mt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}class Hx{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function ka(){return{value:null,children:new Map}}function kw(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=fe(e);t.children.has(i)||t.children.set(i,ka());const o=t.children.get(i);e=Oe(e),kw(o,e,n)}}function gf(t,e,n){t.value!==null?n(e,t.value):Vx(t,(i,o)=>{const l=new De(e.toString()+"/"+i);gf(o,l,n)})}function Vx(t,e){t.children.forEach((n,i)=>{e(i,n)})}class jx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ft(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}const qy=10*1e3,Gx=30*1e3,qx=300*1e3;class Kx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jx(e);const i=qy+(Gx-qy)*Math.random();so(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ft(e,(o,l)=>{l>0&&Yn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),so(this.reportStats_.bind(this),Math.floor(Math.random()*2*qx))}}var pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function Pw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ch(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Pa{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pn.ACK_USER_WRITE,this.source=Pw()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(e));return new Pa(Ce(),n,this.revert)}}else return z(fe(this.path)===e,"operationForChild called for unrelated child."),new Pa(Oe(this.path),this.affectedTree,this.revert)}}class wo{constructor(e,n){this.source=e,this.path=n,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new wo(this.source,Ce()):new wo(this.source,Oe(this.path))}}class ri{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pn.OVERWRITE}operationForChild(e){return pe(this.path)?new ri(this.source,Ce(),this.snap.getImmediateChild(e)):new ri(this.source,Oe(this.path),this.snap)}}class Eo{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pn.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new ri(this.source,Ce(),n.value):new Eo(this.source,Ce(),n)}else return z(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Eo(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=fe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Yx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qx(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(Wx(u.childName,u.snapshotNode))}),Zs(t,o,"child_removed",e,i,n),Zs(t,o,"child_added",e,i,n),Zs(t,o,"child_moved",l,i,n),Zs(t,o,"child_changed",e,i,n),Zs(t,o,"value",e,i,n),o}function Zs(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,f)=>Xx(t,d,f)),u.forEach(d=>{const f=Jx(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,t.query_))})})}function Jx(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Xx(t,e,n){if(e.childName==null||n.childName==null)throw Xi("Should only compare child_ events.");const i=new he(e.childName,e.snapshotNode),o=new he(n.childName,n.snapshotNode);return t.index_.compare(i,o)}function cu(t,e){return{eventCache:t,serverCache:e}}function oo(t,e,n,i){return cu(new xr(e,n,i),t.serverCache)}function Nw(t,e,n,i){return cu(t.eventCache,new xr(e,n,i))}function Na(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ii(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let $d;const Zx=()=>($d||($d=new Ot(UR)),$d);class Fe{static fromObject(e){let n=new Fe(null);return Ft(e,(i,o)=>{n=n.set(new De(i),o)}),n}constructor(e,n=Zx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(pe(e))return null;{const i=fe(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Oe(e),n);return l!=null?{path:et(new De(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=fe(e),i=this.children.get(n);return i!==null?i.subtree(Oe(e)):new Fe(null)}}set(e,n){if(pe(e))return new Fe(n,this.children);{const i=fe(e),l=(this.children.get(i)||new Fe(null)).set(Oe(e),n),u=this.children.insert(i,l);return new Fe(this.value,u)}}remove(e){if(pe(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=fe(e),i=this.children.get(n);if(i){const o=i.remove(Oe(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Fe(null):new Fe(this.value,l)}else return this}}get(e){if(pe(e))return this.value;{const n=fe(e),i=this.children.get(n);return i?i.get(Oe(e)):null}}setTree(e,n){if(pe(e))return n;{const i=fe(e),l=(this.children.get(i)||new Fe(null)).setTree(Oe(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Fe(this.value,u)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(et(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(pe(e))return null;{const l=fe(e),u=this.children.get(l);return u?u.findOnPath_(Oe(e),et(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,i){if(pe(e))return this;{this.value&&i(n,this.value);const o=fe(e),l=this.children.get(o);return l?l.foreachOnPath_(Oe(e),et(n,o),i):new Fe(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(et(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new Fe(null))}}function lo(t,e,n){if(pe(e))return new yn(new Fe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=bt(o,e);return l=l.updateChild(u,n),new yn(t.writeTree_.set(o,l))}else{const o=new Fe(n),l=t.writeTree_.setTree(e,o);return new yn(l)}}}function Ky(t,e,n){let i=t;return Ft(n,(o,l)=>{i=lo(i,et(e,o),l)}),i}function Yy(t,e){if(pe(e))return yn.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new yn(n)}}function yf(t,e){return ai(t,e)!=null}function ai(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function Qy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(i,o)=>{e.push(new he(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new he(i,o.value))}),e}function Cr(t,e){if(pe(e))return t;{const n=ai(t,e);return n!=null?new yn(new Fe(n)):new yn(t.writeTree_.subtree(e))}}function vf(t){return t.writeTree_.isEmpty()}function Vi(t,e){return Dw(Ce(),t.writeTree_,e)}function Dw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(z(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=Dw(et(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(et(t,".priority"),i)),n}}function du(t,e){return Mw(e,t)}function ek(t,e,n,i,o){z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=lo(t.visibleWrites,e,n)),t.lastWriteId=i}function tk(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function nk(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&rk(d,i.path)?o=!1:hn(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return ik(t),!0;if(i.snap)t.visibleWrites=Yy(t.visibleWrites,i.path);else{const d=i.children;Ft(d,f=>{t.visibleWrites=Yy(t.visibleWrites,et(i.path,f))})}return!0}else return!1}function rk(t,e){if(t.snap)return hn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hn(et(t.path,n),e))return!0;return!1}function ik(t){t.visibleWrites=Aw(t.allWrites,sk,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function sk(t){return t.visible}function Aw(t,e,n){let i=yn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)hn(n,u)?(d=bt(n,u),i=lo(i,d,l.snap)):hn(u,n)&&(d=bt(u,n),i=lo(i,Ce(),l.snap.getChild(d)));else if(l.children){if(hn(n,u))d=bt(n,u),i=Ky(i,d,l.children);else if(hn(u,n))if(d=bt(u,n),pe(d))i=Ky(i,Ce(),l.children);else{const f=$i(l.children,fe(d));if(f){const p=f.getChild(Oe(d));i=lo(i,Ce(),p)}}}else throw Xi("WriteRecord should have .snap or .children")}}return i}function Ow(t,e,n,i,o){if(!i&&!o){const l=ai(t.visibleWrites,e);if(l!=null)return l;{const u=Cr(t.visibleWrites,e);if(vf(u))return n;if(n==null&&!yf(u,Ce()))return null;{const d=n||se.EMPTY_NODE;return Vi(u,d)}}}else{const l=Cr(t.visibleWrites,e);if(!o&&vf(l))return n;if(!o&&n==null&&!yf(l,Ce()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(hn(p.path,e)||hn(e,p.path))},d=Aw(t.allWrites,u,e),f=n||se.EMPTY_NODE;return Vi(d,f)}}}function ok(t,e,n){let i=se.EMPTY_NODE;const o=ai(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(je,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Cr(t.visibleWrites,e);return n.forEachChild(je,(u,d)=>{const f=Vi(Cr(l,new De(u)),d);i=i.updateImmediateChild(u,f)}),Qy(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Cr(t.visibleWrites,e);return Qy(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function lk(t,e,n,i,o){z(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=et(e,n);if(yf(t.visibleWrites,l))return null;{const u=Cr(t.visibleWrites,l);return vf(u)?o.getChild(n):Vi(u,o.getChild(n))}}function ak(t,e,n,i){const o=et(e,n),l=ai(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Cr(t.visibleWrites,o);return Vi(u,i.getNode().getImmediateChild(n))}else return null}function uk(t,e){return ai(t.visibleWrites,e)}function ck(t,e,n,i,o,l,u){let d;const f=Cr(t.visibleWrites,e),p=ai(f,Ce());if(p!=null)d=p;else if(n!=null)d=Vi(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const v=[],g=u.getCompare(),y=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let w=y.getNext();for(;w&&v.length<o;)g(w,i)!==0&&v.push(w),w=y.getNext();return v}else return[]}function dk(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function Da(t,e,n,i){return Ow(t.writeTree,t.treePath,e,n,i)}function dh(t,e){return ok(t.writeTree,t.treePath,e)}function Jy(t,e,n,i){return lk(t.writeTree,t.treePath,e,n,i)}function Aa(t,e){return uk(t.writeTree,et(t.treePath,e))}function fk(t,e,n,i,o,l){return ck(t.writeTree,t.treePath,e,n,i,o,l)}function fh(t,e,n){return ak(t.writeTree,t.treePath,e,n)}function Lw(t,e){return Mw(et(t.treePath,e),t.writeTree)}function Mw(t,e){return{treePath:t,writeTree:e}}class hk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,vo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,yo(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Hi(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,vo(i,e.snapshotNode,o.oldSnap));else throw Xi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class pk{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Fw=new pk;class hh{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fh(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ii(this.viewCache_),l=fk(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}function mk(t){return{filter:t}}function gk(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yk(t,e,n,i,o){const l=new hk;let u,d;if(n.type===pn.OVERWRITE){const p=n;p.source.fromUser?u=_f(t,e,p.path,p.snap,i,o,l):(z(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),u=Oa(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===pn.MERGE){const p=n;p.source.fromUser?u=_k(t,e,p.path,p.children,i,o,l):(z(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),u=wf(t,e,p.path,p.children,i,o,d,l))}else if(n.type===pn.ACK_USER_WRITE){const p=n;p.revert?u=Ck(t,e,p.path,i,o,l):u=wk(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===pn.LISTEN_COMPLETE)u=Ek(t,e,n.path,i,l);else throw Xi("Unknown operation type: "+n.type);const f=l.getChanges();return vk(e,u,f),{viewCache:u,changes:f}}function vk(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Na(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(xw(Na(e)))}}function Uw(t,e,n,i,o,l){const u=e.eventCache;if(Aa(i,n)!=null)return e;{let d,f;if(pe(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ii(e),v=p instanceof se?p:se.EMPTY_NODE,g=dh(i,v);d=t.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const p=Da(i,ii(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=fe(n);if(p===".priority"){z(Rr(n)===1,"Can't have a priority with additional path components");const v=u.getNode();f=e.serverCache.getNode();const g=Jy(i,n,v,f);g!=null?d=t.filter.updatePriority(v,g):d=u.getNode()}else{const v=Oe(n);let g;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const y=Jy(i,n,u.getNode(),f);y!=null?g=u.getNode().getImmediateChild(p).updateChild(v,y):g=u.getNode().getImmediateChild(p)}else g=fh(i,p,e.serverCache);g!=null?d=t.filter.updateChild(u.getNode(),p,g,v,o,l):d=u.getNode()}}return oo(e,d,u.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function Oa(t,e,n,i,o,l,u,d){const f=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(pe(n))p=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(n,i);p=v.updateFullNode(f.getNode(),w,null)}else{const w=fe(n);if(!f.isCompleteForPath(n)&&Rr(n)>1)return e;const E=Oe(n),S=f.getNode().getImmediateChild(w).updateChild(E,i);w===".priority"?p=v.updatePriority(f.getNode(),S):p=v.updateChild(f.getNode(),w,S,E,Fw,null)}const g=Nw(e,p,f.isFullyInitialized()||pe(n),v.filtersNodes()),y=new hh(o,g,l);return Uw(t,g,n,o,y,d)}function _f(t,e,n,i,o,l,u){const d=e.eventCache;let f,p;const v=new hh(o,e,l);if(pe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),f=oo(e,p,!0,t.filter.filtersNodes());else{const g=fe(n);if(g===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=oo(e,p,d.isFullyInitialized(),d.isFiltered());else{const y=Oe(n),w=d.getNode().getImmediateChild(g);let E;if(pe(y))E=i;else{const b=v.getCompleteChild(g);b!=null?_w(y)===".priority"&&b.getChild(Ew(y)).isEmpty()?E=b:E=b.updateChild(y,i):E=se.EMPTY_NODE}if(w.equals(E))f=e;else{const b=t.filter.updateChild(d.getNode(),g,E,y,v,u);f=oo(e,b,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function Xy(t,e){return t.eventCache.isCompleteForChild(e)}function _k(t,e,n,i,o,l,u){let d=e;return i.foreach((f,p)=>{const v=et(n,f);Xy(e,fe(v))&&(d=_f(t,d,v,p,o,l,u))}),i.foreach((f,p)=>{const v=et(n,f);Xy(e,fe(v))||(d=_f(t,d,v,p,o,l,u))}),d}function Zy(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function wf(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;pe(n)?p=i:p=new Fe(null).setTree(n,i);const v=e.serverCache.getNode();return p.children.inorderTraversal((g,y)=>{if(v.hasChild(g)){const w=e.serverCache.getNode().getImmediateChild(g),E=Zy(t,w,y);f=Oa(t,f,new De(g),E,o,l,u,d)}}),p.children.inorderTraversal((g,y)=>{const w=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!v.hasChild(g)&&!w){const E=e.serverCache.getNode().getImmediateChild(g),b=Zy(t,E,y);f=Oa(t,f,new De(g),b,o,l,u,d)}}),f}function wk(t,e,n,i,o,l,u){if(Aa(o,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(pe(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Oa(t,e,n,f.getNode().getChild(n),o,l,d,u);if(pe(n)){let p=new Fe(null);return f.getNode().forEachChild(Fi,(v,g)=>{p=p.set(new De(v),g)}),wf(t,e,n,p,o,l,d,u)}else return e}else{let p=new Fe(null);return i.foreach((v,g)=>{const y=et(n,v);f.isCompleteForPath(y)&&(p=p.set(v,f.getNode().getChild(y)))}),wf(t,e,n,p,o,l,d,u)}}function Ek(t,e,n,i,o){const l=e.serverCache,u=Nw(e,l.getNode(),l.isFullyInitialized()||pe(n),l.isFiltered());return Uw(t,u,n,i,Fw,o)}function Ck(t,e,n,i,o,l){let u;if(Aa(i,n)!=null)return e;{const d=new hh(i,e,o),f=e.eventCache.getNode();let p;if(pe(n)||fe(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Da(i,ii(e));else{const g=e.serverCache.getNode();z(g instanceof se,"serverChildren would be complete if leaf node"),v=dh(i,g)}v=v,p=t.filter.updateFullNode(f,v,l)}else{const v=fe(n);let g=fh(i,v,e.serverCache);g==null&&e.serverCache.isCompleteForChild(v)&&(g=f.getImmediateChild(v)),g!=null?p=t.filter.updateChild(f,v,g,Oe(n),d,l):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(f,v,se.EMPTY_NODE,Oe(n),d,l):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Da(i,ii(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||Aa(i,Ce())!=null,oo(e,p,u,t.filter.filtersNodes())}}class Sk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new lh(i.getIndex()),l=zx(i);this.processor_=mk(l);const u=n.serverCache,d=n.eventCache,f=o.updateFullNode(se.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(se.EMPTY_NODE,d.getNode(),null),v=new xr(f,u.isFullyInitialized(),o.filtersNodes()),g=new xr(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=cu(g,v),this.eventGenerator_=new Yx(this.query_)}get query(){return this.query_}}function Ik(t){return t.viewCache_.serverCache.getNode()}function Tk(t){return Na(t.viewCache_)}function bk(t,e){const n=ii(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(fe(e)).isEmpty())?n.getChild(e):null}function ev(t){return t.eventRegistrations_.length===0}function Rk(t,e){t.eventRegistrations_.push(e)}function tv(t,e,n){const i=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function nv(t,e,n,i){e.type===pn.MERGE&&e.source.queryId!==null&&(z(ii(t.viewCache_),"We should always have a full cache before handling merges"),z(Na(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=yk(t.processor_,o,e,n,i);return gk(t.processor_,l.viewCache),z(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,Bw(t,l.changes,l.viewCache.eventCache.getNode(),null)}function xk(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(l,u)=>{i.push(Hi(l,u))}),n.isFullyInitialized()&&i.push(xw(n.getNode())),Bw(t,i,n.getNode(),e)}function Bw(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return Qx(t.eventGenerator_,e,n,o)}let La;class Ww{constructor(){this.views=new Map}}function kk(t){z(!La,"__referenceConstructor has already been defined"),La=t}function Pk(){return z(La,"Reference.ts has not been loaded"),La}function Nk(t){return t.views.size===0}function ph(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return z(l!=null,"SyncTree gave us an op for an invalid query."),nv(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(nv(u,e,n,i));return l}}function $w(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=Da(n,o?i:null),f=!1;d?f=!0:i instanceof se?(d=dh(n,i),f=!1):(d=se.EMPTY_NODE,f=!1);const p=cu(new xr(d,f,!1),new xr(i,o,!1));return new Sk(e,p)}return u}function Dk(t,e,n,i,o,l){const u=$w(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),Rk(u,n),xk(u,n)}function Ak(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=kr(t);if(o==="default")for(const[f,p]of t.views.entries())u=u.concat(tv(p,n,i)),ev(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||l.push(p.query));else{const f=t.views.get(o);f&&(u=u.concat(tv(f,n,i)),ev(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!kr(t)&&l.push(new(Pk())(e._repo,e._path)),{removed:l,events:u}}function zw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Sr(t,e){let n=null;for(const i of t.views.values())n=n||bk(i,e);return n}function Hw(t,e){if(e._queryParams.loadsAllData())return fu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Vw(t,e){return Hw(t,e)!=null}function kr(t){return fu(t)!=null}function fu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Ma;function Ok(t){z(!Ma,"__referenceConstructor has already been defined"),Ma=t}function Lk(){return z(Ma,"Reference.ts has not been loaded"),Ma}let Mk=1;class rv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=dk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jw(t,e,n,i,o){return ek(t.pendingWriteTree_,e,n,i,o),o?$o(t,new ri(Pw(),e,n)):[]}function Jr(t,e,n=!1){const i=tk(t.pendingWriteTree_,e);if(nk(t.pendingWriteTree_,e)){let l=new Fe(null);return i.snap!=null?l=l.set(Ce(),!0):Ft(i.children,u=>{l=l.set(new De(u),!0)}),$o(t,new Pa(i.path,l,n))}else return[]}function Wo(t,e,n){return $o(t,new ri(uh(),e,n))}function Fk(t,e,n){const i=Fe.fromObject(n);return $o(t,new Eo(uh(),e,i))}function Uk(t,e){return $o(t,new wo(uh(),e))}function Bk(t,e,n){const i=gh(t,n);if(i){const o=yh(i),l=o.path,u=o.queryId,d=bt(l,e),f=new wo(ch(u),d);return vh(t,l,f)}else return[]}function Fa(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||Vw(u,e))){const f=Ak(u,e,n,i);Nk(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=f.removed;if(d=f.events,!o){const v=p.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(l,(y,w)=>kr(w));if(v&&!g){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const w=zk(y);for(let E=0;E<w.length;++E){const b=w[E],S=b.query,N=Yw(t,b);t.listenProvider_.startListening(ao(S),Co(t,S),N.hashFn,N.onComplete)}}}!g&&p.length>0&&!i&&(v?t.listenProvider_.stopListening(ao(e),null):p.forEach(y=>{const w=t.queryToTagMap.get(hu(y));t.listenProvider_.stopListening(ao(y),w)}))}Hk(t,p)}return d}function Gw(t,e,n,i){const o=gh(t,i);if(o!=null){const l=yh(o),u=l.path,d=l.queryId,f=bt(u,e),p=new ri(ch(d),f,n);return vh(t,u,p)}else return[]}function Wk(t,e,n,i){const o=gh(t,i);if(o){const l=yh(o),u=l.path,d=l.queryId,f=bt(u,e),p=Fe.fromObject(n),v=new Eo(ch(d),f,p);return vh(t,u,v)}else return[]}function Ef(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(y,w)=>{const E=bt(y,o);l=l||Sr(w,E),u=u||kr(w)});let d=t.syncPointTree_.get(o);d?(u=u||kr(d),l=l||Sr(d,Ce())):(d=new Ww,t.syncPointTree_=t.syncPointTree_.set(o,d));let f;l!=null?f=!0:(f=!1,l=se.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((w,E)=>{const b=Sr(E,Ce());b&&(l=l.updateImmediateChild(w,b))}));const p=Vw(d,e);if(!p&&!e._queryParams.loadsAllData()){const y=hu(e);z(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=Vk();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const v=du(t.pendingWriteTree_,o);let g=Dk(d,e,n,v,l,f);if(!p&&!u&&!i){const y=Hw(d,e);g=g.concat(jk(t,e,y))}return g}function mh(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=bt(u,e),p=Sr(d,f);if(p)return p});return Ow(o,e,l,n,!0)}function $k(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(p,v)=>{const g=bt(p,n);i=i||Sr(v,g)});let o=t.syncPointTree_.get(n);o?i=i||Sr(o,Ce()):(o=new Ww,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=i!=null,u=l?new xr(i,!0,!1):null,d=du(t.pendingWriteTree_,e._path),f=$w(o,e,d,l?u.getNode():se.EMPTY_NODE,l);return Tk(f)}function $o(t,e){return qw(e,t.syncPointTree_,null,du(t.pendingWriteTree_,Ce()))}function qw(t,e,n,i){if(pe(t.path))return Kw(t,e,n,i);{const o=e.get(Ce());n==null&&o!=null&&(n=Sr(o,Ce()));let l=[];const u=fe(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const p=n?n.getImmediateChild(u):null,v=Lw(i,u);l=l.concat(qw(d,f,p,v))}return o&&(l=l.concat(ph(o,t,i,n))),l}}function Kw(t,e,n,i){const o=e.get(Ce());n==null&&o!=null&&(n=Sr(o,Ce()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,p=Lw(i,u),v=t.operationForChild(u);v&&(l=l.concat(Kw(v,d,f,p)))}),o&&(l=l.concat(ph(o,t,i,n))),l}function Yw(t,e){const n=e.query,i=Co(t,n);return{hashFn:()=>(Ik(e)||se.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?Bk(t,n._path,i):Uk(t,n._path);{const l=$R(o,n);return Fa(t,n,null,l)}}}}function Co(t,e){const n=hu(e);return t.queryToTagMap.get(n)}function hu(t){return t._path.toString()+"$"+t._queryIdentifier}function gh(t,e){return t.tagToQueryMap.get(e)}function yh(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function vh(t,e,n){const i=t.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const o=du(t.pendingWriteTree_,e);return ph(i,n,o,null)}function zk(t){return t.fold((e,n,i)=>{if(n&&kr(n))return[fu(n)];{let o=[];return n&&(o=zw(n)),Ft(i,(l,u)=>{o=o.concat(u)}),o}})}function ao(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Lk())(t._repo,t._path):t}function Hk(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=hu(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function Vk(){return Mk++}function jk(t,e,n){const i=e._path,o=Co(t,e),l=Yw(t,n),u=t.listenProvider_.startListening(ao(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)z(!kr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((p,v,g)=>{if(!pe(p)&&v&&kr(v))return[fu(v).query];{let y=[];return v&&(y=y.concat(zw(v).map(w=>w.query))),Ft(g,(w,E)=>{y=y.concat(E)}),y}});for(let p=0;p<f.length;++p){const v=f[p];t.listenProvider_.stopListening(ao(v),Co(t,v))}}return u}class _h{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _h(n)}node(){return this.node_}}class wh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=et(this.path_,e);return new wh(this.syncTree_,n)}node(){return mh(this.syncTree_,this.path_)}}const Gk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iv=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Kk(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qk=function(t,e,n){if(t==="timestamp")return n.timestamp;z(!1,"Unexpected server value: "+t)},Kk=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const o=e.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},Yk=function(t,e,n,i){return Eh(e,new wh(n,t),i)},Qw=function(t,e,n){return Eh(t,new _h(e),n)};function Eh(t,e,n){const i=t.getPriority().val(),o=iv(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=iv(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new it(d,ot(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new it(o))),u.forEachChild(je,(d,f)=>{const p=Eh(f,e.getImmediateChild(d),n);p!==f&&(l=l.updateImmediateChild(d,p))}),l}}class Ch{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Sh(t,e){let n=e instanceof De?e:new De(e),i=t,o=fe(n);for(;o!==null;){const l=$i(i.node.children,o)||{children:{},childCount:0};i=new Ch(o,i,l),n=Oe(n),o=fe(n)}return i}function rs(t){return t.node.value}function Jw(t,e){t.node.value=e,Cf(t)}function Xw(t){return t.node.childCount>0}function Qk(t){return rs(t)===void 0&&!Xw(t)}function pu(t,e){Ft(t.node.children,(n,i)=>{e(new Ch(n,t,i))})}function Zw(t,e,n,i){n&&e(t),pu(t,o=>{Zw(o,e,!0)})}function Jk(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function zo(t){return new De(t.parent===null?t.name:zo(t.parent)+"/"+t.name)}function Cf(t){t.parent!==null&&Xk(t.parent,t.name,t)}function Xk(t,e,n){const i=Qk(n),o=Yn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Cf(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Cf(t))}const Zk=/[\[\].#$\/\u0000-\u001F\u007F]/,eP=/[\[\].#$\u0000-\u001F\u007F]/,zd=10*1024*1024,eE=function(t){return typeof t=="string"&&t.length!==0&&!Zk.test(t)},tE=function(t){return typeof t=="string"&&t.length!==0&&!eP.test(t)},tP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tE(t)},nE=function(t,e,n,i){i&&e===void 0||Ih(Qf(t,"value"),e,n)},Ih=function(t,e,n){const i=n instanceof De?new wx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kr(i));if(typeof e=="function")throw new Error(t+"contains a function "+Kr(i)+" with contents = "+e.toString());if(X_(e))throw new Error(t+"contains "+e.toString()+" "+Kr(i));if(typeof e=="string"&&e.length>zd/3&&lu(e)>zd)throw new Error(t+"contains a string greater than "+zd+" utf8 bytes "+Kr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(Ft(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!eE(u)))throw new Error(t+" contains an invalid key ("+u+") "+Kr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ex(i,u),Ih(t,d,i),Cx(i)}),o&&l)throw new Error(t+' contains ".value" child '+Kr(i)+" in addition to actual children.")}},rE=function(t,e,n,i){if(!tE(n))throw new Error(Qf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rE(t,e,n)},iE=function(t,e){if(fe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tP(n))throw new Error(Qf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class iP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Th(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!ih(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function sE(t,e,n){Th(t,n),oE(t,i=>ih(i,e))}function xn(t,e,n){Th(t,n),oE(t,i=>hn(i,e)||hn(e,i))}function oE(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(sP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();io&&wt("event: "+n.toString()),ns(i)}}}const oP="repo_interrupt",lP=25;class aP{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ka(),this.transactionQueueTree_=new Ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uP(t,e,n){if(t.stats_=nh(t.repoInfo_),t.forceRestClient_||jR())t.server_=new xa(t.repoInfo_,(i,o,l,u)=>{sv(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ov(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Hn(t.repoInfo_,e,(i,o,l,u)=>{sv(t,i,o,l,u)},i=>{ov(t,i)},i=>{cP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=QR(t.repoInfo_,()=>new Kx(t.stats_,t.server_)),t.infoData_=new Hx,t.infoSyncTree_=new rv({startListening:(i,o,l,u)=>{let d=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(d=Wo(t.infoSyncTree_,i._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Rh(t,"connected",!1),t.serverSyncTree_=new rv({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,f)=>{const p=u(d,f);xn(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function lE(t){const n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bh(t){return Gk({timestamp:lE(t)})}function sv(t,e,n,i,o){t.dataUpdateCount++;const l=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const f=Sa(n,p=>ot(p));u=Wk(t.serverSyncTree_,l,f,o)}else{const f=ot(n);u=Gw(t.serverSyncTree_,l,f,o)}else if(i){const f=Sa(n,p=>ot(p));u=Fk(t.serverSyncTree_,l,f)}else{const f=ot(n);u=Wo(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=gu(t,l)),xn(t.eventQueue_,d,u)}function ov(t,e){Rh(t,"connected",e),e===!1&&hP(t)}function cP(t,e){Ft(e,(n,i)=>{Rh(t,n,i)})}function Rh(t,e,n){const i=new De("/.info/"+e),o=ot(n);t.infoData_.updateSnapshot(i,o);const l=Wo(t.infoSyncTree_,i,o);xn(t.eventQueue_,i,l)}function aE(t){return t.nextWriteId_++}function dP(t,e,n){const i=$k(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const l=ot(o).withIndex(e._queryParams.getIndex());Ef(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=Wo(t.serverSyncTree_,e._path,l);else{const d=Co(t.serverSyncTree_,e);u=Gw(t.serverSyncTree_,e._path,l,d)}return xn(t.eventQueue_,e._path,u),Fa(t.serverSyncTree_,e,n,null,!0),l},o=>(mu(t,"get for query "+Ze(e)+" failed: "+o),Promise.reject(new Error(o))))}function fP(t,e,n,i,o){mu(t,"set",{path:e.toString(),value:n,priority:i});const l=bh(t),u=ot(n,i),d=mh(t.serverSyncTree_,e),f=Qw(u,d,l),p=aE(t),v=jw(t.serverSyncTree_,e,f,p,!0);Th(t.eventQueue_,v),t.server_.put(e.toString(),u.val(!0),(y,w)=>{const E=y==="ok";E||Mt("set at "+e+" failed: "+y);const b=Jr(t.serverSyncTree_,p,!E);xn(t.eventQueue_,e,b),yP(t,o,y,w)});const g=hE(t,e);gu(t,g),xn(t.eventQueue_,g,[])}function hP(t){mu(t,"onDisconnectEvents");const e=bh(t),n=ka();gf(t.onDisconnect_,Ce(),(o,l)=>{const u=Yk(o,l,t.serverSyncTree_,e);kw(n,o,u)});let i=[];gf(n,Ce(),(o,l)=>{i=i.concat(Wo(t.serverSyncTree_,o,l));const u=hE(t,o);gu(t,u)}),t.onDisconnect_=ka(),xn(t.eventQueue_,Ce(),i)}function pP(t,e,n){let i;fe(e._path)===".info"?i=Ef(t.infoSyncTree_,e,n):i=Ef(t.serverSyncTree_,e,n),sE(t.eventQueue_,e._path,i)}function mP(t,e,n){let i;fe(e._path)===".info"?i=Fa(t.infoSyncTree_,e,n):i=Fa(t.serverSyncTree_,e,n),sE(t.eventQueue_,e._path,i)}function gP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oP)}function mu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wt(n,...e)}function yP(t,e,n,i){e&&ns(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function uE(t,e,n){return mh(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function xh(t,e=t.transactionQueueTree_){if(e||yu(t,e),rs(e)){const n=dE(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&vP(t,zo(e),n)}else Xw(e)&&pu(e,n=>{xh(t,n)})}function vP(t,e,n){const i=n.map(p=>p.currentWriteId),o=uE(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const v=n[p];z(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const g=bt(e,v.path);l=l.updateChild(g,v.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,p=>{mu(t,"transaction put response",{path:f.toString(),status:p});let v=[];if(p==="ok"){const g=[];for(let y=0;y<n.length;y++)n[y].status=2,v=v.concat(Jr(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&g.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();yu(t,Sh(t.transactionQueueTree_,e)),xh(t,t.transactionQueueTree_),xn(t.eventQueue_,e,v);for(let y=0;y<g.length;y++)ns(g[y])}else{if(p==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Mt("transaction at "+f.toString()+" failed: "+p);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=p}gu(t,e)}},u)}function gu(t,e){const n=cE(t,e),i=zo(n),o=dE(t,n);return _P(t,o,i),i}function _P(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=bt(n,f.path);let v=!1,g;if(z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)v=!0,g=f.abortReason,o=o.concat(Jr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=lP)v=!0,g="maxretry",o=o.concat(Jr(t.serverSyncTree_,f.currentWriteId,!0));else{const y=uE(t,f.path,u);f.currentInputSnapshot=y;const w=e[d].update(y.val());if(w!==void 0){Ih("transaction failed: Data returned ",w,f.path);let E=ot(w);typeof w=="object"&&w!=null&&Yn(w,".priority")||(E=E.updatePriority(y.getPriority()));const S=f.currentWriteId,N=bh(t),A=Qw(E,y,N);f.currentOutputSnapshotRaw=E,f.currentOutputSnapshotResolved=A,f.currentWriteId=aE(t),u.splice(u.indexOf(S),1),o=o.concat(jw(t.serverSyncTree_,f.path,A,f.currentWriteId,f.applyLocally)),o=o.concat(Jr(t.serverSyncTree_,S,!0))}else v=!0,g="nodata",o=o.concat(Jr(t.serverSyncTree_,f.currentWriteId,!0))}xn(t.eventQueue_,n,o),o=[],v&&(e[d].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(g==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(g),!1,null))))}yu(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)ns(i[d]);xh(t,t.transactionQueueTree_)}function cE(t,e){let n,i=t.transactionQueueTree_;for(n=fe(e);n!==null&&rs(i)===void 0;)i=Sh(i,n),e=Oe(e),n=fe(e);return i}function dE(t,e){const n=[];return fE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function fE(t,e,n){const i=rs(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);pu(e,o=>{fE(t,o,n)})}function yu(t,e){const n=rs(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,Jw(e,n.length>0?n:void 0)}pu(e,i=>{yu(t,i)})}function hE(t,e){const n=zo(cE(t,e)),i=Sh(t.transactionQueueTree_,e);return Jk(i,o=>{Hd(t,o)}),Hd(t,i),Zw(i,o=>{Hd(t,o)}),n}function Hd(t,e){const n=rs(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(z(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(z(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Jr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?Jw(e,void 0):n.length=l+1,xn(t.eventQueue_,zo(e),o);for(let u=0;u<i.length;u++)ns(i[u])}}function wP(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function EP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Mt(`Invalid query segment '${n}' in query '${t}'`)}return e}const lv=function(t,e){const n=CP(t),i=n.namespace;n.domain==="firebase.com"&&Gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MR();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cw(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new De(n.pathString)}},CP=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(v,g)),v<g&&(o=wP(t.substring(v,g)));const y=EP(t.substring(Math.min(t.length,g)));p=e.indexOf(":"),p>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const E=e.indexOf(".");i=e.substring(0,E).toLowerCase(),n=e.substring(E+1),l=i}"ns"in y&&(l=y.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};const av="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SP=(function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=av.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=av.charAt(e[o]);return z(u.length===20,"nextPushId: Length should be 20."),u}})();class IP{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class TP{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class kh{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return pe(this._path)?null:_w(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const e=Gy(this._queryParams),n=eh(e);return n==="{}"?"default":n}get _queryObject(){return Gy(this._queryParams)}isEqual(e){if(e=ut(e),!(e instanceof kh))return!1;const n=this._repo===e._repo,i=ih(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+_x(this._path)}}class Qn extends kh{constructor(e,n){super(e,n,new ah,!1)}get parent(){const e=Ew(this._path);return e===null?null:new Qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class So{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new De(e),i=Io(this.ref,e);return new So(this._node.getChild(n),i,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new So(o,Io(this.ref,i),je)))}hasChild(e){const n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ht(t,e){return t=ut(t),t._checkNotDeleted("ref"),e!==void 0?Io(t._root,e):t._root}function Io(t,e){return t=ut(t),fe(t._path)===null?nP("child","path",e):rE("child","path",e),new Qn(t._repo,et(t._path,e))}function bP(t,e){t=ut(t),iE("push",t._path),nE("push",e,t._path,!0);const n=lE(t._repo),i=SP(n),o=Io(t,i),l=Io(t,i);let u;return u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function en(t,e){t=ut(t),iE("set",t._path),nE("set",e,t._path,!1);const n=new ou;return fP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mE(t){t=ut(t);const e=new pE(()=>{}),n=new vu(e);return dP(t._repo,t,n).then(i=>new So(i,new Qn(t._repo,t._path),t._queryParams.getIndex()))}class vu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new IP("value",this,new So(e.snapshotNode,new Qn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TP(this,e,n):null}matches(e){return e instanceof vu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function RP(t,e,n,i,o){const l=new pE(n,void 0),u=new vu(l);return pP(t._repo,t,u),()=>mP(t._repo,t,u)}function Ua(t,e,n,i){return RP(t,"value",e)}kk(Qn);Ok(Qn);const xP="FIREBASE_DATABASE_EMULATOR_HOST",Sf={};let kP=!1;function PP(t,e,n,i){const o=e.lastIndexOf(":"),l=e.substring(0,o),u=Dr(l);t.repoInfo_=new cw(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function NP(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=lv(l,o),d=u.repoInfo,f;typeof process<"u"&&xy&&(f=xy[xP]),f?(l=`http://${f}?ns=${d.namespace}`,u=lv(l,o),d=u.repoInfo):u.repoInfo.secure;const p=new qR(t.name,t.options,e);rP("Invalid Firebase Database URL",u),pe(u.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=AP(d,t,p,new GR(t,n));return new OP(v,t)}function DP(t,e){const n=Sf[e];(!n||n[t.key]!==t)&&Gn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gP(t),delete n[t.key]}function AP(t,e,n,i){let o=Sf[e.name];o||(o={},Sf[e.name]=o);let l=o[t.toURLString()];return l&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new aP(t,kP,n,i),o[t.toURLString()]=l,l}class OP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gn("Cannot call "+e+" on a deleted database.")}}function LP(t=Zf(),e){const n=au(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=B_("database");i&&MP(n,...i)}return n}function MP(t,e,n,i={}){t=ut(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&ei(i,l.repoInfo_.emulatorOptions))return;Gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ha(ha.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:tb(i.mockUserToken,t.app.options.projectId);u=new ha(d)}Dr(e)&&(qf(e),Kf("Database",!0)),PP(l,o,i,u)}function FP(t){PR(es),ti(new br("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return NP(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),bn(ky,Py,t),bn(ky,Py,"esm2020")}Hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FP();function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UP=gE,yE=new Mo("auth","Firebase",gE());const Ba=new Jf("@firebase/auth");function BP(t,...e){Ba.logLevel<=Ne.WARN&&Ba.warn(`Auth (${es}): ${t}`,...e)}function pa(t,...e){Ba.logLevel<=Ne.ERROR&&Ba.error(`Auth (${es}): ${t}`,...e)}function kn(t,...e){throw Nh(t,...e)}function vn(t,...e){return Nh(t,...e)}function Ph(t,e,n){const i={...UP(),[e]:n};return new Mo("auth","Firebase",i).create(e,{appName:t.name})}function Zr(t){return Ph(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WP(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&kn(t,"argument-error"),Ph(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nh(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return yE.create(t,...e)}function le(t,e,...n){if(!t)throw Nh(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pa(e),new Error(e)}function qn(t,e){t||Wn(e)}function If(){return typeof self<"u"&&self.location?.href||""}function $P(){return uv()==="http:"||uv()==="https:"}function uv(){return typeof self<"u"&&self.location?.protocol||null}function zP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($P()||sb()||"connection"in navigator)?navigator.onLine:!0}function HP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ho{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=Yf()||z_()}get(){return zP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dh(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class vE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GP=new Ho(3e4,6e4);function Ah(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function is(t,e,n,i,o={}){return _E(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=Zi({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return ib()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Dr(t.emulatorConfig.host)&&(p.credentials="include"),vE.fetch()(await wE(t,t.config.apiHost,n,d),p)})}async function _E(t,e,n){t._canInitEmulator=!1;const i={...VP,...e};try{const o=new KP(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw oa(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oa(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw oa(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw oa(t,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ph(t,v,p);kn(t,v)}}catch(o){if(o instanceof Kn)throw o;kn(t,"network-request-failed",{message:String(o)})}}async function qP(t,e,n,i,o={}){const l=await is(t,e,n,i,o);return"mfaPendingCredential"in l&&kn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function wE(t,e,n,i){const o=`${e}${n}?${i}`,l=t,u=l.config.emulator?Dh(t.config,o):`${t.config.apiScheme}://${o}`;return jP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class KP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vn(this.auth,"network-request-failed")),GP.get())})}}function oa(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=vn(t,e,i);return o.customData._tokenResponse=n,o}async function YP(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function Wa(t,e){return is(t,"POST","/v1/accounts:lookup",e)}function uo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QP(t,e=!1){const n=ut(t),i=await n.getIdToken(e),o=Oh(i);le(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:i,authTime:uo(Vd(o.auth_time)),issuedAtTime:uo(Vd(o.iat)),expirationTime:uo(Vd(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vd(t){return Number(t)*1e3}function Oh(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return pa("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ca(n);return o?JSON.parse(o):(pa("Failed to decode base64 JWT payload"),null)}catch(o){return pa("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cv(t){const e=Oh(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function To(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Kn&&JP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function JP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class XP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uo(this.lastLoginAt),this.creationTime=uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $a(t){const e=t.auth,n=await t.getIdToken(),i=await To(t,Wa(e,{idToken:n}));le(i?.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=o.providerUserInfo?.length?EE(o.providerUserInfo):[],u=eN(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,p=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tf(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function ZP(t){const e=ut(t);await $a(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eN(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function EE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tN(t,e){const n=await _E(t,{},async()=>{const i=Zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await wE(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&Dr(t.emulatorConfig.host)&&(f.credentials="include"),vE.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nN(t,e){return is(t,"POST","/v2/accounts:revokeToken",Ah(t,e))}class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await tN(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Ui;return i&&(le(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(le(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return Wn("not implemented")}}function gr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mn{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new XP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QP(this,e)}reload(){return ZP(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $a(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await To(this,YP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:w,providerData:E,stsTokenManager:b}=n;le(g&&b,e,"internal-error");const S=Ui.fromJSON(this.name,b);le(typeof g=="string",e,"internal-error"),gr(i,e.name),gr(o,e.name),le(typeof y=="boolean",e,"internal-error"),le(typeof w=="boolean",e,"internal-error"),gr(l,e.name),gr(u,e.name),gr(d,e.name),gr(f,e.name),gr(p,e.name),gr(v,e.name);const N=new mn({uid:g,auth:e,email:o,emailVerified:y,displayName:i,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:S,createdAt:p,lastLoginAt:v});return E&&Array.isArray(E)&&(N.providerData=E.map(A=>({...A}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,n,i=!1){const o=new Ui;o.updateFromServerResponse(n);const l=new mn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await $a(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];le(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?EE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,d=new Ui;d.updateFromIdToken(i);const f=new mn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const dv=new Map;function $n(t){qn(t instanceof Function,"Expected a class definition");let e=dv.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dv.set(t,e),e)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CE.type="NONE";const fv=CE;function ma(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ma(this.userKey,o.apiKey,l),this.fullPersistenceKey=ma("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wa(this.auth,{idToken:e}).catch(()=>{});return n?mn._fromGetAccountInfoResponse(this.auth,n,e):null}return mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bi($n(fv),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||$n(fv);const u=ma(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(u);if(v){let g;if(typeof v=="string"){const y=await Wa(e,{idToken:v}).catch(()=>{});if(!y)break;g=await mn._fromGetAccountInfoResponse(e,y,v)}else g=mn._fromJSON(e,v);p!==l&&(d=g),l=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Bi(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Bi(l,e,i))}}function hv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(kE(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||TE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function SE(t=Rt()){return/firefox\//i.test(t)}function IE(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TE(t=Rt()){return/crios\//i.test(t)}function bE(t=Rt()){return/iemobile/i.test(t)}function RE(t=Rt()){return/android/i.test(t)}function xE(t=Rt()){return/blackberry/i.test(t)}function kE(t=Rt()){return/webos/i.test(t)}function Lh(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rN(t=Rt()){return Lh(t)&&!!window.navigator?.standalone}function iN(){return ob()&&document.documentMode===10}function PE(t=Rt()){return Lh(t)||RE(t)||kE(t)||xE(t)||/windows phone/i.test(t)||bE(t)}function NE(t,e=[]){let n;switch(t){case"Browser":n=hv(Rt());break;case"Worker":n=`${hv(Rt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${es}/${i}`}class sN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function oN(t,e={}){return is(t,"GET","/v2/passwordPolicy",Ah(t,e))}const lN=6;class aN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class uN{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wa(this,{idToken:e}),i=await mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $a(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Zr(this));const n=e?ut(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oN(this),n=new aN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _u(t){return ut(t)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=gb(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(t){Mh=t}function dN(t){return Mh.loadJS(t)}function fN(){return Mh.gapiScript}function hN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function pN(t,e){const n=au(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ei(l,e??{}))return o;kn(o,"already-initialized")}return n.initialize({options:e})}function mN(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function gN(t,e,n){const i=_u(t);le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=DE(e),{host:u,port:d}=yN(e),f=d===null?"":`:${d}`,p={url:`${l}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),le(ei(p,i.config.emulator)&&ei(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Dr(u)?(qf(`${l}//${u}${f}`),Kf("Auth",!0)):vN()}function DE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yN(t){const e=DE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:mv(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:mv(u)}}}function mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class AE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function Wi(t,e){return qP(t,"POST","/v1/accounts:signInWithIdp",Ah(t,e))}const _N="http://localhost";class si extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=n;if(!i||!o)return null;const u=new si(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Wi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wi(e,n)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zi(n)}return e}}class Fh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vo extends Fh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends Vo{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class Un extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return si._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Un.credential(n,i)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";class vr extends Vo{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class _r extends Vo{constructor(){super("twitter.com")}static credential(e,n){return si._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _r.credential(n,i)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await mn._fromIdTokenResponse(e,i,o),u=gv(i);return new ji({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=gv(i);return new ji({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function gv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class za extends Kn{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new za(e,n,i,o)}}function OE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,l,e,i):l})}async function wN(t,e,n=!1){const i=await To(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",i)}async function EN(t,e,n=!1){const{auth:i}=t;if(tn(i.app))return Promise.reject(Zr(i));const o="reauthenticate";try{const l=await To(t,OE(i,o,e,t),n);le(l.idToken,i,"internal-error");const u=Oh(l.idToken);le(u,i,"internal-error");const{sub:d}=u;return le(t.uid===d,i,"user-mismatch"),ji._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&kn(i,"user-mismatch"),l}}async function CN(t,e,n=!1){if(tn(t.app))return Promise.reject(Zr(t));const i="signIn",o=await OE(t,i,e),l=await ji._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}function SN(t,e,n,i){return ut(t).onIdTokenChanged(e,n,i)}function IN(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function TN(t,e,n,i){return ut(t).onAuthStateChanged(e,n,i)}function bN(t){return ut(t).signOut()}const Ha="__sak";class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RN=1e3,xN=10;class ME extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);iN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xN):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const kN=ME;class FE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FE.type="SESSION";const UE=FE;function PN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new wu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async p=>p(n.origin,l)),f=await PN(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wu.receivers=[];function Uh(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class NN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const p=Uh("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(g){const y=g;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(y.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Rn(){return window}function DN(t){Rn().location.href=t}function BE(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function AN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){return navigator?.serviceWorker?.controller||null}function LN(){return BE()?self:null}const WE="firebaseLocalStorageDb",MN=1,Va="firebaseLocalStorage",$E="fbase_key";class jo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eu(t,e){return t.transaction([Va],e?"readwrite":"readonly").objectStore(Va)}function FN(){const t=indexedDB.deleteDatabase(WE);return new jo(t).toPromise()}function bf(){const t=indexedDB.open(WE,MN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Va,{keyPath:$E})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Va)?e(i):(i.close(),await FN(),e(await bf()))})})}async function yv(t,e,n){const i=Eu(t,!0).put({[$E]:e,value:n});return new jo(i).toPromise()}async function UN(t,e){const n=Eu(t,!1).get(e),i=await new jo(n).toPromise();return i===void 0?null:i.value}function vv(t,e){const n=Eu(t,!0).delete(e);return new jo(n).toPromise()}const BN=800,WN=3;class zE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>WN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wu._getInstance(LN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AN(),!this.activeServiceWorker)return;this.sender=new NN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bf();return await yv(e,Ha,"1"),await vv(e,Ha),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>yv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>UN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Eu(o,!1).getAll();return new jo(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zE.type="LOCAL";const $N=zE;new Ho(3e4,6e4);function HE(t,e){return e?$n(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Bh extends AE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zN(t){return CN(t.auth,new Bh(t),t.bypassAuthState)}function HN(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),EN(n,new Bh(t),t.bypassAuthState)}async function VN(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),wN(n,new Bh(t),t.bypassAuthState)}class VE{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:kn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jN=new Ho(2e3,1e4);async function GN(t,e,n){if(tn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const i=_u(t);WP(t,e,Fh);const o=HE(i,n);return new Xr(i,"signInViaPopup",e,o).executeNotNull()}class Xr extends VE{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Uh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Xr.currentPopupAction=null;const qN="pendingRedirect",ga=new Map;class KN extends VE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ga.get(this.auth._key());if(!e){try{const i=await YN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ga.set(this.auth._key(),e)}return this.bypassAuthState||ga.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YN(t,e){const n=XN(e),i=JN(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function QN(t,e){ga.set(t._key(),e)}function JN(t){return $n(t._redirectPersistence)}function XN(t){return ma(qN,t.config.apiKey,t.name)}async function ZN(t,e,n=!1){if(tn(t.app))return Promise.reject(Zr(t));const i=_u(t),o=HE(i,e),u=await new KN(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const e1=600*1e3;class t1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e1&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(e))}saveEventToCache(e){this.cachedEventUids.add(_v(e)),this.lastProcessedEventTime=Date.now()}}function _v(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jE(t);default:return!1}}async function r1(t,e={}){return is(t,"GET","/v1/projects",e)}const i1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s1=/^https?/;async function o1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r1(t);for(const n of e)try{if(l1(n))return}catch{}kn(t,"unauthorized-domain")}function l1(t){const e=If(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!s1.test(n))return!1;if(i1.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const a1=new Ho(3e4,6e4);function wv(){const t=Rn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u1(t){return new Promise((e,n)=>{function i(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),n(vn(t,"network-request-failed"))},timeout:a1.get()})}if(Rn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rn().gapi?.load)i();else{const o=hN("iframefcb");return Rn()[o]=()=>{gapi.load?i():n(vn(t,"network-request-failed"))},dN(`${fN()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ya=null,e})}let ya=null;function c1(t){return ya=ya||u1(t),ya}const d1=new Ho(5e3,15e3),f1="__/auth/iframe",h1="emulator/auth/iframe",p1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g1(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dh(e,h1):`https://${t.config.authDomain}/${f1}`,i={apiKey:e.apiKey,appName:t.name,v:es},o=m1.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Zi(i).slice(1)}`}async function y1(t){const e=await c1(t),n=Rn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:g1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=vn(t,"network-request-failed"),d=Rn().setTimeout(()=>{l(u)},d1.get());function f(){Rn().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{l(u)})}))}const v1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_1=500,w1=600,E1="_blank",C1="http://localhost";class Ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S1(t,e,n,i=_1,o=w1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...v1,width:i.toString(),height:o.toString(),top:l,left:u},p=Rt().toLowerCase();n&&(d=TE(p)?E1:n),SE(p)&&(e=e||C1,f.scrollbars="yes");const v=Object.entries(f).reduce((y,[w,E])=>`${y}${w}=${E},`,"");if(rN(p)&&d!=="_self")return I1(e||"",d),new Ev(null);const g=window.open(e||"",d,v);le(g,t,"popup-blocked");try{g.focus()}catch{}return new Ev(g)}function I1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const T1="__/auth/handler",b1="emulator/auth/handler",R1=encodeURIComponent("fac");async function Cv(t,e,n,i,o,l){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:es,eventId:o};if(e instanceof Fh){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",lf(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))u[v]=g}if(e instanceof Vo){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${R1}=${encodeURIComponent(f)}`:"";return`${x1(t)}?${Zi(d).slice(1)}${p}`}function x1({config:t}){return t.emulator?Dh(t,b1):`https://${t.authDomain}/${T1}`}const jd="webStorageSupport";class k1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=ZN,this._overrideRedirectResult=QN}async _openPopup(e,n,i,o){qn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Cv(e,n,i,If(),o);return S1(e,l,Uh())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await Cv(e,n,i,If(),o);return DN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(qn(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await y1(e),i=new t1(e);return n.register("authEvent",o=>(le(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},o=>{const l=o?.[0]?.[jd];l!==void 0&&n(!!l),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||IE()||Lh()}}const P1=k1;var Sv="@firebase/auth",Iv="1.12.0";class N1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A1(t){ti(new br("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;le(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(t)},p=new uN(i,o,l,f);return mN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ti(new br("auth-internal",e=>{const n=_u(e.getProvider("auth").getImmediate());return(i=>new N1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(Sv,Iv,D1(t)),bn(Sv,Iv,"esm2020")}const O1=300,L1=$_("authIdTokenMaxAge")||O1;let Tv=null;const M1=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>L1)return;const o=n?.token;Tv!==o&&(Tv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F1(t=Zf()){const e=au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pN(t,{popupRedirectResolver:P1,persistence:[$N,kN,UE]}),i=$_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=M1(l.toString());IN(n,u,()=>u(n.currentUser)),SN(n,d=>u(d))}}const o=U_("auth");return o&&gN(n,`http://${o}`),n}function U1(){return document.getElementsByTagName("head")?.[0]??document}cN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=vn("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",U1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A1("Browser");function GE(t){return{name:t||"",total:0}}function bo(t){return t.map(n=>({...n,people:[...n.people]}))}function B1(t,e){return t.filter(i=>i.name!==e)}function Cu(t=[],e=[]){function n(o){let u=(Array.isArray(o.people)?o.people:[]).reduce((f,p)=>p?f+1:f,0);return u?o.price/u:0}function i(o,l){return l.map((u,d)=>{let f=o.reduce((p,v)=>Array.isArray(v.people)&&v.people[d]?p+n(v):p,0);return{...u,total:f}})}return i(e,t)}function W1({groceryList:t,setGroceryList:e,groceryItemIndex:n,people:i,setPeople:o,index:l,user:u,listId:d}){const[f,p]=I.useState(!1);I.useEffect(()=>{if(!d)return alert("List not found");if(!u)return alert("Please sign in to edit");const g=ht(pt,`lists/${d}`),y=Ua(g,async w=>{const b=w.val().editors||{},N=Object.keys(b)[l];return N?(p(u.uid===N),()=>y()):alert("User not found")})},[u,d,l]);function v(g){if(!f)return alert("Cannot edit other for user");let y=bo(t),w=parseInt(g.target.value),E=y[n];E.people[w]=!E.people[w],e(y),o(Cu(i,y))}return G.jsx(G.Fragment,{children:G.jsx("input",{className:"table-choice",type:"checkbox",onChange:v,checked:t[n].people[l],value:l,style:{width:"25px",height:"25px"},disabled:!f})})}function $1({groceryList:t,setGroceryList:e,groceryItemIndex:n,people:i,setPeople:o}){const[l,u]=I.useState(t[n].name);function d(){let y=bo(t);y=B1(t,t[n].name),e(y),o(Cu(i,y))}function f(y){u(y.target.value)}function p(y){if(t.map(E=>E.name).includes(y))u(t[n].name);else{let E=bo(t);E[n].name=y,e(E)}}function v(y){y.key==="Enter"&&(y.target.blur(),p(l))}function g(y){let w=t.map(E=>E.name);p(y.target.value),w.includes(y.target.value)&&y.target.value!==t[n].name&&alert("Item already in list")}return G.jsxs("span",{children:[G.jsx("button",{style:{height:"35px",width:"100px",fontSize:"20px"},onClick:()=>{d()},children:"Remove"}),"",G.jsx("input",{value:l,style:{height:"28px",width:"100px",fontSize:"calc(1px + 2vmin)",left:"10px"},onChange:f,onBlur:g,onKeyDown:v})]})}function z1({groceryList:t,setGroceryList:e,groceryItem:n,priceRef:i,priceRefs:o,people:l,setPeople:u}){const[d,f]=I.useState(n.price?n.price.toFixed(2):"");function p(E){return!Number.isNaN(Number(E))}function v(E){if(p(E)&&E!==""){const b=Math.round(parseFloat(E)*100)/100;let S=bo(t),N={...n};N.price=b;let A=S.findIndex(O=>O.name===n.name);S[A]=N,e(S),u(Cu(l,S)),f(b.toFixed(2))}else f("")}function g(E){v(E.target.value),p(E.target.value)||alert("Enter a price")}function y(E){f(E.target.value)}function w(E){if(E.key==="Escape"&&(E.target.blur(),v(d)),E.key==="Tab"||E.key==="Enter"){E.preventDefault(),v(d);const b=o?.current;if(!b)return;const S=b.findIndex(A=>A===E.target),N=b[S+1];N&&N.focus()}}return G.jsx("input",{ref:i||null,type:"text",value:d,onBlur:g,onKeyDown:w,style:{height:"28px",width:"100px",fontSize:"calc(5px + 2vmin)"},onChange:y})}function H1(t,e,n){return{name:t,price:e,people:[...Array(n)].map((o,l)=>!1)}}function V1({groceryList:t,setGroceryList:e,people:n}){const[i,o]=I.useState("");function l(f){return!t.map(v=>v.name).includes(f)}function u(f){if(f!=="")if(l(f)){const p=bo(t);p.push(H1(f,0,n.length)),e(p),o("")}else alert("Item already in list"),o("")}function d(f){f.key==="Enter"&&u(i)}return G.jsxs("span",{children:[G.jsx("input",{type:"text",value:i,onChange:f=>{o(f.target.value)},onKeyDown:d,placeholder:"Input Item Here"}),G.jsx("button",{onClick:()=>{u(i.trim())},children:"Submit"})]})}const j1="https://grocery-list-split.onrender.com";function G1({groceryList:t,setGroceryList:e}){const n=I.useRef(null);function i(){n.current?.click()}function o(u){const d=u.indexOf("["),f=u.lastIndexOf("]");return d===-1||f===-1?null:u.slice(d,f+1)}async function l(u){const d=u.target.files?.[0];if(!d)return;const f=new FormData;f.append("file",d);const v=await(await fetch(`${j1}/api/upload`,{method:"POST",body:f})).json();console.log("FULL BACKEND RESPONSE:",v);const g=v?.message||"No AI Response",y=o(g);if(!y){alert("AI response did not contain a JSON array");return}console.log("AI TEXT (raw):",g);let w=[];try{w=JSON.parse(y)}catch{console.error("AI returned invalid JSON:",y),alert("Failed to parse AI response. Response: "+y);return}e(w)}return G.jsxs("div",{children:[G.jsx("button",{type:"button",onClick:i,className:"upload-receipt-button",children:"Upload Reciept"}),G.jsx("input",{type:"file",ref:n,onChange:l,style:{display:"none"}})]})}const q1="type.googleapis.com/google.protobuf.Int64Value",K1="type.googleapis.com/google.protobuf.UInt64Value";function qE(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function ja(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>ja(e));if(typeof t=="function"||typeof t=="object")return qE(t,e=>ja(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Gi(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case q1:case K1:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Gi(e)):typeof t=="function"||typeof t=="object"?qE(t,e=>Gi(e)):t}const Wh="functions";const bv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Kn{constructor(e,n,i){super(`${Wh}/${e}`,n||""),this.details=i,Object.setPrototypeOf(this,Lt.prototype)}}function Y1(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ga(t,e){let n=Y1(t),i=n,o;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!bv[u])return new Lt("internal","internal");n=bv[u],i=u}const d=l.message;typeof d=="string"&&(i=d),o=l.details,o!==void 0&&(o=Gi(o))}}catch{}return n==="ok"?null:new Lt(n,i,o)}class Q1{constructor(e,n,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||i.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:o}}}const Rf="us-central1",J1=/^data: (.*?)(?:\n|$)/;function X1(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Lt("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Z1{constructor(e,n,i,o,l=Rf,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new Q1(e,n,i,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(l);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Rf}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function eD(t,e,n){const i=Dr(e);t.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(qf(t.emulatorOrigin+"/backends"),Kf("Functions",!0))}function tD(t,e,n){const i=o=>rD(t,e,o,{});return i.stream=(o,l)=>sD(t,e,o,l),i}function KE(t){return t.emulatorOrigin&&Dr(t.emulatorOrigin)?"include":void 0}async function nD(t,e,n,i,o){n["Content-Type"]="application/json";let l;try{l=await i(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:KE(o)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function YE(t,e){const n={},i=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function rD(t,e,n,i){const o=t._url(e);return iD(t,o,n,i)}async function iD(t,e,n,i){n=ja(n);const o={data:n},l=await YE(t,i),u=i.timeout||7e4,d=X1(u),f=await Promise.race([nD(e,o,l,t.fetchImpl,t),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Lt("cancelled","Firebase Functions instance was deleted.");const p=Ga(f.status,f.json);if(p)throw p;if(!f.json)throw new Lt("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Lt("internal","Response is missing data field.");return{data:Gi(v)}}function sD(t,e,n,i){const o=t._url(e);return oD(t,o,n,i||{})}async function oD(t,e,n,i){n=ja(n);const o={data:n},l=await YE(t,i);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:l,signal:i?.signal,credentials:KE(t)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const E=new Lt("cancelled","Request was cancelled.");return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}const w=Ga(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let d,f;const p=new Promise((y,w)=>{d=y,f=w});i?.signal?.addEventListener("abort",()=>{const y=new Lt("cancelled","Request was cancelled.");f(y)});const v=u.body.getReader(),g=lD(v,d,f,i?.signal);return{stream:{[Symbol.asyncIterator](){const y=g.getReader();return{async next(){const{value:w,done:E}=await y.read();return{value:w,done:E}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:p}}function lD(t,e,n,i){const o=(u,d)=>{const f=u.match(J1);if(!f)return;const p=f[1];try{const v=JSON.parse(p);if("result"in v){e(Gi(v.result));return}if("message"in v){d.enqueue(Gi(v.message));return}if("error"in v){const g=Ga(0,v);d.error(g),n(g);return}}catch(v){if(v instanceof Lt){d.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(i?.aborted){const p=new Lt("cancelled","Request was cancelled");return u.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await t.read();if(v){d.trim()&&o(d.trim(),u),u.close();return}if(i?.aborted){const y=new Lt("cancelled","Request was cancelled");u.error(y),n(y),await t.cancel();return}d+=l.decode(p,{stream:!0});const g=d.split(`
`);d=g.pop()||"";for(const y of g)y.trim()&&o(y.trim(),u);return f()}catch(p){const v=p instanceof Lt?p:Ga(0,null);u.error(v),n(v)}}},cancel(){return t.cancel()}})}const Rv="@firebase/functions",xv="0.13.1";const aD="auth-internal",uD="app-check-internal",cD="messaging-internal";function dD(t){const e=(n,{instanceIdentifier:i})=>{const o=n.getProvider("app").getImmediate(),l=n.getProvider(aD),u=n.getProvider(cD),d=n.getProvider(uD);return new Z1(o,l,u,d,i)};ti(new br(Wh,e,"PUBLIC").setMultipleInstances(!0)),bn(Rv,xv,t),bn(Rv,xv,"esm2020")}function QE(t=Zf(),e=Rf){const i=au(ut(t),Wh).getImmediate({identifier:e}),o=B_("functions");return o&&fD(i,...o),i}function fD(t,e,n){eD(ut(t),e,n)}function JE(t,e,n){return tD(ut(t),e)}dD();function hD({user:t}){const[e,n]=I.useState([]),[i,o]=I.useState(""),[l,u]=I.useState([]),[d,f]=I.useState(!1),[p,v]=I.useState(""),[g,y]=I.useState(!1),{listId:w}=Y0(),E=I.useRef(!1),b=iu();I.useEffect(()=>{if(!t||!w)return;const O=ht(pt,`lists/${w}`),L=Ua(O,async $=>{const V=$.val();let ee=`List-${Date.now()}`;if(V){n(Array.isArray(V.groceryList)?V.groceryList:[]),ee=V.name;const ie=V.editors||{};let ae=Object.keys(ie).map(async(be,Re)=>{let Qe="_";if(l[Re]&&l[Re].name)Qe=l[Re].name;else try{const Ke=await await S(be);if(Ke?.name){const Ie=Ke.name.split(" ");Qe=`${Ie[0]}${Ie[1]?" "+Ie[1][0]+".":""}`}}catch(Ue){console.error("Profile fetch failed for uid",be,Ue)}return{name:Qe,total:0}}),me=await Promise.all(ae);me=Cu(me,V.groceryList),u(me)}else{const ie={name:ee,groceryList:[],editors:{[t.uid]:{name:t.displayName?t.displayName:"_"}},createdBy:t.uid,people:[GE(t?.displayName||"_")],id:w};en(O,ie),n([]),u([{name:t.displayName||"",total:0}])}g||o(ee),E.current=!0});return()=>L()},[t,w,g]);async function S(O){const L=await t?.getIdToken(),$=await fetch(`https://us-central1-grocery-list-splitter-e22fb.cloudfunctions.net/getUserProfile?uid=${O}&listId=${w}`,{method:"GET",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error("Unauthorized or error");return $.json()}I.useEffect(()=>{if(!t||!w||!E.current)return;const O=ht(pt,`lists/${w}/groceryList`),L=ht(pt,`lists/${w}/people`);en(O,e).catch(console.error),en(L,l)},[e,t,w,l]);async function N(){if(!p.includes("@")){alert("Please enter a valid email");return}console.log("Invite:",p);try{const O=p.replace(/\./g,","),L=await mE(ht(pt,`userEmails/${O}`));if(!L.exists()){alert("No user found with this email");return}const $=L.val(),V=QE(Pu);await JE(V,"shareList")({listId:w,invitedUid:$});const _e=(await S($)).name.split(" "),ae=`${_e[0]}${_e[1]?" "+_e[1][0]+".":""}`;await alert("List shared successfully"),v(""),f(!1);const me=l.map(Re=>({...Re}));me.push({name:ae||"_",total:0}),u(me);const be=ht(pt,`lists/${w}/people`);en(be,me)}catch(O){alert("Failed to share list"),console.error("Error sharing list:",O)}}const A=I.useRef([]);return G.jsxs("div",{className:"App",children:[G.jsx("header",{className:"App-input-box",children:G.jsx(V1,{groceryList:e,setGroceryList:n,people:l})}),G.jsxs("h1",{className:"list-title",style:{paddingLeft:"170px",cursor:"pointer"},children:[G.jsx("span",{children:"Title: "}),g?G.jsx("input",{type:"text",value:i,autoFocus:!0,onChange:O=>o(O.target.value),onBlur:()=>{if(y(!1),t&&w){const O=ht(pt,`lists/${w}/name`);en(O,i)}},onKeyDown:O=>{if(O.key==="Enter"&&(y(!1),t&&w)){const L=ht(pt,`lists/${w}/name`);en(L,i)}},className:"title-input"}):G.jsx("span",{onClick:()=>y(!0),className:"title-text",children:i||"Untitled"})]}),G.jsxs("div",{className:"App-table",style:{"--num-people":l.length},children:[G.jsxs("div",{className:"table-header",children:[G.jsx("div",{className:"header-item",children:"Items"}),G.jsx("div",{className:"header-price",children:"Prices"}),l.map((O,L)=>G.jsx("div",{className:"header-person",style:{borderBottom:O.name!==""?"2px solid black":"none"},children:O.name},L))]}),e.map((O,L)=>G.jsxs("div",{className:"table-row",children:[G.jsx("div",{className:"table-item",children:G.jsx($1,{groceryList:e,setGroceryList:n,groceryItemIndex:L,people:l,setPeople:u})}),G.jsxs("div",{className:"table-price",children:["$",G.jsx(z1,{groceryList:e,setGroceryList:n,groceryItem:O,priceRef:$=>{A.current[L]=$},priceRefs:A,people:l,setPeople:u})]}),l.map(($,V)=>G.jsx("div",{className:"table-choice",children:G.jsx(W1,{groceryList:e,setGroceryList:n,groceryItemIndex:L,people:l,setPeople:u,index:V,user:t,listId:w})},V))]},O.name)),G.jsxs("div",{className:"table-footer",children:[G.jsx("div",{className:"footer-label",children:"Totals:"}),G.jsx("div",{className:"footer-total-price",children:e.reduce((O,L)=>O+(L.price||0),0).toFixed(2)}),l.map((O,L)=>G.jsx("div",{className:"footer-person",children:l[L].total.toFixed(2)},L))]})]}),G.jsx("button",{className:"share-list-button",onClick:()=>f(!0),children:"Share"}),d&&G.jsxs("div",{className:"share-form share-form-fixed",children:[G.jsx("input",{type:"email",placeholder:"Enter Email",value:p,onChange:O=>v(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(N(),v(""))}}),G.jsx("button",{onClick:N,children:"Invite"}),G.jsx("button",{onClick:()=>{f(!1),v("")},children:"Cancel"})]}),G.jsx(G1,{groceryList:e,setGroceryList:n}),G.jsx("span",{className:"dashboard-button",onClick:()=>{b("/grocery-lists/")},children:"Dashboard"})]})}function Tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pD=typeof Symbol=="function"&&Symbol.observable||"@@observable",kv=pD,Pv=()=>Math.random().toString(36).substring(7).split("").join("."),mD={INIT:`@@redux/INIT${Pv()}`,REPLACE:`@@redux/REPLACE${Pv()}`},Nv=mD;function gD(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function XE(t,e,n){if(typeof t!="function")throw new Error(Tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(XE)(t,e)}let i=t,o=e,l=new Map,u=l,d=0,f=!1;function p(){u===l&&(u=new Map,l.forEach((S,N)=>{u.set(N,S)}))}function v(){if(f)throw new Error(Tt(3));return o}function g(S){if(typeof S!="function")throw new Error(Tt(4));if(f)throw new Error(Tt(5));let N=!0;p();const A=d++;return u.set(A,S),function(){if(N){if(f)throw new Error(Tt(6));N=!1,p(),u.delete(A),l=null}}}function y(S){if(!gD(S))throw new Error(Tt(7));if(typeof S.type>"u")throw new Error(Tt(8));if(typeof S.type!="string")throw new Error(Tt(17));if(f)throw new Error(Tt(9));try{f=!0,o=i(o,S)}finally{f=!1}return(l=u).forEach(A=>{A()}),S}function w(S){if(typeof S!="function")throw new Error(Tt(10));i=S,y({type:Nv.REPLACE})}function E(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Tt(11));function A(){const L=N;L.next&&L.next(v())}return A(),{unsubscribe:S(A)}},[kv](){return this}}}return y({type:Nv.INIT}),{dispatch:y,subscribe:g,getState:v,replaceReducer:w,[kv]:E}}function Dv(t,e){return function(...n){return e(t.apply(this,n))}}function Av(t,e){if(typeof t=="function")return Dv(t,e);if(typeof t!="object"||t===null)throw new Error(Tt(16));const n={};for(const i in t){const o=t[i];typeof o=="function"&&(n[i]=Dv(o,e))}return n}function ZE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function yD(...t){return e=>(n,i)=>{const o=e(n,i);let l=()=>{throw new Error(Tt(15))};const u={getState:o.getState,dispatch:(f,...p)=>l(f,...p)},d=t.map(f=>f(u));return l=ZE(...d)(o.dispatch),{...o,dispatch:l}}}var Gd={exports:{}},qd={};var Ov;function vD(){if(Ov)return qd;Ov=1;var t=nu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return qd.useSyncExternalStoreWithSelector=function(f,p,v,g,y){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=u(function(){function S($){if(!N){if(N=!0,A=$,$=g($),y!==void 0&&E.hasValue){var V=E.value;if(y(V,$))return O=V}return O=$}if(V=O,n(A,$))return V;var ee=g($);return y!==void 0&&y(V,ee)?(A=$,V):(A=$,O=ee)}var N=!1,A,O,L=v===void 0?null:v;return[function(){return S(p())},L===null?void 0:function(){return S(L())}]},[p,v,g,y]);var b=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=b},[b]),d(b),b},qd}var Lv;function _D(){return Lv||(Lv=1,Gd.exports=vD()),Gd.exports}_D();var wD=I.version.startsWith("19"),ED=Symbol.for(wD?"react.transitional.element":"react.element"),CD=Symbol.for("react.portal"),SD=Symbol.for("react.fragment"),ID=Symbol.for("react.strict_mode"),TD=Symbol.for("react.profiler"),bD=Symbol.for("react.consumer"),RD=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),kD=Symbol.for("react.suspense_list"),$h=Symbol.for("react.memo"),PD=Symbol.for("react.lazy"),ND=eC,DD=$h;function AD(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case ED:switch(t=t.type,t){case SD:case TD:case ID:case xD:case kD:return t;default:switch(t=t&&t.$$typeof,t){case RD:case eC:case PD:case $h:return t;case bD:return t;default:return e}}case CD:return e}}}function OD(t){return AD(t)===$h}function LD(t,e,n,i,{areStatesEqual:o,areOwnPropsEqual:l,areStatePropsEqual:u}){let d=!1,f,p,v,g,y;function w(A,O){return f=A,p=O,v=t(f,p),g=e(i,p),y=n(v,g,p),d=!0,y}function E(){return v=t(f,p),e.dependsOnOwnProps&&(g=e(i,p)),y=n(v,g,p),y}function b(){return t.dependsOnOwnProps&&(v=t(f,p)),e.dependsOnOwnProps&&(g=e(i,p)),y=n(v,g,p),y}function S(){const A=t(f,p),O=!u(A,v);return v=A,O&&(y=n(v,g,p)),y}function N(A,O){const L=!l(O,p),$=!o(A,f,O,p);return f=A,p=O,L&&$?E():L?b():$?S():y}return function(O,L){return d?N(O,L):w(O,L)}}function MD(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...o}){const l=e(t,o),u=n(t,o),d=i(t,o);return LD(l,u,d,t,o)}function FD(t,e){const n={};for(const i in t){const o=t[i];typeof o=="function"&&(n[i]=(...l)=>e(o(...l)))}return n}function xf(t){return function(n){const i=t(n);function o(){return i}return o.dependsOnOwnProps=!1,o}}function Mv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function tC(t,e){return function(i,{displayName:o}){const l=function(d,f){return l.dependsOnOwnProps?l.mapToProps(d,f):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,f){l.mapToProps=t,l.dependsOnOwnProps=Mv(t);let p=l(d,f);return typeof p=="function"&&(l.mapToProps=p,l.dependsOnOwnProps=Mv(p),p=l(d,f)),p},l}}function zh(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function UD(t){return t&&typeof t=="object"?xf(e=>FD(t,e)):t?typeof t=="function"?tC(t):zh(t,"mapDispatchToProps"):xf(e=>({dispatch:e}))}function BD(t){return t?typeof t=="function"?tC(t):zh(t,"mapStateToProps"):xf(()=>({}))}function WD(t,e,n){return{...n,...t,...e}}function $D(t){return function(n,{displayName:i,areMergedPropsEqual:o}){let l=!1,u;return function(f,p,v){const g=t(f,p,v);return l?o(g,u)||(u=g):(l=!0,u=g),u}}}function zD(t){return t?typeof t=="function"?$D(t):zh(t,"mergeProps"):()=>WD}function HD(t){t()}function VD(){let t=null,e=null;return{clear(){t=null,e=null},notify(){HD(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Fv={notify(){},get:()=>[]};function nC(t,e){let n,i=Fv,o=0,l=!1;function u(b){v();const S=i.subscribe(b);let N=!1;return()=>{N||(N=!0,S(),g())}}function d(){i.notify()}function f(){E.onStateChange&&E.onStateChange()}function p(){return l}function v(){o++,n||(n=e?e.addNestedSub(f):t.subscribe(f),i=VD())}function g(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=Fv)}function y(){l||(l=!0,v())}function w(){l&&(l=!1,g())}const E={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:p,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>i};return E}var jD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GD=jD(),qD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KD=qD(),YD=()=>GD||KD?I.useLayoutEffect:I.useEffect,qa=YD();function Uv(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kd(t,e){if(Uv(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!Uv(t[n[o]],e[n[o]]))return!1;return!0}var QD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZD={[ND]:XD,[DD]:rC};function Bv(t){return OD(t)?rC:ZD[t.$$typeof]||QD}var eA=Object.defineProperty,tA=Object.getOwnPropertyNames,Wv=Object.getOwnPropertySymbols,nA=Object.getOwnPropertyDescriptor,rA=Object.getPrototypeOf,$v=Object.prototype;function kf(t,e){if(typeof e!="string"){if($v){const l=rA(e);l&&l!==$v&&kf(t,l)}let n=tA(e);Wv&&(n=n.concat(Wv(e)));const i=Bv(t),o=Bv(e);for(let l=0;l<n.length;++l){const u=n[l];if(!JD[u]&&!(o&&o[u])&&!(i&&i[u])){const d=nA(e,u);try{eA(t,u,d)}catch{}}}}return t}var iA=Symbol.for("react-redux-context"),sA=typeof globalThis<"u"?globalThis:{};function oA(){if(!I.createContext)return{};const t=sA[iA]??=new Map;let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var iC=oA(),lA=[null,null];function aA(t,e,n){qa(()=>t(...e),n)}function uA(t,e,n,i,o,l){t.current=i,n.current=!1,o.current&&(o.current=null,l())}function cA(t,e,n,i,o,l,u,d,f,p,v){if(!t)return()=>{};let g=!1,y=null;const w=()=>{if(g||!d.current)return;const b=e.getState();let S,N;try{S=i(b,o.current)}catch(A){N=A,y=A}N||(y=null),S===l.current?u.current||p():(l.current=S,f.current=S,u.current=!0,v())};return n.onStateChange=w,n.trySubscribe(),w(),()=>{if(g=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function dA(t,e){return t===e}function fA(t,e,n,{pure:i,areStatesEqual:o=dA,areOwnPropsEqual:l=Kd,areStatePropsEqual:u=Kd,areMergedPropsEqual:d=Kd,forwardRef:f=!1,context:p=iC}={}){const v=p,g=BD(t),y=UD(e),w=zD(n),E=!!t;return S=>{const N=S.displayName||S.name||"Component",A=`Connect(${N})`,O={shouldHandleStateChanges:E,displayName:A,wrappedComponentName:N,WrappedComponent:S,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:l,areMergedPropsEqual:d};function L(ee){const[ie,_e,ae]=I.useMemo(()=>{const{reactReduxForwardedRef:Et,...wn}=ee;return[ee.context,Et,wn]},[ee]),me=I.useMemo(()=>{let Et=v;return ie?.Consumer,Et},[ie,v]),be=I.useContext(me),Re=!!ee.store&&!!ee.store.getState&&!!ee.store.dispatch,Qe=!!be&&!!be.store,Ue=Re?ee.store:be.store,Ke=Qe?be.getServerState:Ue.getState,Ie=I.useMemo(()=>MD(Ue.dispatch,O),[Ue]),[j,te]=I.useMemo(()=>{if(!E)return lA;const Et=nC(Ue,Re?void 0:be.subscription),wn=Et.notifyNestedSubs.bind(Et);return[Et,wn]},[Ue,Re,be]),K=I.useMemo(()=>Re?be:{...be,subscription:j},[Re,be,j]),x=I.useRef(void 0),M=I.useRef(ae),ue=I.useRef(void 0),ce=I.useRef(!1),ge=I.useRef(!1),ye=I.useRef(void 0);qa(()=>(ge.current=!0,()=>{ge.current=!1}),[]);const xe=I.useMemo(()=>()=>ue.current&&ae===M.current?ue.current:Ie(Ue.getState(),ae),[Ue,ae]),Se=I.useMemo(()=>wn=>j?cA(E,Ue,j,Ie,M,x,ce,ge,ue,te,wn):()=>{},[j]);aA(uA,[M,x,ce,ae,ue,te]);let ke;try{ke=I.useSyncExternalStore(Se,xe,Ke?()=>Ie(Ke(),ae):xe)}catch(Et){throw ye.current&&(Et.message+=`
The error may be correlated with this previous error:
${ye.current.stack}

`),Et}qa(()=>{ye.current=void 0,ue.current=void 0,x.current=ke});const ct=I.useMemo(()=>I.createElement(S,{...ke,ref:_e}),[_e,S,ke]);return I.useMemo(()=>E?I.createElement(me.Provider,{value:K},ct):ct,[me,ct,K])}const V=I.memo(L);if(V.WrappedComponent=S,V.displayName=L.displayName=A,f){const ie=I.forwardRef(function(ae,me){return I.createElement(V,{...ae,reactReduxForwardedRef:me})});return ie.displayName=A,ie.WrappedComponent=S,kf(ie,S)}return kf(V,S)}}var sC=fA;function hA(t){const{children:e,context:n,serverState:i,store:o}=t,l=I.useMemo(()=>{const f=nC(o);return{store:o,subscription:f,getServerState:i?()=>i:void 0}},[o,i]),u=I.useMemo(()=>o.getState(),[o]);qa(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==o.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,u]);const d=n||iC;return I.createElement(d.Provider,{value:l},e)}var pA=hA,mA="Invariant failed";function gA(t,e){throw new Error(mA)}var gn=function(e){var n=e.top,i=e.right,o=e.bottom,l=e.left,u=i-l,d=o-n,f={top:n,right:i,bottom:o,left:l,width:u,height:d,x:l,y:n,center:{x:(i+l)/2,y:(o+n)/2}};return f},Hh=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},zv=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},yA=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Yd={top:0,right:0,bottom:0,left:0},Vh=function(e){var n=e.borderBox,i=e.margin,o=i===void 0?Yd:i,l=e.border,u=l===void 0?Yd:l,d=e.padding,f=d===void 0?Yd:d,p=gn(Hh(n,o)),v=gn(zv(n,u)),g=gn(zv(v,f));return{marginBox:p,borderBox:gn(n),paddingBox:v,contentBox:g,margin:o,border:u,padding:f}},Zt=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var o=Number(n);return isNaN(o)&&gA(),o},vA=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ka=function(e,n){var i=e.borderBox,o=e.border,l=e.margin,u=e.padding,d=yA(i,n);return Vh({borderBox:d,border:o,margin:l,padding:u})},Ya=function(e,n){return n===void 0&&(n=vA()),Ka(e,n)},oC=function(e,n){var i={top:Zt(n.marginTop),right:Zt(n.marginRight),bottom:Zt(n.marginBottom),left:Zt(n.marginLeft)},o={top:Zt(n.paddingTop),right:Zt(n.paddingRight),bottom:Zt(n.paddingBottom),left:Zt(n.paddingLeft)},l={top:Zt(n.borderTopWidth),right:Zt(n.borderRightWidth),bottom:Zt(n.borderBottomWidth),left:Zt(n.borderLeftWidth)};return Vh({borderBox:e,margin:i,padding:o,border:l})},lC=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return oC(n,i)},Ro=function(e){var n=[],i=null,o=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];n=d,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return o.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},o};function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qa.apply(null,arguments)}function aC(t,e){}aC.bind(null,"warn");aC.bind(null,"error");function Ir(){}function _A(t,e){return{...t,...e}}function nn(t,e,n){const i=e.map(o=>{const l=_A(n,o.options);return t.addEventListener(o.eventName,o.fn,l),function(){t.removeEventListener(o.eventName,o.fn,l)}});return function(){i.forEach(l=>{l()})}}const wA="Invariant failed";class Ja extends Error{}Ja.prototype.toString=function(){return this.message};function H(t,e){throw new Ja(wA)}class EA extends Ve.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ir,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof Ja&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=nn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Ja){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const CA=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xa=t=>t+1,SA=t=>`
  You have lifted an item in position ${Xa(t.source.index)}
`,uC=(t,e)=>{const n=t.droppableId===e.droppableId,i=Xa(t.index),o=Xa(e.index);return n?`
      You have moved the item from position ${i}
      to position ${o}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${o}
  `},cC=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,IA=t=>{const e=t.destination;if(e)return uC(t.source,e);const n=t.combine;return n?cC(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Hv=t=>`
  The item has returned to its starting position
  of ${Xa(t.index)}
`,TA=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Hv(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${uC(t.source,e)}
    `:n?`
      You have dropped the item.
      ${cC(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Hv(t.source)}
  `},va={dragHandleUsageInstructions:CA,onDragStart:SA,onDragUpdate:IA,onDragEnd:TA};function bA(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function dC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!bA(t[n],e[n]))return!1;return!0}function ve(t,e){const n=I.useState(()=>({inputs:e,result:t()}))[0],i=I.useRef(!0),o=I.useRef(n),u=i.current||!!(e&&o.current.inputs&&dC(e,o.current.inputs))?o.current:{inputs:e,result:t()};return I.useEffect(()=>{i.current=!1,o.current=u},[u]),u.result}function Z(t,e){return ve(()=>t,e)}const at={x:0,y:0},mt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),zt=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Tr=(t,e)=>t.x===e.x&&t.y===e.y,ss=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),oi=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},xo=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),Vv=(t,e)=>Math.min(...e.map(n=>xo(t,n))),fC=t=>e=>({x:t(e.x),y:t(e.y)});var RA=(t,e)=>{const n=gn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Go=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),jv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],xA={top:0,right:0,bottom:0,left:0},kA=(t,e)=>e?Go(t,e.scroll.diff.displacement):t,PA=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,NA=(t,e)=>e&&e.shouldClipSubject?RA(e.pageMarginBox,t):gn(t);var qi=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const o=kA(t.marginBox,i),l=PA(o,n,e),u=NA(l,i);return{page:t,withPlaceholder:e,active:u}},jh=(t,e)=>{t.frame||H();const n=t.frame,i=zt(e,n.scroll.initial),o=ss(i),l={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:o},max:n.scroll.max}},u=qi({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:u}};function lt(t,e=dC){let n=null;function i(...o){if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;const l=t.apply(this,o);return n={lastResult:l,lastArgs:o,lastThis:this},l}return i.clear=function(){n=null},i}const hC=lt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),pC=lt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Su=lt(t=>Object.values(t)),DA=lt(t=>Object.values(t));var os=lt((t,e)=>DA(e).filter(i=>t===i.descriptor.droppableId).sort((i,o)=>i.descriptor.index-o.descriptor.index));function Gh(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Iu(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Tu=lt((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),AA=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:o})=>{if(!n.isCombineEnabled||!Gh(o))return null;function u(w){const E={type:"COMBINE",combine:{draggableId:w,droppableId:n.descriptor.id}};return{...o,at:E}}const d=o.displaced.all,f=d.length?d[0]:null;if(t)return f?u(f):null;const p=Tu(e,i);if(!f){if(!p.length)return null;const w=p[p.length-1];return u(w.descriptor.id)}const v=p.findIndex(w=>w.descriptor.id===f);v===-1&&H();const g=v-1;if(g<0)return null;const y=p[g];return u(y.descriptor.id)},ls=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const mC={point:at,value:0},ko={invisible:{},visible:{},all:[]},OA={displaced:ko,displacedBy:mC,at:null};var rn=(t,e)=>n=>t<=n&&n<=e,gC=t=>{const e=rn(t.top,t.bottom),n=rn(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const l=e(i.top)||e(i.bottom),u=n(i.left)||n(i.right);if(l&&u)return!0;const f=i.top<t.top&&i.bottom>t.bottom,p=i.left<t.left&&i.right>t.right;return f&&p?!0:f&&u||p&&l}},LA=t=>{const e=rn(t.top,t.bottom),n=rn(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const qh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},yC={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var MA=t=>e=>{const n=rn(e.top,e.bottom),i=rn(e.left,e.right);return o=>t===qh?n(o.top)&&n(o.bottom):i(o.left)&&i(o.right)};const FA=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:at;return Go(t,n)},UA=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,BA=(t,e,n)=>n(e)(t),Kh=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:o})=>{const l=i?FA(t,e):t;return UA(l,e,o)&&BA(l,n,o)},WA=t=>Kh({...t,isVisibleThroughFrameFn:gC}),vC=t=>Kh({...t,isVisibleThroughFrameFn:LA}),$A=t=>Kh({...t,isVisibleThroughFrameFn:MA(t.destination.axis)}),zA=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:o}=e;if(i[t])return!1;const l=o[t];return l?l.shouldAnimate:!0};function HA(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return gn(Hh(n,i))}function Po({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:o,last:l}){return t.reduce(function(d,f){const p=HA(f,n),v=f.descriptor.id;if(d.all.push(v),!WA({target:p,destination:e,viewport:i,withDroppableDisplacement:!0}))return d.invisible[f.descriptor.id]=!0,d;const y=zA(v,l,o),w={draggableId:v,shouldAnimate:y};return d.visible[v]=w,d},{all:[],visible:{},invisible:{}})}function VA(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function Gv({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const o=VA(t,{inHomeList:e});return{displaced:ko,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Za({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:o,last:l,index:u,forceShouldAnimate:d}){const f=ls(t,n);if(u==null)return Gv({insideDestination:e,inHomeList:f,displacedBy:o,destination:n});const p=e.find(E=>E.descriptor.index===u);if(!p)return Gv({insideDestination:e,inHomeList:f,displacedBy:o,destination:n});const v=Tu(t,e),g=e.indexOf(p),y=v.slice(g);return{displaced:Po({afterDragging:y,destination:n,displacedBy:o,last:l,viewport:i.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:u}}}}function Pr(t,e){return!!e.effected[t]}var jA=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:o})=>{if(!e.isCombineEnabled)return null;const l=i.draggableId,d=n[l].descriptor.index;return Pr(l,o)?t?d:d-1:t?d+1:d},GA=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const o=i.index,l=t?o+1:o-1,u=n[0].descriptor.index,d=n[n.length-1].descriptor.index,f=e?d:d+1;return l<u||l>f?null:l},qA=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:o,insideDestination:l,previousImpact:u,viewport:d,afterCritical:f})=>{const p=u.at;if(p||H(),p.type==="REORDER"){const g=GA({isMovingForward:t,isInHomeList:e,location:p.destination,insideDestination:l});return g==null?null:Za({draggable:n,insideDestination:l,destination:o,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:g})}const v=jA({isMovingForward:t,destination:o,displaced:u.displaced,draggables:i,combine:p.combine,afterCritical:f});return v==null?null:Za({draggable:n,insideDestination:l,destination:o,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:v})},KA=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const o=!!(t.visible[n]||t.invisible[n]);return Pr(n,e)?o?at:ss(i.point):o?i.point:at},YA=({afterCritical:t,impact:e,draggables:n})=>{const i=Iu(e);i||H();const o=i.draggableId,l=n[o].page.borderBox.center,u=KA({displaced:e.displaced,afterCritical:t,combineWith:o,displacedBy:e.displacedBy});return mt(l,u)};const _C=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,QA=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Yh=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,qv=({axis:t,moveRelativeTo:e,isMoving:n})=>oi(t.line,e.marginBox[t.end]+_C(t,n),Yh(t,e.marginBox,n)),Kv=({axis:t,moveRelativeTo:e,isMoving:n})=>oi(t.line,e.marginBox[t.start]-QA(t,n),Yh(t,e.marginBox,n)),JA=({axis:t,moveInto:e,isMoving:n})=>oi(t.line,e.contentBox[t.start]+_C(t,n),Yh(t,e.contentBox,n));var XA=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:o})=>{const l=os(i.descriptor.id,n),u=e.page,d=i.axis;if(!l.length)return JA({axis:d,moveInto:i.page,isMoving:u});const{displaced:f,displacedBy:p}=t,v=f.all[0];if(v){const y=n[v];if(Pr(v,o))return Kv({axis:d,moveRelativeTo:y.page,isMoving:u});const w=Ka(y.page,p.point);return Kv({axis:d,moveRelativeTo:w,isMoving:u})}const g=l[l.length-1];if(g.descriptor.id===e.descriptor.id)return u.borderBox.center;if(Pr(g.descriptor.id,o)){const y=Ka(g.page,ss(o.displacedBy.point));return qv({axis:d,moveRelativeTo:y,isMoving:u})}return qv({axis:d,moveRelativeTo:g.page,isMoving:u})},Pf=(t,e)=>{const n=t.frame;return n?mt(e,n.scroll.diff.displacement):e};const ZA=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:o})=>{const l=e.page.borderBox.center,u=t.at;return!n||!u?l:u.type==="REORDER"?XA({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:o}):YA({impact:t,draggables:i,afterCritical:o})};var bu=t=>{const e=ZA(t),n=t.droppable;return n?Pf(n,e):e},wC=(t,e)=>{const n=zt(e,t.scroll.initial),i=ss(n);return{frame:gn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function Yv(t,e){return t.map(n=>e[n])}function eO(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var tO=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:o})=>{const l=wC(e,mt(e.scroll.current,o)),u=n.frame?jh(n,mt(n.frame.scroll.current,o)):n,d=t.displaced,f=Po({afterDragging:Yv(d.all,i),destination:n,displacedBy:t.displacedBy,viewport:l.frame,last:d,forceShouldAnimate:!1}),p=Po({afterDragging:Yv(d.all,i),destination:u,displacedBy:t.displacedBy,viewport:e.frame,last:d,forceShouldAnimate:!1}),v={},g={},y=[d,f,p];return d.all.forEach(E=>{const b=eO(E,y);if(b){g[E]=b;return}v[E]=!0}),{...t,displaced:{all:d.all,invisible:v,visible:g}}},nO=(t,e)=>mt(t.scroll.diff.displacement,e),Qh=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=nO(n,t),o=zt(i,e.page.borderBox.center);return mt(e.client.borderBox.center,o)},EC=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:l=!1})=>{const u=zt(n,t.page.borderBox.center),f={target:Go(t.page.borderBox,u),destination:e,withDroppableDisplacement:o,viewport:i};return l?$A(f):vC(f)},rO=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:o,viewport:l,previousPageBorderBoxCenter:u,previousClientSelection:d,afterCritical:f})=>{if(!n.isEnabled)return null;const p=os(n.descriptor.id,i),v=ls(e,n),g=AA({isMovingForward:t,draggable:e,destination:n,insideDestination:p,previousImpact:o})||qA({isMovingForward:t,isInHomeList:v,draggable:e,draggables:i,destination:n,insideDestination:p,previousImpact:o,viewport:l,afterCritical:f});if(!g)return null;const y=bu({impact:g,draggable:e,droppable:n,draggables:i,afterCritical:f});if(EC({draggable:e,destination:n,newPageBorderBoxCenter:y,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Qh({pageBorderBoxCenter:y,draggable:e,viewport:l}),impact:g,scrollJumpRequest:null};const E=zt(y,u),b=tO({impact:g,viewport:l,destination:n,draggables:i,maxScrollChange:E});return{clientSelection:d,impact:b,scrollJumpRequest:E}};const It=t=>{const e=t.subject.active;return e||H(),e};var iO=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:o})=>{const l=n.subject.active;if(!l)return null;const u=n.axis,d=rn(l[u.start],l[u.end]),f=Su(i).filter(v=>v!==n).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>gC(o.frame)(It(v))).filter(v=>{const g=It(v);return t?l[u.crossAxisEnd]<g[u.crossAxisEnd]:g[u.crossAxisStart]<l[u.crossAxisStart]}).filter(v=>{const g=It(v),y=rn(g[u.start],g[u.end]);return d(g[u.start])||d(g[u.end])||y(l[u.start])||y(l[u.end])}).sort((v,g)=>{const y=It(v)[u.crossAxisStart],w=It(g)[u.crossAxisStart];return t?y-w:w-y}).filter((v,g,y)=>It(v)[u.crossAxisStart]===It(y[0])[u.crossAxisStart]);if(!f.length)return null;if(f.length===1)return f[0];const p=f.filter(v=>rn(It(v)[u.start],It(v)[u.end])(e[u.line]));return p.length===1?p[0]:p.length>1?p.sort((v,g)=>It(v)[u.start]-It(g)[u.start])[0]:f.sort((v,g)=>{const y=Vv(e,jv(It(v))),w=Vv(e,jv(It(g)));return y!==w?y-w:It(v)[u.start]-It(g)[u.start]})[0]};const Qv=(t,e)=>{const n=t.page.borderBox.center;return Pr(t.descriptor.id,e)?zt(n,e.displacedBy.point):n},sO=(t,e)=>{const n=t.page.borderBox;return Pr(t.descriptor.id,e)?Go(n,ss(e.displacedBy.point)):n};var oO=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:o})=>i.filter(u=>vC({target:sO(u,o),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,d)=>{const f=xo(t,Pf(n,Qv(u,o))),p=xo(t,Pf(n,Qv(d,o)));return f<p?-1:p<f?1:u.descriptor.index-d.descriptor.index})[0]||null,qo=lt(function(e,n){const i=n[e.line];return{value:i,point:oi(e.line,i)}});const lO=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return oi(i.line,e[i.line]);const o=t.subject.page.contentBox[i.size],f=os(t.descriptor.id,n).reduce((p,v)=>p+v.client.marginBox[i.size],0)+e[i.line]-o;return f<=0?null:oi(i.line,f)},CC=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),SC=(t,e,n)=>{const i=t.frame;ls(e,t)&&H(),t.subject.withPlaceholder&&H();const o=qo(t.axis,e.displaceBy).point,l=lO(t,o,n),u={placeholderSize:o,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const v=qi({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return{...t,subject:v}}const d=l?mt(i.scroll.max,l):i.scroll.max,f=CC(i,d),p=qi({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:f});return{...t,subject:p,frame:f}},aO=t=>{const e=t.subject.withPlaceholder;e||H();const n=t.frame;if(!n){const u=qi({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:u}}const i=e.oldFrameMaxScroll;i||H();const o=CC(n,i),l=qi({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return{...t,subject:l,frame:o}};var uO=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:o,destination:l,viewport:u,afterCritical:d})=>{if(!e){if(n.length)return null;const g={displaced:ko,displacedBy:mC,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},y=bu({impact:g,draggable:i,droppable:l,draggables:o,afterCritical:d}),w=ls(i,l)?l:SC(l,i,o);return EC({draggable:i,destination:w,newPageBorderBoxCenter:y,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const f=t[l.axis.line]<=e.page.borderBox.center[l.axis.line],p=(()=>{const g=e.descriptor.index;return e.descriptor.id===i.descriptor.id||f?g:g+1})(),v=qo(l.axis,i.displaceBy);return Za({draggable:i,insideDestination:n,destination:l,viewport:u,displacedBy:v,last:ko,index:p})},cO=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:o,droppables:l,viewport:u,afterCritical:d})=>{const f=iO({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:l,viewport:u});if(!f)return null;const p=os(f.descriptor.id,o),v=oO({pageBorderBoxCenter:e,viewport:u,destination:f,insideDestination:p,afterCritical:d}),g=uO({previousPageBorderBoxCenter:e,destination:f,draggable:n,draggables:o,moveRelativeTo:v,insideDestination:p,viewport:u,afterCritical:d});if(!g)return null;const y=bu({impact:g,draggable:n,droppable:f,draggables:o,afterCritical:d});return{clientSelection:Qh({pageBorderBoxCenter:y,draggable:n,viewport:u}),impact:g,scrollJumpRequest:null}},Ht=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const dO=(t,e)=>{const n=Ht(t);return n?e[n]:null};var fO=({state:t,type:e})=>{const n=dO(t.impact,t.dimensions.droppables),i=!!n,o=t.dimensions.droppables[t.critical.droppable.id],l=n||o,u=l.axis.direction,d=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(d&&!i)return null;const f=e==="MOVE_DOWN"||e==="MOVE_RIGHT",p=t.dimensions.draggables[t.critical.draggable.id],v=t.current.page.borderBoxCenter,{draggables:g,droppables:y}=t.dimensions;return d?rO({isMovingForward:f,previousPageBorderBoxCenter:v,draggable:p,destination:l,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):cO({isMovingForward:f,previousPageBorderBoxCenter:v,draggable:p,isOver:l,draggables:g,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function Yr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function IC(t){const e=rn(t.top,t.bottom),n=rn(t.left,t.right);return function(o){return e(o.y)&&n(o.x)}}function hO(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function pO({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,o=n.map(l=>{const u=l.axis,d=oi(l.axis.line,t.center[u.line],l.page.borderBox.center[u.crossAxisLine]);return{id:l.descriptor.id,distance:xo(i,d)}}).sort((l,u)=>u.distance-l.distance);return o[0]?o[0].id:null}function mO({pageBorderBox:t,draggable:e,droppables:n}){const i=Su(n).filter(o=>{if(!o.isEnabled)return!1;const l=o.subject.active;if(!l||!hO(t,l))return!1;if(IC(l)(t.center))return!0;const u=o.axis,d=l.center[u.crossAxisLine],f=t[u.crossAxisStart],p=t[u.crossAxisEnd],v=rn(l[u.crossAxisStart],l[u.crossAxisEnd]),g=v(f),y=v(p);return!g&&!y?!0:g?f<d:p>d});return i.length?i.length===1?i[0].descriptor.id:pO({pageBorderBox:t,draggable:e,candidates:i}):null}const TC=(t,e)=>gn(Go(t,e));var gO=(t,e)=>{const n=t.frame;return n?TC(e,n.scroll.diff.value):e};function bC({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function yO({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var vO=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:o,viewport:l,afterCritical:u})=>{const d=n.axis,f=qo(n.axis,e.displaceBy),p=f.value,v=t[d.start],g=t[d.end],w=Tu(e,i).find(b=>{const S=b.descriptor.id,N=b.page.borderBox.center[d.line],A=Pr(S,u),O=bC({displaced:o,id:S});return A?O?g<=N:v<N-p:O?g<=N+p:v<N})||null,E=yO({draggable:e,closest:w,inHomeList:ls(e,n)});return Za({draggable:e,insideDestination:i,destination:n,viewport:l,last:o,displacedBy:f,index:E})};const _O=4;var wO=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:o,afterCritical:l})=>{if(!i.isCombineEnabled)return null;const u=i.axis,d=qo(i.axis,t.displaceBy),f=d.value,p=e[u.start],v=e[u.end],y=Tu(t,o).find(E=>{const b=E.descriptor.id,S=E.page.borderBox,A=S[u.size]/_O,O=Pr(b,l),L=bC({displaced:n.displaced,id:b});return O?L?v>S[u.start]+A&&v<S[u.end]-A:p>S[u.start]-f+A&&p<S[u.end]-f-A:L?v>S[u.start]+f+A&&v<S[u.end]+f-A:p>S[u.start]+A&&p<S[u.end]-A});return y?{displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:i.descriptor.id}}}:null},RC=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:o,viewport:l,afterCritical:u})=>{const d=TC(e.page.borderBox,t),f=mO({pageBorderBox:d,draggable:e,droppables:i});if(!f)return OA;const p=i[f],v=os(p.descriptor.id,n),g=gO(p,d);return wO({pageBorderBoxWithDroppableScroll:g,draggable:e,previousImpact:o,destination:p,insideDestination:v,afterCritical:u})||vO({pageBorderBoxWithDroppableScroll:g,draggable:e,destination:p,insideDestination:v,last:o.displaced,viewport:l,afterCritical:u})},Jh=(t,e)=>({...t,[e.descriptor.id]:e});const EO=({previousImpact:t,impact:e,droppables:n})=>{const i=Ht(t),o=Ht(e);if(!i||i===o)return n;const l=n[i];if(!l.subject.withPlaceholder)return n;const u=aO(l);return Jh(n,u)};var CO=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:o})=>{const l=EO({previousImpact:i,impact:o,droppables:n}),u=Ht(o);if(!u)return l;const d=n[u];if(ls(t,d)||d.subject.withPlaceholder)return l;const f=SC(d,t,e);return Jh(l,f)},co=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:o,scrollJumpRequest:l})=>{const u=i||t.viewport,d=n||t.dimensions,f=e||t.current.client.selection,p=zt(f,t.initial.client.selection),v={offset:p,selection:f,borderBoxCenter:mt(t.initial.client.borderBoxCenter,p)},g={selection:mt(v.selection,u.scroll.current),borderBoxCenter:mt(v.borderBoxCenter,u.scroll.current),offset:mt(v.offset,u.scroll.diff.value)},y={client:v,page:g};if(t.phase==="COLLECTING")return{...t,dimensions:d,viewport:u,current:y};const w=d.draggables[t.critical.draggable.id],E=o||RC({pageOffset:g.offset,draggable:w,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),b=CO({draggable:w,impact:E,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables});return{...t,current:y,dimensions:{draggables:d.draggables,droppables:b},impact:E,viewport:u,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function SO(t,e){return t.map(n=>e[n])}var xC=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:o})=>{const l=t.displaced,u=SO(l.all,n),d=Po({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:o,last:l});return{...t,displaced:d}},kC=({impact:t,draggable:e,droppable:n,draggables:i,viewport:o,afterCritical:l})=>{const u=bu({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:l});return Qh({pageBorderBoxCenter:u,draggable:e,viewport:o})},PC=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&H();const i=t.impact,o=n||t.viewport,l=e||t.dimensions,{draggables:u,droppables:d}=l,f=u[t.critical.draggable.id],p=Ht(i);p||H();const v=d[p],g=xC({impact:i,viewport:o,destination:v,draggables:u}),y=kC({impact:g,draggable:f,droppable:v,draggables:u,viewport:o,afterCritical:t.afterCritical});return co({impact:g,clientSelection:y,state:t,dimensions:l,viewport:o})},IO=t=>({index:t.index,droppableId:t.droppableId}),NC=({draggable:t,home:e,draggables:n,viewport:i})=>{const o=qo(e.axis,t.displaceBy),l=os(e.descriptor.id,n),u=l.indexOf(t);u===-1&&H();const d=l.slice(u+1),f=d.reduce((y,w)=>(y[w.descriptor.id]=!0,y),{}),p={inVirtualList:e.descriptor.mode==="virtual",displacedBy:o,effected:f};return{impact:{displaced:Po({afterDragging:d,destination:e,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:IO(t.descriptor)}},afterCritical:p}},TO=(t,e)=>({draggables:t.draggables,droppables:Jh(t.droppables,e)}),bO=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=Ka(t.client,e),o=Ya(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}},RO=t=>{const e=t.frame;return e||H(),e},xO=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(o=>{const l=o.descriptor.droppableId,u=e[l],f=RO(u).scroll.diff.value,p=mt(i,f);return bO({draggable:o,offset:p,initialWindowScroll:n.scroll.initial})})},kO=({state:t,published:e})=>{const n=e.modified.map(N=>{const A=t.dimensions.droppables[N.droppableId];return jh(A,N.scroll)}),i={...t.dimensions.droppables,...hC(n)},o=pC(xO({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),l={...t.dimensions.draggables,...o};e.removals.forEach(N=>{delete l[N]});const u={droppables:i,draggables:l},d=Ht(t.impact),f=d?u.droppables[d]:null,p=u.draggables[t.critical.draggable.id],v=u.droppables[t.critical.droppable.id],{impact:g,afterCritical:y}=NC({draggable:p,home:v,draggables:l,viewport:t.viewport}),w=f&&f.isCombineEnabled?t.impact:g,E=RC({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:w,viewport:t.viewport,afterCritical:y}),b={...t,phase:"DRAGGING",impact:E,onLiftImpact:g,dimensions:u,afterCritical:y,forceShouldAnimate:!1};return t.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Nf=t=>t.movementMode==="SNAP",Qd=(t,e,n)=>{const i=TO(t.dimensions,e);return!Nf(t)||n?co({state:t,dimensions:i}):PC({state:t,dimensions:i})};function Jd(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Jv={phase:"IDLE",completed:null,shouldFlush:!1};var PO=(t=Jv,e)=>{if(e.type==="FLUSH")return{...Jv,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&H();const{critical:n,clientSelection:i,viewport:o,dimensions:l,movementMode:u}=e.payload,d=l.draggables[n.draggable.id],f=l.droppables[n.droppable.id],p={selection:i,borderBoxCenter:d.client.borderBox.center,offset:at},v={client:p,page:{selection:mt(p.selection,o.scroll.initial),borderBoxCenter:mt(p.selection,o.scroll.initial),offset:mt(p.selection,o.scroll.diff.value)}},g=Su(l.droppables).every(b=>!b.isFixedOnPage),{impact:y,afterCritical:w}=NC({draggable:d,home:f,draggables:l.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:u,dimensions:l,initial:v,current:v,isWindowScrollAllowed:g,impact:y,afterCritical:w,onLiftImpact:y,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&H(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||H(),kO({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Yr(t)||H();const{client:n}=e.payload;return Tr(n,t.current.client.selection)?t:co({state:t,clientSelection:n,impact:Nf(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Jd(t);Yr(t)||H();const{id:n,newScroll:i}=e.payload,o=t.dimensions.droppables[n];if(!o)return t;const l=jh(o,i);return Qd(t,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yr(t)||H();const{id:n,isEnabled:i}=e.payload,o=t.dimensions.droppables[n];o||H(),o.isEnabled===i&&H();const l={...o,isEnabled:i};return Qd(t,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yr(t)||H();const{id:n,isCombineEnabled:i}=e.payload,o=t.dimensions.droppables[n];o||H(),o.isCombineEnabled===i&&H();const l={...o,isCombineEnabled:i};return Qd(t,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Yr(t)||H(),t.isWindowScrollAllowed||H();const n=e.payload.newScroll;if(Tr(t.viewport.scroll.current,n))return Jd(t);const i=wC(t.viewport,n);return Nf(t)?PC({state:t,viewport:i}):co({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Yr(t))return t;const n=e.payload.maxScroll;if(Tr(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&H();const n=fO({state:t,type:e.type});return n?co({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&H(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:o}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||H(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:o,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Te(t,e){return t instanceof Object&&"type"in t&&t.type===e}const NO=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),DO=t=>({type:"LIFT",payload:t}),AO=t=>({type:"INITIAL_PUBLISH",payload:t}),OO=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),LO=()=>({type:"COLLECTION_STARTING",payload:null}),MO=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),FO=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),UO=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),DC=t=>({type:"MOVE",payload:t}),BO=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),WO=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),$O=()=>({type:"MOVE_UP",payload:null}),zO=()=>({type:"MOVE_DOWN",payload:null}),HO=()=>({type:"MOVE_RIGHT",payload:null}),VO=()=>({type:"MOVE_LEFT",payload:null}),Xh=()=>({type:"FLUSH",payload:null}),jO=t=>({type:"DROP_ANIMATE",payload:t}),Zh=t=>({type:"DROP_COMPLETE",payload:t}),AC=t=>({type:"DROP",payload:t}),GO=t=>({type:"DROP_PENDING",payload:t}),OC=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var qO=t=>({getState:e,dispatch:n})=>i=>o=>{if(!Te(o,"LIFT")){i(o);return}const{id:l,clientSelection:u,movementMode:d}=o.payload,f=e();f.phase==="DROP_ANIMATING"&&n(Zh({completed:f.completed})),e().phase!=="IDLE"&&H(),n(Xh()),n(NO({draggableId:l,movementMode:d}));const v={draggableId:l,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:g,dimensions:y,viewport:w}=t.startPublishing(v);n(AO({critical:g,dimensions:y,clientSelection:u,movementMode:d,viewport:w}))},KO=t=>()=>e=>n=>{Te(n,"INITIAL_PUBLISH")&&t.dragging(),Te(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Te(n,"FLUSH")||Te(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const ep={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},No={opacity:{drop:0,combining:.7},scale:{drop:.75}},LC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Gr=`${LC.outOfTheWay}s ${ep.outOfTheWay}`,fo={fluid:`opacity ${Gr}`,snap:`transform ${Gr}, opacity ${Gr}`,drop:t=>{const e=`${t}s ${ep.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Gr}`,placeholder:`height ${Gr}, width ${Gr}, margin ${Gr}`},Xv=t=>Tr(t,at)?void 0:`translate(${t.x}px, ${t.y}px)`,Df={moveTo:Xv,drop:(t,e)=>{const n=Xv(t);if(n)return e?`${n} scale(${No.scale.drop})`:n}},{minDropTime:Af,maxDropTime:MC}=LC,YO=MC-Af,Zv=1500,QO=.6;var JO=({current:t,destination:e,reason:n})=>{const i=xo(t,e);if(i<=0)return Af;if(i>=Zv)return MC;const o=i/Zv,l=Af+YO*o,u=n==="CANCEL"?l*QO:l;return Number(u.toFixed(2))},XO=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:o})=>{const{draggables:l,droppables:u}=n,d=Ht(t),f=d?u[d]:null,p=u[e.descriptor.droppableId],v=kC({impact:t,draggable:e,draggables:l,afterCritical:o,droppable:f||p,viewport:i});return zt(v,e.client.borderBox.center)},ZO=({draggables:t,reason:e,lastImpact:n,home:i,viewport:o,onLiftImpact:l})=>!n.at||e!=="DROP"?{impact:xC({draggables:t,impact:l,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ko},didDropInsideDroppable:!0};const eL=({getState:t,dispatch:e})=>n=>i=>{if(!Te(i,"DROP")){n(i);return}const o=t(),l=i.payload.reason;if(o.phase==="COLLECTING"){e(GO({reason:l}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&H(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||H();const d=o.critical,f=o.dimensions,p=f.draggables[o.critical.draggable.id],{impact:v,didDropInsideDroppable:g}=ZO({reason:l,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),y=g?Gh(v):null,w=g?Iu(v):null,E={index:d.draggable.index,droppableId:d.droppable.id},b={draggableId:p.descriptor.id,type:p.descriptor.type,source:E,reason:l,mode:o.movementMode,destination:y,combine:w},S=XO({impact:v,draggable:p,dimensions:f,viewport:o.viewport,afterCritical:o.afterCritical}),N={critical:o.critical,afterCritical:o.afterCritical,result:b,impact:v};if(!(!Tr(o.current.client.offset,S)||!!b.combine)){e(Zh({completed:N}));return}const O=JO({current:o.current.client.offset,destination:S,reason:l});e(jO({newHomeClientOffset:S,dropDuration:O,completed:N}))};var FC=()=>({x:window.pageXOffset,y:window.pageYOffset});function tL(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function nL({onWindowScroll:t}){function e(){t(FC())}const n=Ro(e),i=tL(n);let o=Ir;function l(){return o!==Ir}function u(){l()&&H(),o=nn(window,[i])}function d(){l()||H(),n.cancel(),o(),o=Ir}return{start:u,stop:d,isActive:l}}const rL=t=>Te(t,"DROP_COMPLETE")||Te(t,"DROP_ANIMATE")||Te(t,"FLUSH"),iL=t=>{const e=nL({onWindowScroll:n=>{t.dispatch(BO({newScroll:n}))}});return n=>i=>{!e.isActive()&&Te(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&rL(i)&&e.stop(),n(i)}};var sL=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),o=l=>{e||n||(e=!0,t(l),clearTimeout(i))};return o.wasCalled=()=>e,o},oL=()=>{const t=[],e=o=>{const l=t.findIndex(d=>d.timerId===o);l===-1&&H();const[u]=t.splice(l,1);u.callback()};return{add:o=>{const l=setTimeout(()=>e(l)),u={timerId:l,callback:o};t.push(u)},flush:()=>{if(!t.length)return;const o=[...t];t.length=0,o.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const lL=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,aL=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,uL=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},eo=(t,e)=>{e()},la=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Xd(t,e,n,i){if(!t){n(i(e));return}const o=sL(n);t(e,{announce:o}),o.wasCalled()||n(i(e))}var cL=(t,e)=>{const n=oL();let i=null;const o=(g,y)=>{i&&H(),eo("onBeforeCapture",()=>{const w=t().onBeforeCapture;w&&w({draggableId:g,mode:y})})},l=(g,y)=>{i&&H(),eo("onBeforeDragStart",()=>{const w=t().onBeforeDragStart;w&&w(la(g,y))})},u=(g,y)=>{i&&H();const w=la(g,y);i={mode:y,lastCritical:g,lastLocation:w.source,lastCombine:null},n.add(()=>{eo("onDragStart",()=>Xd(t().onDragStart,w,e,va.onDragStart))})},d=(g,y)=>{const w=Gh(y),E=Iu(y);i||H();const b=!uL(g,i.lastCritical);b&&(i.lastCritical=g);const S=!lL(i.lastLocation,w);S&&(i.lastLocation=w);const N=!aL(i.lastCombine,E);if(N&&(i.lastCombine=E),!b&&!S&&!N)return;const A={...la(g,i.mode),combine:E,destination:w};n.add(()=>{eo("onDragUpdate",()=>Xd(t().onDragUpdate,A,e,va.onDragUpdate))})},f=()=>{i||H(),n.flush()},p=g=>{i||H(),i=null,eo("onDragEnd",()=>Xd(t().onDragEnd,g,e,va.onDragEnd))};return{beforeCapture:o,beforeStart:l,start:u,update:d,flush:f,drop:p,abort:()=>{if(!i)return;const g={...la(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};p(g)}}},dL=(t,e)=>{const n=cL(t,e);return i=>o=>l=>{if(Te(l,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(Te(l,"INITIAL_PUBLISH")){const d=l.payload.critical;n.beforeStart(d,l.payload.movementMode),o(l),n.start(d,l.payload.movementMode);return}if(Te(l,"DROP_COMPLETE")){const d=l.payload.completed.result;n.flush(),o(l),n.drop(d);return}if(o(l),Te(l,"FLUSH")){n.abort();return}const u=i.getState();u.phase==="DRAGGING"&&n.update(u.critical,u.impact)}};const fL=t=>e=>n=>{if(!Te(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&H(),t.dispatch(Zh({completed:i.completed}))},hL=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return o=>l=>{if((Te(l,"FLUSH")||Te(l,"DROP_COMPLETE")||Te(l,"DROP_ANIMATION_FINISHED"))&&i(),o(l),!Te(l,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(OC())}};n=requestAnimationFrame(()=>{n=null,e=nn(window,[u])})}};var pL=t=>()=>e=>n=>{(Te(n,"DROP_COMPLETE")||Te(n,"FLUSH")||Te(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},mL=t=>{let e=!1;return()=>n=>i=>{if(Te(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(Te(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Te(i,"DROP_COMPLETE")){e=!1;const o=i.payload.completed.result;o.combine&&t.tryShiftRecord(o.draggableId,o.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const gL=t=>Te(t,"DROP_COMPLETE")||Te(t,"DROP_ANIMATE")||Te(t,"FLUSH");var yL=t=>e=>n=>i=>{if(gL(i)){t.stop(),n(i);return}if(Te(i,"INITIAL_PUBLISH")){n(i);const o=e.getState();o.phase!=="DRAGGING"&&H(),t.start(o);return}n(i),t.scroll(e.getState())};const vL=t=>e=>n=>{if(e(n),!Te(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(AC({reason:i.reason})))},_L=ZE;var wL=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:o,autoScroller:l})=>XE(PO,_L(yD(KO(n),pL(t),qO(t),eL,fL,hL,vL,yL(l),iL,mL(e),dL(i,o))));const Zd=()=>({additions:{},removals:{},modified:{}});function EL({registry:t,callbacks:e}){let n=Zd(),i=null;const o=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:f,removals:p,modified:v}=n,g=Object.keys(f).map(E=>t.draggable.getById(E).getDimension(at)).sort((E,b)=>E.descriptor.index-b.descriptor.index),y=Object.keys(v).map(E=>{const S=t.droppable.getById(E).callbacks.getScrollWhileDragging();return{droppableId:E,scroll:S}}),w={additions:g,removals:Object.keys(p),modified:y};n=Zd(),e.publish(w)}))};return{add:f=>{const p=f.descriptor.id;n.additions[p]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],o()},remove:f=>{const p=f.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=Zd())}}}var UC=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const o=zt({x:e,y:t},{x:i,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},BC=()=>{const t=document.documentElement;return t||H(),t},WC=()=>{const t=BC();return UC({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},CL=()=>{const t=FC(),e=WC(),n=t.y,i=t.x,o=BC(),l=o.clientWidth,u=o.clientHeight,d=i+l,f=n+u;return{frame:gn({top:n,left:i,right:d,bottom:f}),scroll:{initial:t,current:t,max:e,diff:{value:at,displacement:at}}}},SL=({critical:t,scrollOptions:e,registry:n})=>{const i=CL(),o=i.scroll.current,l=t.droppable,u=n.droppable.getAllByType(l.type).map(v=>v.callbacks.getDimensionAndWatchScroll(o,e)),d=n.draggable.getAllByType(t.draggable.type).map(v=>v.getDimension(o));return{dimensions:{draggables:pC(d),droppables:hC(u)},critical:t,viewport:i}};function e_(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var IL=(t,e)=>{let n=null;const i=EL({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),o=(y,w)=>{t.droppable.exists(y)||H(),n&&e.updateDroppableIsEnabled({id:y,isEnabled:w})},l=(y,w)=>{n&&(t.droppable.exists(y)||H(),e.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:w}))},u=(y,w)=>{n&&(t.droppable.exists(y)||H(),e.updateDroppableScroll({id:y,newScroll:w}))},d=(y,w)=>{n&&t.droppable.getById(y).callbacks.scroll(w)},f=()=>{if(!n)return;i.stop();const y=n.critical.droppable;t.droppable.getAllByType(y.type).forEach(w=>w.callbacks.dragStopped()),n.unsubscribe(),n=null},p=y=>{n||H();const w=n.critical.draggable;y.type==="ADDITION"&&e_(t,w,y.value)&&i.add(y.value),y.type==="REMOVAL"&&e_(t,w,y.value)&&i.remove(y.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:l,scrollDroppable:d,updateDroppableScroll:u,startPublishing:y=>{n&&H();const w=t.draggable.getById(y.draggableId),E=t.droppable.getById(w.descriptor.droppableId),b={draggable:w.descriptor,droppable:E.descriptor},S=t.subscribe(p);return n={critical:b,unsubscribe:S},SL({critical:b,registry:t,scrollOptions:y.scrollOptions})},stopPublishing:f}},$C=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",TL=t=>{window.scrollBy(t.x,t.y)};const bL=lt(t=>Su(t).filter(e=>!(!e.isEnabled||!e.frame))),RL=(t,e)=>bL(e).find(i=>(i.frame||H(),IC(i.frame.pageMarginBox)(t)))||null;var xL=({center:t,destination:e,droppables:n})=>{if(e){const o=n[e];return o.frame?o:null}return RL(t,n)};const Do={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var kL=(t,e,n=()=>Do)=>{const i=n(),o=t[e.size]*i.startFromPercentage,l=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:l}},zC=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},tp=1,PL=(t,e,n=()=>Do)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return tp;const l=1-zC({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),u=i.maxPixelScroll*i.ease(l);return Math.ceil(u)},NL=(t,e,n)=>{const i=n(),o=i.durationDampening.accelerateAt,l=i.durationDampening.stopDampeningAt,u=e,d=l,p=Date.now()-u;if(p>=l)return t;if(p<o)return tp;const v=zC({startOfRange:o,endOfRange:d,current:p}),g=t*i.ease(v);return Math.ceil(g)},t_=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const l=PL(t,e,o);return l===0?0:i?Math.max(NL(l,n,o),tp):l},n_=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=kL(t,i,l);return e[i.end]<e[i.start]?t_({distanceToEdge:e[i.end],thresholds:u,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:l}):-1*t_({distanceToEdge:e[i.start],thresholds:u,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:l})},DL=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,o=e.width>t.width;return!o&&!i?n:o&&i?null:{x:o?0:n.x,y:i?0:n.y}};const AL=fC(t=>t===0?0:t);var HC=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},d=n_({container:e,distanceToEdges:u,dragStartTime:t,axis:qh,shouldUseTimeDampening:o,getAutoScrollerOptions:l}),f=n_({container:e,distanceToEdges:u,dragStartTime:t,axis:yC,shouldUseTimeDampening:o,getAutoScrollerOptions:l}),p=AL({x:f,y:d});if(Tr(p,at))return null;const v=DL({container:e,subject:n,proposedScroll:p});return v?Tr(v,at)?null:v:null};const OL=fC(t=>t===0?0:t>0?1:-1),np=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const o=mt(e,i),l={x:t(o.x,n.x),y:t(o.y,n.y)};return Tr(l,at)?null:l}})(),VC=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},o=OL(n),l=np({max:i,current:e,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},rp=(t,e)=>VC({current:t.scroll.current,max:t.scroll.max,change:e}),LL=(t,e)=>{if(!rp(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return np({current:i,max:n,change:e})},ip=(t,e)=>{const n=t.frame;return n?VC({current:n.scroll.current,max:n.scroll.max,change:e}):!1},ML=(t,e)=>{const n=t.frame;return!n||!ip(t,e)?null:np({current:n.scroll.current,max:n.scroll.max,change:e})};var FL=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=HC({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:l});return u&&rp(t,u)?u:null},UL=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:l})=>{const u=t.frame;if(!u)return null;const d=HC({dragStartTime:i,container:u.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:l});return d&&ip(t,d)?d:null},r_=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:l})=>{const u=t.current.page.borderBoxCenter,f=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const g=t.viewport,y=FL({dragStartTime:e,viewport:g,subject:f,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:l});if(y){i(y);return}}const p=xL({center:u,destination:Ht(t.impact),droppables:t.dimensions.droppables});if(!p)return;const v=UL({dragStartTime:e,droppable:p,subject:f,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:l});v&&o(p.descriptor.id,v)},BL=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Do})=>{const i=Ro(t),o=Ro(e);let l=null;const u=p=>{l||H();const{shouldUseTimeDampening:v,dragStartTime:g}=l;r_({state:p,scrollWindow:i,scrollDroppable:o,dragStartTime:g,shouldUseTimeDampening:v,getAutoScrollerOptions:n})};return{start:p=>{l&&H();const v=Date.now();let g=!1;const y=()=>{g=!0};r_({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),l={dragStartTime:v,shouldUseTimeDampening:g},g&&u(p)},stop:()=>{l&&(i.cancel(),o.cancel(),l=null)},scroll:u}},WL=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(d,f)=>{const p=mt(d.current.client.selection,f);t({client:p})},o=(d,f)=>{if(!ip(d,f))return f;const p=ML(d,f);if(!p)return e(d.descriptor.id,f),null;const v=zt(f,p);return e(d.descriptor.id,v),zt(f,v)},l=(d,f,p)=>{if(!d||!rp(f,p))return p;const v=LL(f,p);if(!v)return n(p),null;const g=zt(p,v);return n(g),zt(p,g)};return d=>{const f=d.scrollJumpRequest;if(!f)return;const p=Ht(d.impact);p||H();const v=o(d.dimensions.droppables[p],f);if(!v)return;const g=d.viewport,y=l(d.isWindowScrollAllowed,g,v);y&&i(d,y)}},$L=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const o=BL({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),l=WL({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:f=>{if(!(i().disabled||f.phase!=="DRAGGING")){if(f.movementMode==="FLUID"){o.scroll(f);return}f.scrollJumpRequest&&l(f)}},start:o.start,stop:o.stop}};const Ki="data-rfd",Yi=(()=>{const t=`${Ki}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Of=(()=>{const t=`${Ki}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),zL=(()=>{const t=`${Ki}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),i_={contextId:`${Ki}-scroll-container-context-id`},HL=t=>e=>`[${e}="${t}"]`,to=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),VL="pointer-events: none;";var jL=t=>{const e=HL(t),n=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Yi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:VL,dropAnimating:d}}})(),i=(()=>{const d=`
      transition: ${fo.outOfTheWay};
    `;return{selector:e(Of.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:e(zL.contextId),styles:{always:"overflow-anchor: none;"}},u=[i,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:to(u,"always"),resting:to(u,"resting"),dragging:to(u,"dragging"),dropAnimating:to(u,"dropAnimating"),userCancel:to(u,"userCancel")}};const Vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,ef=()=>{const t=document.querySelector("head");return t||H(),t},s_=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function GL(t,e){const n=ve(()=>jL(t),[t]),i=I.useRef(null),o=I.useRef(null),l=Z(lt(g=>{const y=o.current;y||H(),y.textContent=g}),[]),u=Z(g=>{const y=i.current;y||H(),y.textContent=g},[]);Vt(()=>{!i.current&&!o.current||H();const g=s_(e),y=s_(e);return i.current=g,o.current=y,g.setAttribute(`${Ki}-always`,t),y.setAttribute(`${Ki}-dynamic`,t),ef().appendChild(g),ef().appendChild(y),u(n.always),l(n.resting),()=>{const w=E=>{const b=E.current;b||H(),ef().removeChild(b),E.current=null};w(i),w(o)}},[e,u,l,n.always,n.resting,t]);const d=Z(()=>l(n.dragging),[l,n.dragging]),f=Z(g=>{if(g==="DROP"){l(n.dropAnimating);return}l(n.userCancel)},[l,n.dropAnimating,n.userCancel]),p=Z(()=>{o.current&&l(n.resting)},[l,n.resting]);return ve(()=>({dragging:d,dropping:f,resting:p}),[d,f,p])}function jC(t,e){return Array.from(t.querySelectorAll(e))}var GC=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Ru(t){return t instanceof GC(t).HTMLElement}function qL(t,e){const n=`[${Yi.contextId}="${t}"]`,i=jC(document,n);if(!i.length)return null;const o=i.find(l=>l.getAttribute(Yi.draggableId)===e);return!o||!Ru(o)?null:o}function KL(t){const e=I.useRef({}),n=I.useRef(null),i=I.useRef(null),o=I.useRef(!1),l=Z(function(y,w){const E={id:y,focus:w};return e.current[y]=E,function(){const S=e.current;S[y]!==E&&delete S[y]}},[]),u=Z(function(y){const w=qL(t,y);w&&w!==document.activeElement&&w.focus()},[t]),d=Z(function(y,w){n.current===y&&(n.current=w)},[]),f=Z(function(){i.current||o.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const y=n.current;y&&u(y)}))},[u]),p=Z(function(y){n.current=null;const w=document.activeElement;w&&w.getAttribute(Yi.draggableId)===y&&(n.current=y)},[]);return Vt(()=>(o.current=!0,function(){o.current=!1;const y=i.current;y&&cancelAnimationFrame(y)}),[]),ve(()=>({register:l,tryRecordFocus:p,tryRestoreFocusRecorded:f,tryShiftRecord:d}),[l,p,f,d])}function YL(){const t={draggables:{},droppables:{}},e=[];function n(g){return e.push(g),function(){const w=e.indexOf(g);w!==-1&&e.splice(w,1)}}function i(g){e.length&&e.forEach(y=>y(g))}function o(g){return t.draggables[g]||null}function l(g){const y=o(g);return y||H(),y}const u={register:g=>{t.draggables[g.descriptor.id]=g,i({type:"ADDITION",value:g})},update:(g,y)=>{const w=t.draggables[y.descriptor.id];w&&w.uniqueId===g.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[g.descriptor.id]=g)},unregister:g=>{const y=g.descriptor.id,w=o(y);w&&g.uniqueId===w.uniqueId&&(delete t.draggables[y],t.droppables[g.descriptor.droppableId]&&i({type:"REMOVAL",value:g}))},getById:l,findById:o,exists:g=>!!o(g),getAllByType:g=>Object.values(t.draggables).filter(y=>y.descriptor.type===g)};function d(g){return t.droppables[g]||null}function f(g){const y=d(g);return y||H(),y}const p={register:g=>{t.droppables[g.descriptor.id]=g},unregister:g=>{const y=d(g.descriptor.id);y&&g.uniqueId===y.uniqueId&&delete t.droppables[g.descriptor.id]},getById:f,findById:d,exists:g=>!!d(g),getAllByType:g=>Object.values(t.droppables).filter(y=>y.descriptor.type===g)};function v(){t.draggables={},t.droppables={},e.length=0}return{draggable:u,droppable:p,subscribe:n,clean:v}}function QL(){const t=ve(YL,[]);return I.useEffect(()=>function(){t.clean()},[t]),t}var sp=Ve.createContext(null),eu=()=>{const t=document.body;return t||H(),t};const JL={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},XL=t=>`rfd-announcement-${t}`;function ZL(t){const e=ve(()=>XL(t),[t]),n=I.useRef(null);return I.useEffect(function(){const l=document.createElement("div");return n.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),Qa(l.style,JL),eu().appendChild(l),function(){setTimeout(function(){const f=eu();f.contains(l)&&f.removeChild(l),l===n.current&&(n.current=null)})}},[e]),Z(o=>{const l=n.current;if(l){l.textContent=o;return}},[])}const eM={separator:"::"};function op(t,e=eM){const n=Ve.useId();return ve(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function tM({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function nM({contextId:t,text:e}){const n=op("hidden-text",{separator:"-"}),i=ve(()=>tM({contextId:t,uniqueId:n}),[n,t]);return I.useEffect(function(){const l=document.createElement("div");return l.id=i,l.textContent=e,l.style.display="none",eu().appendChild(l),function(){const d=eu();d.contains(l)&&d.removeChild(l)}},[i,e]),i}var xu=Ve.createContext(null);function qC(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),e}function rM(){let t=null;function e(){return!!t}function n(u){return u===t}function i(u){t&&H();const d={abandon:u};return t=d,d}function o(){t||H(),t=null}function l(){t&&(t.abandon(),o())}return{isClaimed:e,isActive:n,claim:i,release:o,tryAbandon:l}}function Ao(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const iM=9,sM=13,lp=27,KC=32,oM=33,lM=34,aM=35,uM=36,cM=37,dM=38,fM=39,hM=40,pM={[sM]:!0,[iM]:!0};var YC=t=>{pM[t.keyCode]&&t.preventDefault()};const ku=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),QC=0,o_=5;function mM(t,e){return Math.abs(e.x-t.x)>=o_||Math.abs(e.y-t.y)>=o_}const l_={type:"IDLE"};function gM({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:o=>{const{button:l,clientX:u,clientY:d}=o;if(l!==QC)return;const f={x:u,y:d},p=n();if(p.type==="DRAGGING"){o.preventDefault(),p.actions.move(f);return}p.type!=="PENDING"&&H();const v=p.point;if(!mM(v,f))return;o.preventDefault();const g=p.actions.fluidLift(f);i({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:o=>{const l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){t();return}if(o.keyCode===lp){o.preventDefault(),t();return}YC(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:o=>{const l=n();if(l.type==="IDLE"&&H(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:ku,fn:t}]}function yM(t){const e=I.useRef(l_),n=I.useRef(Ir),i=ve(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==QC||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const y=t.findClosestDraggableId(g);if(!y)return;const w=t.tryGetLock(y,u,{sourceEvent:g});if(!w)return;g.preventDefault();const E={x:g.clientX,y:g.clientY};n.current(),p(w,E)}}),[t]),o=ve(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const g=t.findClosestDraggableId(v);if(!g)return;const y=t.findOptionsForDraggable(g);y&&(y.shouldRespectForcePress||t.canGetLock(g)&&v.preventDefault())}}),[t]),l=Z(function(){const g={passive:!1,capture:!0};n.current=nn(window,[o,i],g)},[o,i]),u=Z(()=>{e.current.type!=="IDLE"&&(e.current=l_,n.current(),l())},[l]),d=Z(()=>{const v=e.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),f=Z(function(){const g={capture:!0,passive:!1},y=gM({cancel:d,completed:u,getPhase:()=>e.current,setPhase:w=>{e.current=w}});n.current=nn(window,y,g)},[d,u]),p=Z(function(g,y){e.current.type!=="IDLE"&&H(),e.current={type:"PENDING",point:y,actions:g},f()},[f]);Vt(function(){return l(),function(){n.current()}},[l])}function vM(){}const _M={[lM]:!0,[oM]:!0,[uM]:!0,[aM]:!0};function wM(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===lp){o.preventDefault(),n();return}if(o.keyCode===KC){o.preventDefault(),i();return}if(o.keyCode===hM){o.preventDefault(),t.moveDown();return}if(o.keyCode===dM){o.preventDefault(),t.moveUp();return}if(o.keyCode===fM){o.preventDefault(),t.moveRight();return}if(o.keyCode===cM){o.preventDefault(),t.moveLeft();return}if(_M[o.keyCode]){o.preventDefault();return}YC(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ku,fn:n}]}function EM(t){const e=I.useRef(vM),n=ve(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==KC)return;const u=t.findClosestDraggableId(l);if(!u)return;const d=t.tryGetLock(u,v,{sourceEvent:l});if(!d)return;l.preventDefault();let f=!0;const p=d.snapLift();e.current();function v(){f||H(),f=!1,e.current(),i()}e.current=nn(window,wM(p,v),{capture:!0,passive:!1})}}),[t]),i=Z(function(){const l={passive:!1,capture:!0};e.current=nn(window,[n],l)},[n]);Vt(function(){return i(),function(){e.current()}},[i])}const tf={type:"IDLE"},CM=120,SM=.15;function IM({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===lp&&n.preventDefault(),t()}},{eventName:ku,fn:t}]}function TM({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;const{clientX:l,clientY:u}=i.touches[0],d={x:l,y:u};i.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const o=n();o.type==="IDLE"&&H();const l=i.touches[0];if(!l||!(l.force>=SM))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:ku,fn:t}]}function bM(t){const e=I.useRef(tf),n=I.useRef(Ir),i=Z(function(){return e.current},[]),o=Z(function(w){e.current=w},[]),l=ve(()=>({eventName:"touchstart",fn:function(w){if(w.defaultPrevented)return;const E=t.findClosestDraggableId(w);if(!E)return;const b=t.tryGetLock(E,d,{sourceEvent:w});if(!b)return;const S=w.touches[0],{clientX:N,clientY:A}=S,O={x:N,y:A};n.current(),g(b,O)}}),[t]),u=Z(function(){const w={capture:!0,passive:!1};n.current=nn(window,[l],w)},[l]),d=Z(()=>{const y=e.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),o(tf),n.current(),u())},[u,o]),f=Z(()=>{const y=e.current;d(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[d]),p=Z(function(){const w={capture:!0,passive:!1},E={cancel:f,completed:d,getPhase:i},b=nn(window,TM(E),w),S=nn(window,IM(E),w);n.current=function(){b(),S()}},[f,i,d]),v=Z(function(){const w=i();w.type!=="PENDING"&&H();const E=w.actions.fluidLift(w.point);o({type:"DRAGGING",actions:E,hasMoved:!1})},[i,o]),g=Z(function(w,E){i().type!=="IDLE"&&H();const b=setTimeout(v,CM);o({type:"PENDING",point:E,actions:w,longPressTimerId:b}),p()},[p,i,o,v]);Vt(function(){return u(),function(){n.current();const E=i();E.type==="PENDING"&&(clearTimeout(E.longPressTimerId),o(tf))}},[i,u,o]),Vt(function(){return nn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const RM=["input","button","textarea","select","option","optgroup","video","audio"];function JC(t,e){if(e==null)return!1;if(RM.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:JC(t,e.parentElement)}function xM(t,e){const n=e.target;return Ru(n)?JC(t,n):!1}var kM=t=>gn(t.getBoundingClientRect()).center;function PM(t){return t instanceof GC(t).Element}const NM=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function XC(t,e){return t==null?null:t[NM](e)?t:XC(t.parentElement,e)}function DM(t,e){return t.closest?t.closest(e):XC(t,e)}function AM(t){return`[${Yi.contextId}="${t}"]`}function OM(t,e){const n=e.target;if(!PM(n))return null;const i=AM(t),o=DM(n,i);return!o||!Ru(o)?null:o}function LM(t,e){const n=OM(t,e);return n?n.getAttribute(Yi.draggableId):null}function MM(t,e){const n=`[${Of.contextId}="${t}"]`,o=jC(document,n).find(l=>l.getAttribute(Of.id)===e);return!o||!Ru(o)?null:o}function FM(t){t.preventDefault()}function aa({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function ZC({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const o=n.draggable.findById(i);return!(!o||!o.options.isEnabled||!$C(e.getState(),i))}function UM({lockAPI:t,contextId:e,store:n,registry:i,draggableId:o,forceSensorStop:l,sourceEvent:u}){if(!ZC({lockAPI:t,store:n,registry:i,draggableId:o}))return null;const f=i.draggable.getById(o),p=MM(e,f.descriptor.id);if(!p||u&&!f.options.canDragInteractiveElements&&xM(p,u))return null;const v=t.claim(l||Ir);let g="PRE_DRAG";function y(){return f.options.shouldRespectForcePress}function w(){return t.isActive(v)}function E($,V){aa({expected:$,phase:g,isLockActive:w,shouldWarn:!0})&&n.dispatch(V())}const b=E.bind(null,"DRAGGING");function S($){function V(){t.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(V(),H()),n.dispatch(DO($.liftActionArgs)),g="DRAGGING";function ee(ie,_e={shouldBlockNextClick:!1}){if($.cleanup(),_e.shouldBlockNextClick){const ae=nn(window,[{eventName:"click",fn:FM,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ae)}V(),n.dispatch(AC({reason:ie}))}return{isActive:()=>aa({expected:"DRAGGING",phase:g,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:y,drop:ie=>ee("DROP",ie),cancel:ie=>ee("CANCEL",ie),...$.actions}}function N($){const V=Ro(ie=>{b(()=>DC({client:ie}))});return{...S({liftActionArgs:{id:o,clientSelection:$,movementMode:"FLUID"},cleanup:()=>V.cancel(),actions:{move:V}}),move:V}}function A(){const $={moveUp:()=>b($O),moveRight:()=>b(HO),moveDown:()=>b(zO),moveLeft:()=>b(VO)};return S({liftActionArgs:{id:o,clientSelection:kM(p),movementMode:"SNAP"},cleanup:Ir,actions:$})}function O(){aa({expected:"PRE_DRAG",phase:g,isLockActive:w,shouldWarn:!0})&&t.release()}return{isActive:()=>aa({expected:"PRE_DRAG",phase:g,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:N,snapLift:A,abort:O}}const BM=[yM,EM,bM];function WM({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:o}){const l=[...o?BM:[],...i||[]],u=I.useState(()=>rM())[0],d=Z(function(S,N){Ao(S)&&!Ao(N)&&u.tryAbandon()},[u]);Vt(function(){let S=e.getState();return e.subscribe(()=>{const A=e.getState();d(S,A),S=A})},[u,e,d]),Vt(()=>u.tryAbandon,[u.tryAbandon]);const f=Z(b=>ZC({lockAPI:u,registry:n,store:e,draggableId:b}),[u,n,e]),p=Z((b,S,N)=>UM({lockAPI:u,registry:n,contextId:t,store:e,draggableId:b,forceSensorStop:S||null,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null}),[t,u,n,e]),v=Z(b=>LM(t,b),[t]),g=Z(b=>{const S=n.draggable.findById(b);return S?S.options:null},[n.draggable]),y=Z(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Xh()))},[u,e]),w=Z(()=>u.isClaimed(),[u]),E=ve(()=>({canGetLock:f,tryGetLock:p,findClosestDraggableId:v,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:w}),[f,p,v,g,y,w]);for(let b=0;b<l.length;b++)l[b](E)}const $M=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Vf.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),zM=t=>({...Do,...t.autoScrollerOptions,durationDampening:{...Do.durationDampening,...t.autoScrollerOptions}});function no(t){return t.current||H(),t.current}function HM(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:o,dragHandleUsageInstructions:l}=t,u=I.useRef(null),d=qC(t),f=Z(()=>$M(d.current),[d]),p=Z(()=>zM(d.current),[d]),v=ZL(e),g=nM({contextId:e,text:l}),y=GL(e,o),w=Z(ae=>{no(u).dispatch(ae)},[]),E=ve(()=>Av({publishWhileDragging:OO,updateDroppableScroll:MO,updateDroppableIsEnabled:FO,updateDroppableIsCombineEnabled:UO,collectionStarting:LO},w),[w]),b=QL(),S=ve(()=>IL(b,E),[b,E]),N=ve(()=>$L({scrollWindow:TL,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:p,...Av({move:DC},w)}),[S.scrollDroppable,w,p]),A=KL(e),O=ve(()=>wL({announce:v,autoScroller:N,dimensionMarshal:S,focusMarshal:A,getResponders:f,styleMarshal:y}),[v,N,S,A,f,y]);u.current=O;const L=Z(()=>{const ae=no(u);ae.getState().phase!=="IDLE"&&ae.dispatch(Xh())},[]),$=Z(()=>{const ae=no(u).getState();return ae.phase==="DROP_ANIMATING"?!0:ae.phase==="IDLE"?!1:ae.isDragging},[]),V=ve(()=>({isDragging:$,tryAbort:L}),[$,L]);n(V);const ee=Z(ae=>$C(no(u).getState(),ae),[]),ie=Z(()=>Yr(no(u).getState()),[]),_e=ve(()=>({marshal:S,focus:A,contextId:e,canLift:ee,isMovementAllowed:ie,dragHandleUsageInstructionsId:g,registry:b}),[e,S,g,A,ee,ie,b]);return WM({contextId:e,store:O,registry:b,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),I.useEffect(()=>L,[L]),Ve.createElement(xu.Provider,{value:_e},Ve.createElement(pA,{context:sp,store:O},t.children))}function VM(){return Ve.useId()}function jM(t){const e=VM(),n=t.dragHandleUsageInstructions||va.dragHandleUsageInstructions;return Ve.createElement(EA,null,i=>Ve.createElement(HM,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const a_={dragging:5e3,dropAnimating:4500},GM=(t,e)=>e?fo.drop(e.duration):t?fo.snap:fo.fluid,qM=(t,e)=>{if(t)return e?No.opacity.drop:No.opacity.combining},KM=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function YM(t){const n=t.dimension.client,{offset:i,combineWith:o,dropping:l}=t,u=!!o,d=KM(t),f=!!l,p=f?Df.drop(i,u):Df.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:GM(d,l),transform:p,opacity:qM(u,f),zIndex:f?a_.dropAnimating:a_.dragging,pointerEvents:"none"}}function QM(t){return{transform:Df.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function JM(t){return t.type==="DRAGGING"?YM(t):QM(t)}function XM(t,e,n=at){const i=window.getComputedStyle(e),o=e.getBoundingClientRect(),l=oC(o,i),u=Ya(l,n),d={client:l,tagName:e.tagName.toLowerCase(),display:i.display},f={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:d,displaceBy:f,client:l,page:u}}function ZM(t){const e=op("draggable"),{descriptor:n,registry:i,getDraggableRef:o,canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:d}=t,f=ve(()=>({canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:d}),[l,d,u]),p=Z(w=>{const E=o();return E||H(),XM(n,E,w)},[n,o]),v=ve(()=>({uniqueId:e,descriptor:n,options:f,getDimension:p}),[n,p,f,e]),g=I.useRef(v),y=I.useRef(!0);Vt(()=>(i.draggable.register(g.current),()=>i.draggable.unregister(g.current)),[i.draggable]),Vt(()=>{if(y.current){y.current=!1;return}const w=g.current;g.current=v,i.draggable.update(v,w)},[v,i.draggable])}var ap=Ve.createContext(null);function tu(t){const e=I.useContext(t);return e||H(),e}function eF(t){t.preventDefault()}const tF=t=>{const e=I.useRef(null),n=Z((V=null)=>{e.current=V},[]),i=Z(()=>e.current,[]),{contextId:o,dragHandleUsageInstructionsId:l,registry:u}=tu(xu),{type:d,droppableId:f}=tu(ap),p=ve(()=>({id:t.draggableId,index:t.index,type:d,droppableId:f}),[t.draggableId,t.index,d,f]),{children:v,draggableId:g,isEnabled:y,shouldRespectForcePress:w,canDragInteractiveElements:E,isClone:b,mapped:S,dropAnimationFinished:N}=t;if(!b){const V=ve(()=>({descriptor:p,registry:u,getDraggableRef:i,canDragInteractiveElements:E,shouldRespectForcePress:w,isEnabled:y}),[p,u,i,E,w,y]);ZM(V)}const A=ve(()=>y?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:eF}:null,[o,l,g,y]),O=Z(V=>{S.type==="DRAGGING"&&S.dropping&&V.propertyName==="transform"&&Vf.flushSync(N)},[N,S]),L=ve(()=>{const V=JM(S),ee=S.type==="DRAGGING"&&S.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":g,style:V,onTransitionEnd:ee},dragHandleProps:A}},[o,A,g,S,O,n]),$=ve(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return Ve.createElement(Ve.Fragment,null,v(L,S.snapshot,$))};var eS=(t,e)=>t===e,tS=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const nF=t=>t.combine?t.combine.draggableId:null,rF=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function iF(){const t=lt((o,l)=>({x:o,y:l})),e=lt((o,l,u=null,d=null,f=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!f,dropAnimation:f,mode:o,draggingOver:u,combineWith:d,combineTargetFor:null})),n=lt((o,l,u,d,f=null,p=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:p,mode:l,offset:o,dimension:u,forceShouldAnimate:v,snapshot:e(l,d,f,p,null)}}));return(o,l)=>{if(Ao(o)){if(o.critical.draggable.id!==l.draggableId)return null;const u=o.current.client.offset,d=o.dimensions.draggables[l.draggableId],f=Ht(o.impact),p=rF(o.impact),v=o.forceShouldAnimate;return n(t(u.x,u.y),o.movementMode,d,l.isClone,f,p,v)}if(o.phase==="DROP_ANIMATING"){const u=o.completed;if(u.result.draggableId!==l.draggableId)return null;const d=l.isClone,f=o.dimensions.draggables[l.draggableId],p=u.result,v=p.mode,g=tS(p),y=nF(p),E={duration:o.dropDuration,curve:ep.drop,moveTo:o.newHomeClientOffset,opacity:y?No.opacity.drop:null,scale:y?No.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:f,dropping:E,draggingOver:g,combineWith:y,mode:v,forceShouldAnimate:null,snapshot:e(v,d,g,y,E)}}}return null}}function nS(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const sF={mapped:{type:"SECONDARY",offset:at,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nS(null)}};function oF(){const t=lt((u,d)=>({x:u,y:d})),e=lt(nS),n=lt((u,d=null,f)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:d,shouldAnimateDisplacement:f,snapshot:e(d)}})),i=u=>u?n(at,u,!0):null,o=(u,d,f,p)=>{const v=f.displaced.visible[u],g=!!(p.inVirtualList&&p.effected[u]),y=Iu(f),w=y&&y.draggableId===u?d:null;if(!v){if(!g)return i(w);if(f.displaced.invisible[u])return null;const S=ss(p.displacedBy.point),N=t(S.x,S.y);return n(N,w,!0)}if(g)return i(w);const E=f.displacedBy.point,b=t(E.x,E.y);return n(b,w,v.shouldAnimate)};return(u,d)=>{if(Ao(u))return u.critical.draggable.id===d.draggableId?null:o(d.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const f=u.completed;return f.result.draggableId===d.draggableId?null:o(d.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null}}const lF=()=>{const t=iF(),e=oF();return(i,o)=>t(i,o)||e(i,o)||sF},aF={dropAnimationFinished:OC},uF=sC(lF,aF,null,{context:sp,areStatePropsEqual:eS})(tF);function rS(t){return tu(ap).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ve.createElement(uF,t)}function cF(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return Ve.createElement(rS,Qa({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const iS=t=>e=>t===e,dF=iS("scroll"),fF=iS("auto"),u_=(t,e)=>e(t.overflowX)||e(t.overflowY),hF=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return u_(n,dF)||u_(n,fF)},pF=()=>!1,sS=t=>t==null?null:t===document.body?pF()?t:null:t===document.documentElement?null:hF(t)?t:sS(t.parentElement);var Lf=t=>({x:t.scrollLeft,y:t.scrollTop});const oS=t=>t?window.getComputedStyle(t).position==="fixed"?!0:oS(t.parentElement):!1;var mF=t=>{const e=sS(t),n=oS(t);return{closestScrollable:e,isFixedOnPage:n}},gF=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:o,client:l,page:u,closest:d})=>{const f=(()=>{if(!d)return null;const{scrollSize:y,client:w}=d,E=UC({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:w.paddingBox.height,width:w.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:w,scrollSize:y,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:E,diff:{value:at,displacement:at}}}})(),p=o==="vertical"?qh:yC,v=qi({page:u,withPlaceholder:null,axis:p,frame:f});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:p,isEnabled:e,client:l,page:u,frame:f,subject:v}};const yF=(t,e)=>{const n=lC(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,o=n.paddingBox.left-e.scrollLeft,l=i+e.scrollHeight,u=o+e.scrollWidth,f=Hh({top:i,right:u,bottom:l,left:o},n.border);return Vh({borderBox:f,margin:n.margin,border:n.border,padding:n.padding})};var vF=({ref:t,descriptor:e,env:n,windowScroll:i,direction:o,isDropDisabled:l,isCombineEnabled:u,shouldClipSubject:d})=>{const f=n.closestScrollable,p=yF(t,f),v=Ya(p,i),g=(()=>{if(!f)return null;const w=lC(f),E={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:w,page:Ya(w,i),scroll:Lf(f),scrollSize:E,shouldClipSubject:d}})();return gF({descriptor:e,isEnabled:!l,isCombineEnabled:u,isFixedOnPage:n.isFixedOnPage,direction:o,client:p,page:v,closest:g})};const _F={passive:!1},wF={passive:!0};var c_=t=>t.shouldPublishImmediately?_F:wF;const ua=t=>t&&t.env.closestScrollable||null;function EF(t){const e=I.useRef(null),n=tu(xu),i=op("droppable"),{registry:o,marshal:l}=n,u=qC(t),d=ve(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),f=I.useRef(d),p=ve(()=>lt((L,$)=>{e.current||H();const V={x:L,y:$};l.updateDroppableScroll(d.id,V)}),[d.id,l]),v=Z(()=>{const L=e.current;return!L||!L.env.closestScrollable?at:Lf(L.env.closestScrollable)},[]),g=Z(()=>{const L=v();p(L.x,L.y)},[v,p]),y=ve(()=>Ro(g),[g]),w=Z(()=>{const L=e.current,$=ua(L);if(L&&$||H(),L.scrollOptions.shouldPublishImmediately){g();return}y()},[y,g]),E=Z((L,$)=>{e.current&&H();const V=u.current,ee=V.getDroppableRef();ee||H();const ie=mF(ee),_e={ref:ee,descriptor:d,env:ie,scrollOptions:$};e.current=_e;const ae=vF({ref:ee,descriptor:d,env:ie,windowScroll:L,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),me=ie.closestScrollable;return me&&(me.setAttribute(i_.contextId,n.contextId),me.addEventListener("scroll",w,c_(_e.scrollOptions))),ae},[n.contextId,d,w,u]),b=Z(()=>{const L=e.current,$=ua(L);return L&&$||H(),Lf($)},[]),S=Z(()=>{const L=e.current;L||H();const $=ua(L);e.current=null,$&&(y.cancel(),$.removeAttribute(i_.contextId),$.removeEventListener("scroll",w,c_(L.scrollOptions)))},[w,y]),N=Z(L=>{const $=e.current;$||H();const V=ua($);V||H(),V.scrollTop+=L.y,V.scrollLeft+=L.x},[]),A=ve(()=>({getDimensionAndWatchScroll:E,getScrollWhileDragging:b,dragStopped:S,scroll:N}),[S,E,b,N]),O=ve(()=>({uniqueId:i,descriptor:d,callbacks:A}),[A,d,i]);Vt(()=>(f.current=O.descriptor,o.droppable.register(O),()=>{e.current&&S(),o.droppable.unregister(O)}),[A,d,S,O,l,o.droppable]),Vt(()=>{e.current&&l.updateDroppableIsEnabled(f.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Vt(()=>{e.current&&l.updateDroppableIsCombineEnabled(f.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function nf(){}const d_={width:0,height:0,margin:xA},CF=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?d_:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},SF=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=CF({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?fo.placeholder:null}},IF=t=>{const e=I.useRef(null),n=Z(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:o,onClose:l,contextId:u}=t,[d,f]=I.useState(t.animate==="open");I.useEffect(()=>d?i!=="open"?(n(),f(!1),nf):e.current?nf:(e.current=setTimeout(()=>{e.current=null,f(!1)}),n):nf,[i,d,n]);const p=Z(g=>{g.propertyName==="height"&&(o(),i==="close"&&l())},[i,l,o]),v=SF({isAnimatingOpenOnMount:d,animate:t.animate,placeholder:t.placeholder});return Ve.createElement(t.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":u,onTransitionEnd:p,ref:t.innerRef})};var TF=Ve.memo(IF);class bF extends Ve.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const RF=t=>{const e=I.useContext(xu);e||H();const{contextId:n,isMovementAllowed:i}=e,o=I.useRef(null),l=I.useRef(null),{children:u,droppableId:d,type:f,mode:p,direction:v,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:w,snapshot:E,useClone:b,updateViewportMaxScroll:S,getContainerForClone:N}=t,A=Z(()=>o.current,[]),O=Z((me=null)=>{o.current=me},[]);Z(()=>l.current,[]);const L=Z((me=null)=>{l.current=me},[]),$=Z(()=>{i()&&S({maxScroll:WC()})},[i,S]);EF({droppableId:d,type:f,mode:p,direction:v,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:g,getDroppableRef:A});const V=ve(()=>Ve.createElement(bF,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:me,data:be,animate:Re})=>Ve.createElement(TF,{placeholder:be,onClose:me,innerRef:L,animate:Re,contextId:n,onTransitionEnd:$})),[n,$,t.placeholder,t.shouldAnimatePlaceholder,L]),ee=ve(()=>({innerRef:O,placeholder:V,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":n}}),[n,d,V,O]),ie=b?b.dragging.draggableId:null,_e=ve(()=>({droppableId:d,type:f,isUsingCloneFor:ie}),[d,ie,f]);function ae(){if(!b)return null;const{dragging:me,render:be}=b,Re=Ve.createElement(rS,{draggableId:me.draggableId,index:me.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Qe,Ue)=>be(Qe,Ue,me));return jT.createPortal(Re,N())}return Ve.createElement(ap.Provider,{value:_e},u(ee,E),ae())};function xF(){return document.body||H(),document.body}const f_={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xF},lS=t=>{let e={...t},n;for(n in f_)t[n]===void 0&&(e={...e,[n]:f_[n]});return e},rf=(t,e)=>t===e.droppable.type,h_=(t,e)=>e.draggables[t.draggable.id],kF=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=lt(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),i=lt((l,u,d,f,p,v)=>{const g=p.descriptor.id;if(p.descriptor.droppableId===l){const E=v?{render:v,dragging:n(p.descriptor)}:null,b={isDraggingOver:d,draggingOverWith:d?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:E}}if(!u)return e;if(!f)return t;const w={isDraggingOver:d,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}});return(l,u)=>{const d=lS(u),f=d.droppableId,p=d.type,v=!d.isDropDisabled,g=d.renderClone;if(Ao(l)){const y=l.critical;if(!rf(p,y))return e;const w=h_(y,l.dimensions),E=Ht(l.impact)===f;return i(f,v,E,E,w,g)}if(l.phase==="DROP_ANIMATING"){const y=l.completed;if(!rf(p,y.critical))return e;const w=h_(y.critical,l.dimensions);return i(f,v,tS(y.result)===f,Ht(y.impact)===f,w,g)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const y=l.completed;if(!rf(p,y.critical))return e;const w=Ht(y.impact)===f,E=!!(y.impact.at&&y.impact.at.type==="COMBINE"),b=y.critical.droppable.id===f;return w?E?t:e:b?t:e}return e}},PF={updateViewportMaxScroll:WO},NF=sC(kF,PF,(t,e,n)=>({...lS(n),...t,...e}),{context:sp,areStatePropsEqual:eS})(RF);function DF({user:t}){const[e,n]=I.useState([]),i=iu();I.useEffect(()=>{if(!t)return;const f=ht(pt,`users/${t.uid}/lists`),p=Ua(f,async v=>{const g=v.val()||{},y=Object.keys(g);if(y.length===0){n([]);return}const w=[];for(const E of y){const b=await mE(ht(pt,`lists/${E}`));b.exists()&&w.push({id:E,...b.val()})}n(w)});return()=>p()},[t]);const o=async()=>{await bN(_a)};async function l(){if(!t)return;const f=`List-${e.length+1}`;try{const p=bP(ht(pt,"lists")),v=p.key,g={name:f,groceryList:[],editors:{[t.uid]:{name:t.displayName||""}},createdBy:t.uid,people:[GE(t.displayName?t.displayName:"")],id:v};await en(p,g),await en(ht(pt,`users/${t.uid}/lists/${v}`),!0),n(y=>[...y,{...g}])}catch(p){console.error("Failed to write list:",p)}}async function u(f){if(t)try{await Promise.all([en(ht(pt,`lists/${f}`),null),en(ht(pt,`users/${t.uid}/lists/${f}`),null)])}catch(p){console.error("Failed to delete list:",p)}}async function d(){if(t)try{const f=ht(pt,`users/${t.uid}/lists`),p=Ua(f,async v=>{const g=v.val()||{},y=Object.keys(g);for(const w in y)await Promise.all([en(ht(pt,`lists/${w}`),null),en(ht(pt,`users/${t.uid}/lists/${w}`),null)]);return()=>p()})}catch(f){console.error("Failed to clear lists:",f)}}return G.jsxs("div",{className:"dashboard-container",children:[G.jsx("div",{className:"dashboard-signout-container",children:G.jsx("button",{className:"dashboard-signout-btn",onClick:o,children:"Sign Out"})}),G.jsxs("div",{className:"dashboard-buttons-container",style:{display:"flex",justifyContent:"center",gap:"12px"},children:[G.jsx("div",{className:"dashboard-new-list-btn",onClick:l,children:"New List"}),G.jsx("div",{className:"dashboard-clear-lists-btn",onClick:d,children:"Clear Lists"})]}),G.jsx("div",{className:"list-wrapper",children:G.jsx(jM,{onDragEnd:f=>{if(!f.destination)return;const p=Array.from(e),[v]=p.splice(f.source.index,1);p.splice(f.destination.index,0,v),n(p)},children:G.jsx(NF,{droppableId:"lists",children:f=>G.jsxs("div",{...f.droppableProps,ref:f.innerRef,children:[e.map((p,v)=>G.jsx(cF,{draggableId:p.id,index:v,children:g=>G.jsx("div",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,children:G.jsxs("div",{role:"button",className:"list-card",onClick:()=>i(`/grocery-lists/${p.id}`),children:[G.jsx("h3",{children:p.name}),G.jsx("hr",{}),G.jsx("button",{className:"list-delete-btn",onClick:y=>{u(e[v].id),y.stopPropagation()},children:"Delete List"})]})})},p.id)),f.placeholder]})})})})]})}const AF={apiKey:"AIzaSyBy_J0AN04p13c_WBLzS_s1a1sbEP-eqWM",authDomain:"grocery-list-splitter-e22fb.firebaseapp.com",databaseURL:"https://grocery-list-splitter-e22fb-default-rtdb.firebaseio.com",projectId:"grocery-list-splitter-e22fb",storageBucket:"grocery-list-splitter-e22fb.firebasestorage.app",messagingSenderId:"811064887690",appId:"1:811064887690:web:9b4a8dcccf37f648c96073",measurementId:"G-S4BEG98357"},Pu=G_(AF),pt=LP(Pu),_a=F1(Pu),OF=new Un;function LF(){const[t,e]=I.useState(null),n=async()=>{try{await GN(_a,OF);const i=_a.currentUser;if(!i?.email||!i?.uid)return;const o=QE(Pu);await JE(o,"registerEmail")({email:i.email});const u=i.email.toLowerCase().replace(/\./g,",");console.log("Logged in as:",i.displayName)}catch(i){console.error(i.code,i.message),alert(i.message)}};return I.useEffect(()=>{const i=TN(_a,o=>{e(o)});return()=>i()},[]),t?G.jsx(LT,{children:G.jsxs(dT,{children:[G.jsx(ca,{path:"/",element:G.jsx(uT,{to:"/grocery-lists",replace:!0})}),G.jsx(ca,{path:"/grocery-lists",element:G.jsx(DF,{user:t})}),G.jsx(ca,{path:"/grocery-lists/:listId",element:G.jsx(hD,{user:t})})]})}):G.jsxs("div",{id:"login",style:{justifySelf:"center",marginTop:"20%"},children:[G.jsx("h1",{style:{justifySelf:"center"},children:"Welcome back!"}),G.jsxs("button",{onClick:n,style:{width:"200px",height:"50px",marginLeft:"6%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"17px",borderRadius:"15px"},children:[G.jsx("img",{src:"/grocery-list-splitter/google-logo.png",alt:"Google",style:{width:"10%",height:"40%",marginRight:"10px"}}),"Login With Google"]})]})}const MF=f0.createRoot(document.getElementById("root"));MF.render(G.jsx(Ve.StrictMode,{children:G.jsx(LF,{})}));
